<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#222"><meta name="generator" content="Hexo 3.9.0"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png"><link rel="mask-icon" href="/images/logo.svg" color="#222"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="/lib/font-awesome/css/all.min.css"><script id="hexo-configurations">var NexT=window.NexT||{},CONFIG={hostname:"www.zdaiot.com",root:"/",scheme:"Gemini",version:"7.8.0",exturl:!1,sidebar:{position:"left",display:"post",offset:12,onmobile:!1},copycode:{enable:!0,show_result:!0,style:null},back2top:{enable:!0,sidebar:!0,scrollpercent:!0},bookmark:{enable:!1,color:"#222",save:"auto"},fancybox:!1,mediumzoom:!1,lazyload:!1,pangu:!1,comments:{style:"tabs",active:null,storage:!0,nav:null},algolia:{hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}},localsearch:{enable:!0,trigger:"auto",top_n_per_article:1,unescape:!1,preload:!1},motion:{enable:!0,async:!1,transition:{post_block:"fadeIn",post_header:"slideDownIn",post_body:"slideDownIn",coll_header:"slideLeftIn",sidebar:"slideUpIn"}},path:"search.xml"}</script><meta name="description" content="前言马上要进入研究生了，不能再过浑浑噩噩的日子了，搭建一个小网站，用于记录自己所学的东西。其实，之前在腾讯云1元乞丐版上也搭建过博客，但是呢，只用来扯淡了。这次使用 GitHubPages 和 Hexo 建立自己的博客，希望能够促进自己成长。 下面先介绍为何选择 GitHubPages 和 Hexo 来搭建博客，然后介绍搭建博客的详细过程。 Why GitHub Pages and Hexo因为"><meta name="keywords" content="Hexo,Next,npm"><meta property="og:type" content="article"><meta property="og:title" content="windows下使用hexo搭建博客"><meta property="og:url" content="https://www.zdaiot.com/Linux/博客搭建/windows下使用hexo搭建博客/index.html"><meta property="og:site_name" content="zdaiot"><meta property="og:description" content="前言马上要进入研究生了，不能再过浑浑噩噩的日子了，搭建一个小网站，用于记录自己所学的东西。其实，之前在腾讯云1元乞丐版上也搭建过博客，但是呢，只用来扯淡了。这次使用 GitHubPages 和 Hexo 建立自己的博客，希望能够促进自己成长。 下面先介绍为何选择 GitHubPages 和 Hexo 来搭建博客，然后介绍搭建博客的详细过程。 Why GitHub Pages and Hexo因为"><meta property="og:locale" content="zh-CN"><meta property="og:image" content="https://www.zdaiot.com/Linux/博客搭建/windows下使用hexo搭建博客/509b92d8-5b22-4817-82dc-7a4c7462f42a.png"><meta property="og:image" content="https://www.zdaiot.com/Linux/博客搭建/windows下使用hexo搭建博客/37d38954-cfdb-4e7b-8946-07bccf2e79d5.jpg"><meta property="og:image" content="https://www.zdaiot.com/Linux/博客搭建/windows下使用hexo搭建博客/895b16c5-8bc4-471e-a5a1-b75fbbdacd82.png"><meta property="og:image" content="https://www.zdaiot.com/Linux/博客搭建/windows下使用hexo搭建博客/0.20952592287958516.png"><meta property="og:image" content="https://www.zdaiot.com/Linux/博客搭建/windows下使用hexo搭建博客/0.6472942562508246.png"><meta property="og:image" content="https://www.zdaiot.com/Linux/博客搭建/windows下使用hexo搭建博客/1c6a44c5-49cc-448c-b157-bce18fcf79ad.png"><meta property="og:image" content="https://www.zdaiot.com/Linux/博客搭建/windows下使用hexo搭建博客/0.8974593438872678.png"><meta property="og:image" content="https://www.zdaiot.com/Linux/博客搭建/windows下使用hexo搭建博客/0.028518037899658566.png"><meta property="og:image" content="https://www.zdaiot.com/Linux/博客搭建/windows下使用hexo搭建博客/cd0f9b74-b1c5-41cb-9bad-0210becee0ee.png"><meta property="og:image" content="https://www.zdaiot.com/Linux/博客搭建/windows下使用hexo搭建博客/bf81947f9a3a71970c687a87ea1369b0.PNG"><meta property="og:image" content="https://www.zdaiot.com/Linux/博客搭建/windows下使用hexo搭建博客/4377796.png"><meta property="og:image" content="https://www.zdaiot.com/Linux/博客搭建/windows下使用hexo搭建博客/47382d4d-f4c8-467c-9cab-05520f35d8e2.png"><meta property="og:image" content="https://www.zdaiot.com/Linux/博客搭建/windows下使用hexo搭建博客/0.5062342537519648.png"><meta property="og:image" content="https://www.zdaiot.com/Linux/博客搭建/windows下使用hexo搭建博客/0.8326009627562949.png"><meta property="og:image" content="https://www.zdaiot.com/Linux/博客搭建/windows下使用hexo搭建博客/0.8256698160998008.png"><meta property="og:image" content="https://www.zdaiot.com/Linux/博客搭建/windows下使用hexo搭建博客/0.8905535154192736.png"><meta property="og:image" content="https://www.zdaiot.com/Linux/博客搭建/windows下使用hexo搭建博客/0.41071687116468003.png"><meta property="og:image" content="https://www.zdaiot.com/Linux/博客搭建/windows下使用hexo搭建博客/0.8615030558066876.png"><meta property="og:image" content="https://www.zdaiot.com/Linux/博客搭建/windows下使用hexo搭建博客/d091f2b3-0b39-4b0e-85eb-a356a8305673.png"><meta property="og:image" content="https://www.zdaiot.com/Linux/博客搭建/windows下使用hexo搭建博客/0.36434399903070935.png"><meta property="og:image" content="https://www.zdaiot.com/Linux/博客搭建/windows下使用hexo搭建博客/5b8446c6-7cd0-4d16-b8d1-8ee91be89857.png"><meta property="og:image" content="https://www.zdaiot.com/Linux/博客搭建/windows下使用hexo搭建博客/0.918831051000123.png"><meta property="og:image" content="https://www.zdaiot.com/Linux/博客搭建/windows下使用hexo搭建博客/0.9064574048170653.png"><meta property="og:image" content="https://www.zdaiot.com/Linux/博客搭建/windows下使用hexo搭建博客/0.493928061383506.png"><meta property="og:image" content="https://www.zdaiot.com/Linux/博客搭建/windows下使用hexo搭建博客/5308475-da012d2c0586a1e7.png"><meta property="og:image" content="https://www.zdaiot.com/Linux/博客搭建/windows下使用hexo搭建博客/92ae2dce-2d89-4237-9e23-229e112c7359.png"><meta property="og:image" content="https://www.zdaiot.com/Linux/博客搭建/windows下使用hexo搭建博客/2b66f10d-109b-4812-a02d-8edb04d810e7.png"><meta property="og:image" content="https://www.zdaiot.com/Linux/博客搭建/windows下使用hexo搭建博客/1157148-113e43ab8c258f2b.png"><meta property="og:image" content="https://www.zdaiot.com/Linux/博客搭建/windows下使用hexo搭建博客/b449fdb1-66cd-4c28-9811-c6f30e11e050.png"><meta property="og:image" content="https://www.zdaiot.com/Linux/博客搭建/windows下使用hexo搭建博客/1157148-7936d4034f6ca494.png"><meta property="og:image" content="https://www.zdaiot.com/Linux/博客搭建/windows下使用hexo搭建博客/1157148-fbaa63f6012f3e14.png"><meta property="og:image" content="https://www.zdaiot.com/Linux/博客搭建/windows下使用hexo搭建博客/1157148-114c8869d53c0c1c.png"><meta property="og:image" content="https://www.zdaiot.com/Linux/博客搭建/windows下使用hexo搭建博客/235bf93c-0a14-4a63-abff-aac435d3018e.jpg"><meta property="og:image" content="https://www.zdaiot.com/Linux/博客搭建/windows下使用hexo搭建博客/1cddfd39-e487-4992-8f95-f18779dc56f0.png"><meta property="og:image" content="https://www.zdaiot.com/Linux/博客搭建/windows下使用hexo搭建博客/a7923c1a-aeb1-466f-bf9e-94f0df0d8766.png"><meta property="og:image" content="https://www.zdaiot.com/Linux/博客搭建/windows下使用hexo搭建博客/5308475-0c7e5e61b78dc937.gif"><meta property="og:image" content="https://www.zdaiot.com/Linux/博客搭建/windows下使用hexo搭建博客/0889a51c-7155-4c47-aad0-853d366391be.png"><meta property="og:image" content="https://www.zdaiot.com/Linux/博客搭建/windows下使用hexo搭建博客/24cfeb53-91ab-450d-a1ac-c139677c3bbd.png"><meta property="og:image" content="https://www.zdaiot.com/Linux/博客搭建/windows下使用hexo搭建博客/a2281a47-8d38-41b5-97ef-7da48d102da5.png"><meta property="og:image" content="https://www.zdaiot.com/Linux/博客搭建/windows下使用hexo搭建博客/9399cada-2e3b-497d-a3a9-d7766152ada3.png"><meta property="og:image" content="https://www.zdaiot.com/Linux/博客搭建/windows下使用hexo搭建博客/72576ff1-ec2b-411c-af52-e1c860b7564b.png"><meta property="og:image" content="https://www.zdaiot.com/Linux/博客搭建/windows下使用hexo搭建博客/a5d3be60-dd94-4979-ae18-d09b8f594e15.png"><meta property="og:image" content="https://www.zdaiot.com/Linux/博客搭建/windows下使用hexo搭建博客/bd399de7-db57-4f81-9843-97cdc0d9e491.png"><meta property="og:image" content="https://www.zdaiot.com/Linux/博客搭建/windows下使用hexo搭建博客/9897c7a4-d1c3-4c9c-a2c4-8659b48626d7.png"><meta property="og:image" content="https://www.zdaiot.com/Linux/博客搭建/windows下使用hexo搭建博客/14d8a690-fcf0-4d29-bc65-e120cff702f3.png"><meta property="og:image" content="https://www.zdaiot.com/Linux/博客搭建/windows下使用hexo搭建博客/63362726-b9b3-410c-a54b-736edf716fd5.png"><meta property="og:image" content="https://www.zdaiot.com/Linux/博客搭建/windows下使用hexo搭建博客/3be0452e-895c-4f51-9130-6f81547f023a.png"><meta property="og:image" content="https://www.zdaiot.com/Linux/博客搭建/windows下使用hexo搭建博客/788ab86f-b04d-4c1b-939e-f5d5f359d41e.jpg"><meta property="og:image" content="https://www.zdaiot.com/Linux/博客搭建/windows下使用hexo搭建博客/2155622-409a363274a628421532881994805.jpg"><meta property="og:image" content="https://www.zdaiot.com/Linux/博客搭建/windows下使用hexo搭建博客/d68192a7-d534-4896-9f33-7536c343bf81.png"><meta property="og:image" content="https://www.zdaiot.com/Linux/博客搭建/windows下使用hexo搭建博客/013.gif"><meta property="og:image" content="https://www.zdaiot.com/Linux/博客搭建/windows下使用hexo搭建博客/0.5008629830589639.png"><meta property="og:image" content="https://www.zdaiot.com/Linux/博客搭建/windows下使用hexo搭建博客/0.5335698970748279.png"><meta property="og:image" content="https://www.zdaiot.com/Linux/博客搭建/windows下使用hexo搭建博客/0.7730600690335545.png"><meta property="og:image" content="https://www.zdaiot.com/Linux/博客搭建/windows下使用hexo搭建博客/_u6355_u83B7.PNG"><meta property="og:image" content="https://www.zdaiot.com/Linux/博客搭建/windows下使用hexo搭建博客/fb1a2b0a-0025-461f-a302-3a580171a968.png"><meta property="og:image" content="https://www.zdaiot.com/Linux/博客搭建/windows下使用hexo搭建博客/348400b1-5cec-4b48-85b1-40288fa18d47.png"><meta property="og:image" content="https://www.zdaiot.com/Linux/博客搭建/windows下使用hexo搭建博客/6bcaaca5-d3cc-4c4e-b06b-81803f5c071f.png"><meta property="og:image" content="https://www.zdaiot.com/Linux/博客搭建/windows下使用hexo搭建博客/bb62e487-5839-4abd-a05a-13d3c4abea83.png"><meta property="og:image" content="https://www.zdaiot.com/Linux/博客搭建/windows下使用hexo搭建博客/4effbc2e-5cf1-4a81-a18f-180d3214d755.png"><meta property="og:image" content="https://www.zdaiot.com/Linux/博客搭建/windows下使用hexo搭建博客/35337ef9-4312-41c7-ad16-e99478d2c344.png"><meta property="og:image" content="https://www.zdaiot.com/Linux/博客搭建/windows下使用hexo搭建博客/898529-20170111155446931-1056891532788921234.png"><meta property="og:image" content="https://www.zdaiot.com/Linux/博客搭建/windows下使用hexo搭建博客/898529-20170111155934166-1006871703.png"><meta property="og:image" content="https://www.zdaiot.com/Linux/博客搭建/windows下使用hexo搭建博客/0.8056930453911084.png"><meta property="og:image" content="https://www.zdaiot.com/Linux/博客搭建/windows下使用hexo搭建博客/0.44572250401510294.png"><meta property="og:image" content="https://www.zdaiot.com/Linux/博客搭建/windows下使用hexo搭建博客/95d3a3b1-384a-4a26-935f-523775a0a6ef.jpg"><meta property="og:image" content="https://www.zdaiot.com/Linux/博客搭建/windows下使用hexo搭建博客/02f63796-0be9-424e-bf40-31d939065e1b.png"><meta property="og:updated_time" content="2019-09-21T07:32:55.000Z"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="windows下使用hexo搭建博客"><meta name="twitter:description" content="前言马上要进入研究生了，不能再过浑浑噩噩的日子了，搭建一个小网站，用于记录自己所学的东西。其实，之前在腾讯云1元乞丐版上也搭建过博客，但是呢，只用来扯淡了。这次使用 GitHubPages 和 Hexo 建立自己的博客，希望能够促进自己成长。 下面先介绍为何选择 GitHubPages 和 Hexo 来搭建博客，然后介绍搭建博客的详细过程。 Why GitHub Pages and Hexo因为"><meta name="twitter:image" content="https://www.zdaiot.com/Linux/博客搭建/windows下使用hexo搭建博客/509b92d8-5b22-4817-82dc-7a4c7462f42a.png"><link rel="canonical" href="https://www.zdaiot.com/Linux/博客搭建/windows下使用hexo搭建博客/"><script id="page-configurations">CONFIG.page={sidebar:"",isHome:!1,isPost:!0,lang:"zh-CN"}</script><title>windows下使用hexo搭建博客 | zdaiot</title><script data-pjax>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?0b0b58037319da4959d5a3c014160ccd";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script><noscript><style>.sidebar-inner,.use-motion .brand,.use-motion .collection-header,.use-motion .comments,.use-motion .menu-item,.use-motion .pagination,.use-motion .post-block,.use-motion .post-body,.use-motion .post-header{opacity:initial}.use-motion .site-subtitle,.use-motion .site-title{opacity:initial;top:initial}.use-motion .logo-line-before i{left:initial}.use-motion .logo-line-after i{right:initial}</style></noscript></head><body itemscope itemtype="http://schema.org/WebPage"><div class="container use-motion"><div class="headband"></div><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-container"><div class="site-nav-toggle"><div class="toggle" aria-label="切换导航栏"><span class="toggle-line toggle-line-first"></span><span class="toggle-line toggle-line-middle"></span><span class="toggle-line toggle-line-last"></span></div></div><div class="site-meta"><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span><h1 class="site-title">zdaiot</h1><span class="logo-line-after"><i></i></span></a><p class="site-subtitle" itemprop="description">404NotFound</p></div><div class="site-nav-right"><div class="toggle popup-trigger"><i class="fa fa-search fa-fw fa-lg"></i></div></div></div><nav class="site-nav"><ul id="menu" class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i> 首页</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i> 关于</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i> 标签</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i> 分类</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i> 归档</a></li><li class="menu-item menu-item-search"><a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i> 搜索</a></li></ul></nav><div class="search-pop-overlay"><div class="popup search-popup"><div class="search-header"><span class="search-icon"><i class="fa fa-search"></i></span><div class="search-input-container"> <input autocomplete="off" autocapitalize="off" placeholder="搜索..." spellcheck="false" type="search" class="search-input"></div><span class="popup-btn-close"><i class="fa fa-times-circle"></i></span></div><div id="search-result"><div id="no-result"><i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i></div></div></div></div></div></header><main class="main"><div class="main-inner"><div class="content-wrap"><div class="content post posts-expand"><article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://www.zdaiot.com/Linux/博客搭建/windows下使用hexo搭建博客/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/uploads/avatar.png"><meta itemprop="name" content="zdaiot"><meta itemprop="description" content="404NotFound"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="zdaiot"></span><header class="post-header"><h1 class="post-title" itemprop="name headline"> windows下使用hexo搭建博客<a href="https://github.com/zdaiot/zdaiot.github.io/tree/hexo/source/_posts/Linux/博客搭建/windows下使用hexo搭建博客.md" class="post-edit-link" title="编辑" rel="noopener" target="_blank"><i class="fa fa-pencil-alt"></i></a></h1><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i></span> <span class="post-meta-item-text">发表于</span> <time title="创建时间：2018-07-28 19:48:16" itemprop="dateCreated datePublished" datetime="2018-07-28T19:48:16+08:00">2018-07-28</time></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar-check"></i></span> <span class="post-meta-item-text">更新于</span> <time title="修改时间：2019-09-21 15:32:55" itemprop="dateModified" datetime="2019-09-21T15:32:55+08:00">2019-09-21</time></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-folder"></i></span> <span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Linux/" itemprop="url" rel="index"><span itemprop="name">Linux</span></a></span> ， <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Linux/博客搭建/" itemprop="url" rel="index"><span itemprop="name">博客搭建</span></a></span></span><span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv" style="display:none"><span class="post-meta-item-icon"><i class="eye"></i></span> <span class="post-meta-item-text">阅读次数：</span><span id="busuanzi_value_page_pv"></span></span><br><span class="post-meta-item" title="本文字数"><span class="post-meta-item-icon"><i class="far fa-file-word"></i></span> <span class="post-meta-item-text">本文字数：</span> <span>60k</span></span><span class="post-meta-item" title="阅读时长"><span class="post-meta-item-icon"><i class="far fa-clock"></i></span> <span class="post-meta-item-text">阅读时长 &asymp;</span> <span>55 分钟</span></span></div></header><div class="post-body" itemprop="articleBody"><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>马上要进入研究生了，不能再过浑浑噩噩的日子了，搭建一个小网站，用于记录自己所学的东西。其实，之前在腾讯云1元乞丐版上也搭建过博客，但是呢，只用来扯淡了。这次使用 GitHubPages 和 Hexo 建立自己的博客，希望能够促进自己成长。</p><p>下面先介绍为何选择 GitHubPages 和 Hexo 来搭建博客，然后介绍搭建博客的详细过程。</p><h2 id="Why-GitHub-Pages-and-Hexo"><a href="#Why-GitHub-Pages-and-Hexo" class="headerlink" title="Why GitHub Pages and Hexo"></a>Why GitHub Pages and Hexo</h2><p>因为 GitHub 的存在，我们得以简单快速地搭建个人博客。</p><p><strong>GitHub</strong><br>GitHub，是一个代码托管网站和社交编程网站。这里聚集了世界上各路技术牛叉的大牛，和最优秀的代码库。把你的博客托管在这里，还有什么不放心的呢O(∩_∩)O。</p><p><strong>GitHub Pages</strong><br>GitHub Pages，是用来托管 GitHub 上静态网页的免费站点，那 GitHub Pages具体有哪些功能呢：</p><ul><li>有足够的免费空间（1G），资料自己管理，保存可靠；</li><li>享受 GitHub 的便利，上面有很多大牛，眼界会开阔很多；</li><li>可以使用很多现成的博客框架，搭建过程简单快速。</li></ul><p><strong>HEXO</strong></p><p>Hexo 是一个简单、快速、强大的静态博客框架,出自台湾大学生 tommy351 之手。我也看过使用 Jekyll、Octopress 搭建个人博客的过程，确实要繁琐许多。相比之下 Hexo 更轻便更快捷，下面是其官网强调的四大特点：</p><ol><li>极速生成静态页面</li><li>一键部署博客</li><li>丰富的插件支持</li><li>支持 Markdown</li></ol><p>相信大家对 GitHub Pages 和 Hexo 有了一定的了解，下面进入正题。</p><h2 id="准备工作"><a href="#准备工作" class="headerlink" title="准备工作"></a>准备工作</h2><h3 id="注册-GitHub"><a href="#注册-GitHub" class="headerlink" title="注册 GitHub"></a>注册 GitHub</h3><p>访问 GitHub，注册十分简单，一定要记住注册时使用的邮箱，因为 GitHub 上很多通知都是通过邮箱的。如下图所示，框里有各种提示，这里就不多说了：</p><p><img src="/Linux/博客搭建/windows下使用hexo搭建博客/509b92d8-5b22-4817-82dc-7a4c7462f42a.png" alt></p><p>申请成功后，在 GitHub 官网上登录，并验证邮箱即可。</p><h3 id="在-GitHub-上建立仓库"><a href="#在-GitHub-上建立仓库" class="headerlink" title="在 GitHub 上建立仓库"></a>在 GitHub 上建立仓库</h3><p>与 GitHub 建立好连接之后，就可以方便的使用它提供的 Pages 服务，GitHub Pages 分两种，一种是用你的 GitHub 用户名建立的 <a href="http://link.zhihu.com/?target=http%3A//username.github.io" target="_blank" rel="noopener">http://username.github.io</a> 这样的用户&amp;组织站点，另一种是依附项目的 Pages。</p><p>想建立个人博客是用的第一种，形如 <a href="http://link.zhihu.com/?target=http%3A//username.github.io" target="_blank" rel="noopener">http://username.github.io</a> 这样的可访问的站点，每个用户名下面只能建立一个。</p><p>首先，点击右上角的<code>+</code>号，点击 New repository，新建一个仓库</p><p><img src="/Linux/博客搭建/windows下使用hexo搭建博客/37d38954-cfdb-4e7b-8946-07bccf2e79d5.jpg" alt></p><p>然后，在Repository name，填写自己的<code>用户名.github.io</code>，例如我的用户名为zdaiot，则填写<code>zdaiot.github.io</code></p><p><img src="/Linux/博客搭建/windows下使用hexo搭建博客/895b16c5-8bc4-471e-a5a1-b75fbbdacd82.png" alt></p><p>关于 Github 的使用，Crossin先生 也写了一篇通俗易懂的教程，大家可以去看看</p><p><a href="https://zhuanlan.zhihu.com/p/21438729" target="_blank" rel="noopener">极简 Github 上手教程</a></p><h3 id="安装软件"><a href="#安装软件" class="headerlink" title="安装软件"></a>安装软件</h3><p><strong>Node.js</strong></p><p><a href="https://nodejs.org/en/" target="_blank" rel="noopener">Node.js 下载</a></p><p>需要注意的是，建议先下载node-v12.22.6-x64版本，高版本的在<code>hexo d</code>的时候会出错。下载完成后根据提示一步一步安装就好，这个没有什么需要特别说明的。</p><p>另外，换Node.js版本后，要重新<code>hexo clean &amp;&amp; hexo g</code>，否则<code>hexo d</code>的时候无任何东西。</p><p><strong>安装git</strong></p><p><a href="https://www.git-scm.com/download/" target="_blank" rel="noopener">git 下载</a></p><p>下载并安装下面两个软件，一直点击下一步即可。</p><h3 id="配置-SSH"><a href="#配置-SSH" class="headerlink" title="配置 SSH"></a>配置 SSH</h3><p>默认的cmd是没有ssh的，所以我们需要安装ssh：<a href="https://www.mls-software.com/opensshd.html" target="_blank" rel="noopener">https://www.mls-software.com/opensshd.html</a> 下载openssh，安装即可。</p><p>我们如何让本地 git 项目与远程的 GitHub 建立联系呢？方法是用 SSH。打开命令行，输入以下命令：<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh -T git@github.com</span><br></pre></td></tr></table></figure><p></p><p>如图：</p><p><img src="/Linux/博客搭建/windows下使用hexo搭建博客/0.20952592287958516.png" alt></p><p>如果是下面之类的反馈（或者显示 Hi xxx）：<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">The authenticity of host &apos;github.com (207.97.227.239)&apos; can&apos;t be established. RSA key fingerprint is 16:27:ac:a5:76:28:2d:36:63:1b:56:4d:eb:df:a6:48. Are you sure you want to continue connecting (yes/no)?</span><br></pre></td></tr></table></figure><p></p><p>不用紧张，输入 yes 之后,看到下图的结果，就配置成功了。</p><p><img src="/Linux/博客搭建/windows下使用hexo搭建博客/0.6472942562508246.png" alt></p><p>但是，输入yes后，若提示如下图：</p><p><img src="/Linux/博客搭建/windows下使用hexo搭建博客/1c6a44c5-49cc-448c-b157-bce18fcf79ad.png" alt></p><p>极大多数情况是由于github账号没有设置ssh公钥信息所致。 前往 GitHub 网站的”account settings”<br>依次点击”Setting -&gt; SSH Keys”-&gt;”New SSH key”</p><p>Title处填写“id_rsa.pub”或其他任意信息。 key处原样拷贝下面命令的打印 <code>~/.ssh/id_rsa.pub</code> 文件的内容：<br>如果没有该文件<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -t rsa</span><br></pre></td></tr></table></figure><p></p><p>一路回车……</p><p>最后，输入<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh -T git@github.com</span><br></pre></td></tr></table></figure><p></p><p>确认OK即可。</p><h3 id="npm常用指令"><a href="#npm常用指令" class="headerlink" title="npm常用指令"></a>npm常用指令</h3><p>NPM的全称是Node Package Manager，是随同NodeJS一起安装的包管理和分发工具，它很方便让JavaScript开发者下载、安装、上传以及管理已经安装的包。</p><p><strong>安装模块（包）：</strong><br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">//全局安装</span><br><span class="line">npm install 模块名 -g</span><br><span class="line"></span><br><span class="line">//本地安装</span><br><span class="line">npm install 模块名</span><br><span class="line"></span><br><span class="line">//一次性安装多个</span><br><span class="line">npm install 模块1 模块2 模块n --save</span><br><span class="line"></span><br><span class="line">//安装运行时依赖包</span><br><span class="line">npm install 模块名 --save</span><br><span class="line"></span><br><span class="line">//安装开发时依赖包</span><br><span class="line">npm install 模块名 --save-dev</span><br></pre></td></tr></table></figure><p></p><p><strong>查看安装目录：</strong><br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">//查看本地安装的目录</span><br><span class="line">npm root</span><br><span class="line"></span><br><span class="line">//查看全局安装的目录</span><br><span class="line">npm root -g</span><br></pre></td></tr></table></figure><p></p><p><strong>卸载模块（包）：</strong><br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">//卸载本地模块</span><br><span class="line">npm uninstall 模块名</span><br><span class="line"></span><br><span class="line">//卸载全局模块</span><br><span class="line">npm uninstall -g 模块名</span><br></pre></td></tr></table></figure><p></p><blockquote><p><code>install</code>可以简写为<code>i</code>，<code>uninstall</code>可以简写为<code>un</code></p></blockquote><p><strong>更新模块（包）</strong><br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">//更新本地模块</span><br><span class="line">npm update 模块名</span><br><span class="line"></span><br><span class="line">//更新全局模块</span><br><span class="line">npm update 模块名 -g</span><br></pre></td></tr></table></figure><p></p><p><strong>查看当前安装的模块（包）</strong><br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">//查看本地模块</span><br><span class="line">npm ls</span><br><span class="line"></span><br><span class="line">//查看全局模块</span><br><span class="line">npm ls -g</span><br></pre></td></tr></table></figure><p></p><p><strong>查看模块（包）的信息：</strong><br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm info 模块名</span><br></pre></td></tr></table></figure><p></p><p><code>package.json</code>文件的配置说明：<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;name&quot;: &quot;blog&quot;,  //项目名称</span><br><span class="line">  &quot;version&quot;: &quot;0.0.0&quot;,   //版本</span><br><span class="line">  &quot;description&quot;: &quot;&quot;,   //项目描述</span><br><span class="line">  &quot;private&quot;: true,  </span><br><span class="line">  &quot;main&quot;: &quot;index.js&quot;,  //入口文件</span><br><span class="line">  &quot;scripts&quot;: &#123;   //配置一些通用的命令脚本</span><br><span class="line">    &quot;start&quot;: &quot;node ./bin/www&quot;</span><br><span class="line">  &#125;,</span><br><span class="line">  &quot;keywords&quot;: [],  //项目的关键字</span><br><span class="line">  &quot;author&quot;: &quot;&quot;,  //作者</span><br><span class="line">  &quot;dependencies&quot;: &#123;   //开发时的依赖</span><br><span class="line">    &quot;body-parser&quot;: &quot;~1.16.0&quot;,</span><br><span class="line">    &quot;cookie-parser&quot;: &quot;~1.4.3&quot;,</span><br><span class="line">    &quot;debug&quot;: &quot;~2.6.0&quot;,</span><br><span class="line">    &quot;ejs&quot;: &quot;~2.5.5&quot;,</span><br><span class="line">    &quot;express&quot;: &quot;~4.14.1&quot;,</span><br><span class="line">    &quot;morgan&quot;: &quot;~1.7.0&quot;,</span><br><span class="line">    &quot;serve-favicon&quot;: &quot;~2.3.2&quot;</span><br><span class="line">  &#125;,</span><br><span class="line">  &quot;devDependencies&quot;: &#123;   //运行时的依赖</span><br><span class="line">    &quot;express-session&quot;: &quot;^1.15.1&quot;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p></p><p><strong>安装依赖包（两种情况）</strong><br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">//安装运行时依赖</span><br><span class="line">npm install 模块名 --save</span><br><span class="line"></span><br><span class="line">//安装开发时依赖</span><br><span class="line">npm install 模块名 --save-dev</span><br></pre></td></tr></table></figure><p></p><p><strong>注意事项：</strong>加上<code>-g</code>命令后，会在全局安装，模块会被安装到全局路径上(在安装路径<code>C:/Program Files/nodejs/node_modules/npm/npmrc</code>查看)</p><ul><li>npm install xxx:本地安装,将模块下载到当前所在路径中。</li><li>save 参数会在package文件中写入依赖。例如<code>**npm install X –save</code>会在package.json的dependencies属性下添加X。下次直接使用<code>npm install</code>指令即可安装该模块。</li></ul><p><strong>npm更新模块并同步到package.json中</strong></p><p>（1）较麻烦的更新步骤，查看需要更新的版本<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm outdated</span><br></pre></td></tr></table></figure><p></p><p>该命令会列出所有需要更新的项目，修改package.json中需要更新的包对应的版本号<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm update</span><br><span class="line">npm install</span><br></pre></td></tr></table></figure><p></p><p>由于<code>npm update</code>只能按照<code>package.json</code>中指定的版本号进行更新,太繁琐复杂,接下来使用插件更新</p><p>（2）安装<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g npm-check-updates</span><br></pre></td></tr></table></figure><p></p><p>查看需要更新的版本<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm-check-updates</span><br></pre></td></tr></table></figure><p></p><p>可以简写为<code>ncu</code></p><p>该命令会列出需要更新的包，更新<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ncu -a</span><br></pre></td></tr></table></figure><p></p><p>更新包的同时更新<code>package.json</code>文件</p><p>更新node_modules<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install</span><br></pre></td></tr></table></figure><p></p><h2 id="安装Hexo"><a href="#安装Hexo" class="headerlink" title="安装Hexo"></a>安装Hexo</h2><h3 id="Hexo-安装"><a href="#Hexo-安装" class="headerlink" title="Hexo 安装"></a>Hexo 安装</h3><p>更改npm为国内镜像源：<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm config set registry https://registry.npm.taobao.org </span><br><span class="line">npm info underscore</span><br><span class="line">（如果上面配置正确这个命令会有字符串response）</span><br></pre></td></tr></table></figure><p></p><p>打开命令行，依次输入以下命令：<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd /</span><br><span class="line">npm install hexo-cli -g</span><br></pre></td></tr></table></figure><p></p><p>如图：</p><p><img src="/Linux/博客搭建/windows下使用hexo搭建博客/0.8974593438872678.png" alt></p><p>提示：cd / 作用是返回根目录，Git Shell 默认装在 C 盘，启动时默认路径为 C:\Users\xxx(用户名)\Documents\GitHub，输入 cd / 命令后就返回到了 C 盘根目录下，需不需要使用 cd / 看个人习惯（下同）</p><h3 id="部署Hexo"><a href="#部署Hexo" class="headerlink" title="部署Hexo"></a>部署Hexo</h3><p>Hexo 的部署可采用如下方法，输入命令：<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo init [文件名]。</span><br></pre></td></tr></table></figure><p></p><p>打开控制台，依次输入以下命令：<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd /</span><br><span class="line">hexo init Hexo</span><br></pre></td></tr></table></figure><p></p><p>回车后出现该提示则表示正确：</p><p><img src="/Linux/博客搭建/windows下使用hexo搭建博客/0.028518037899658566.png" alt></p><p>若报错，如下图：</p><p><img src="/Linux/博客搭建/windows下使用hexo搭建博客/cd0f9b74-b1c5-41cb-9bad-0210becee0ee.png" alt></p><p>则是因为环境变量设置的原因，如下所示，我们之前有个步骤是 cd /，所以路径如下：</p><p><img src="/Linux/博客搭建/windows下使用hexo搭建博客/bf81947f9a3a71970c687a87ea1369b0.PNG" alt></p><p>添加系统环境变量如下：</p><p><img src="/Linux/博客搭建/windows下使用hexo搭建博客/4377796.png" alt></p><p>添加成功后，即可运行 hexo 指令。</p><p>部署过程中，报错如下：</p><p><img src="/Linux/博客搭建/windows下使用hexo搭建博客/47382d4d-f4c8-467c-9cab-05520f35d8e2.png" alt></p><p>删除掉：<code>C:\Users\&lt;your username&gt;\.config\configstore\insight-bower.yml</code>，在我的这个文件夹下，只有一个文件update-notifier-npm.json，删除掉，在执行上述指令。</p><p>部署成功之后，Hexo 会自动在目标文件夹建立博客网站所需要的所有文件。此时可以通过输入以下命令在本地进行预览（在刚才创建的文件夹里）：<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">C:\&gt;cd /d C:\Hexo</span><br><span class="line">hexo generate</span><br><span class="line">hexo server</span><br></pre></td></tr></table></figure><p></p><p>系统可能会出现提示，请点击允许。如下图所示则表示正确：</p><p><img src="/Linux/博客搭建/windows下使用hexo搭建博客/0.5062342537519648.png" alt></p><p>此时打开浏览器，在浏览器地址栏输入 <a href="http://localhost:4000/" target="_blank" rel="noopener">http://localhost:4000/</a> （默认端口为4000）, 便可以看到最原始的博客了。以后发表博文想先预览，也可以通过 hexo server 在本地先跑起来，看看效果。<br>效果如下图所示：</p><p><img src="/Linux/博客搭建/windows下使用hexo搭建博客/0.8326009627562949.png" alt></p><p>恭喜，到目前为止个人博客的雏形已经有了。</p><p>在 Git Shell 中按 Ctrl + C 并输入 y 可以停止该服务</p><h2 id="将本地文件部署到-GitHub"><a href="#将本地文件部署到-GitHub" class="headerlink" title="将本地文件部署到 GitHub"></a>将本地文件部署到 GitHub</h2><p><strong>修改 Hexo 中的 <code>_config.yml</code> 文件</strong>，在 Hexo 文件夹下找到 <code>_config.yml</code> 文件,如下图所示：</p><p><img src="/Linux/博客搭建/windows下使用hexo搭建博客/0.8256698160998008.png" alt></p><p>找到其中的 deploy 标签，改成下图所示形式，并保存。注意：冒号后面要加上一个空格，否则会报错。<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">deploy:</span><br><span class="line">  type: github</span><br><span class="line">  repository: https://github.com/zdaiot/zdaiot.github.io.git</span><br><span class="line">  branch: master</span><br></pre></td></tr></table></figure><p></p><p><img src="/Linux/博客搭建/windows下使用hexo搭建博客/0.8905535154192736.png" alt></p><p>将其 deploy 到仓库中<br>打开 Git Shell 进入创建的文件夹，依次输入以下命令：<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hexo clean</span><br><span class="line">hexo generate</span><br><span class="line">hexo deploy</span><br></pre></td></tr></table></figure><p></p><p>如果出现下图错误，不要着急：</p><p><img src="/Linux/博客搭建/windows下使用hexo搭建博客/0.41071687116468003.png" alt></p><p>将deploy 的 type 改成 git，即改为：<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">deploy:</span><br><span class="line">  type: git</span><br><span class="line">  repository: https://github.com/zdaiot/zdaiot.github.io.git</span><br></pre></td></tr></table></figure><p></p><p>然后再在 Git Shell 中运行以下命令:<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure><p></p><p>再重新来一遍：<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hexo clean</span><br><span class="line">hexo generate</span><br><span class="line">hexo deploy</span><br></pre></td></tr></table></figure><p></p><p>出现以下提示则表示正确：</p><p><img src="/Linux/博客搭建/windows下使用hexo搭建博客/0.8615030558066876.png" alt></p><p>但是，若报错提示：<code>fatal: Not a git repository (or any of the parent directories): .git</code> 提示说没有.git这样一个目录，则是因为上面没有安装git，就进行安装hexo，安装git软件，重新进行上面步骤</p><p>但是，若出现下面bug：</p><p><img src="/Linux/博客搭建/windows下使用hexo搭建博客/d091f2b3-0b39-4b0e-85eb-a356a8305673.png" alt></p><p>则，将<code>_config.yml</code> 文件中配置改为：<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">deploy:</span><br><span class="line">  type: git</span><br><span class="line">  repository: git@github.com:zdaiot/zdaiot.github.io.git</span><br><span class="line">  branch: master</span><br></pre></td></tr></table></figure><p></p><p>恭喜，到这一步，个人博客就已经部署到 GitHub 上了，你可以到你的GitHub仓库查看是否已经更新。此时，通过<a href="http://your_user_name.github.io（即你那个仓库的名称，形如：&quot;你的" target="_blank" rel="noopener">http://your_user_name.github.io（即你那个仓库的名称，形如：&quot;你的</a> GitHub 用户名”.<a href="http://github.io）" target="_blank" rel="noopener">http://github.io）</a><br>就可以看到你的个人博客了。</p><p>若看不到，则参照下面的步骤，写一篇博客，发表上去！即可看到！</p><p>注意：这里可能会出现这种需要输入账号密码的情况</p><p><img src="/Linux/博客搭建/windows下使用hexo搭建博客/0.36434399903070935.png" alt></p><p>输入github的账号密码就可以了，记住那里输入密码的时候光标是不会移动的，只要你输入了就好，不要以为没输入上：）</p><h2 id="安装Next主题"><a href="#安装Next主题" class="headerlink" title="安装Next主题"></a>安装Next主题</h2><p>下载主题：</p><p>使用 Git Shell 进入 Hexo 文件夹，输入以下两条命令将主题下载到 <code>theme/next</code>文件夹下：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd Hexo</span><br><span class="line">git clone https://github.com/theme-next/hexo-theme-next.git themes/next</span><br></pre></td></tr></table></figure><p>接着按照如下几个步骤进行：</p><ul><li>设置站点<code>Hexo/_config.yml</code>的theme字段值为next</li><li><p>生成静态文件</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo g</span><br></pre></td></tr></table></figure></li><li><p>开启服务，在本地查看效果</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo s --debug</span><br></pre></td></tr></table></figure></li><li><p>同步代码到gitHub</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo d</span><br></pre></td></tr></table></figure></li></ul><p>注：此时登录网站，发现是空白的，打开控制台，提示很多vendors目录下的文件404，解决办法是将next主题下即<code>Hexo/themes/next/source</code>下的vendors目录名改为lib，并修改<code>Hexo/themes/next/_config.yml</code>的<code>_internal: vendors</code>改为<code>_internal: lib</code>。</p><p><strong>参考</strong>：<a href="https://github.com/iissnan/hexo-theme-next/issues/1214" target="_blank" rel="noopener">iissnan的回答</a></p><h2 id="配置Next主题"><a href="#配置Next主题" class="headerlink" title="配置Next主题"></a>配置Next主题</h2><h3 id="风格配置"><a href="#风格配置" class="headerlink" title="风格配置"></a>风格配置</h3><p>通过修改next主题下的<code>_config.yml</code>的scheme字段，配置不同的风格。<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># Schemes</span><br><span class="line">#scheme: Muse</span><br><span class="line">#scheme: Mist</span><br><span class="line">#scheme: Pisces</span><br><span class="line">scheme: Gemini</span><br></pre></td></tr></table></figure><p></p><p>本站点使用的是默认的Gemini，显示效果如下：</p><p><img src="/Linux/博客搭建/windows下使用hexo搭建博客/5b8446c6-7cd0-4d16-b8d1-8ee91be89857.png" alt></p><h3 id="菜单设置"><a href="#菜单设置" class="headerlink" title="菜单设置"></a>菜单设置</h3><p>通过修改next主题下的<code>_config.yml</code>的menu字段，选定显示的菜单项。<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">menu:</span><br><span class="line">  home: / || home</span><br><span class="line">  about: /about/ || user</span><br><span class="line">  tags: /tags/ || tags</span><br><span class="line">  categories: /categories/ || th</span><br><span class="line">  archives: /archives/ || archive</span><br><span class="line">  #schedule: /schedule/ || calendar</span><br><span class="line">  #sitemap: /sitemap.xml || sitemap</span><br><span class="line">  #commonweal: /404/ || heartbeat</span><br></pre></td></tr></table></figure><p></p><p>其中，home代表主页，categories代表分类页，about代表关于页面，archives代表归档页，commonweal代表404页面（page not found时候显示的页面）。</p><h4 id="添加标签页面"><a href="#添加标签页面" class="headerlink" title="添加标签页面"></a>添加标签页面</h4><p>前面通过修改next主题下的<code>_config.yml</code>文件中的menu选项，可以在主页面的菜单栏添加标签选项，但是此时点击标签，跳转的页面会显示page not found。</p><p>添加标签页面的具体方法是：</p><p>新建页面，输入如下命令：<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd Hexo</span><br><span class="line">hexo new page tags</span><br></pre></td></tr></table></figure><p></p><p>输入命令后，在<code>Hexo/source</code>下会新生成一个新的文件夹tags，在该文件夹下会有一个index.md文件。</p><p>设置页面类型，在上步新生成的<code>Hexo/source/tags/index.md</code>中添加type: “tags”，index.md文件内容如下：<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: tags</span><br><span class="line">date: 2018-08-01 00:00:00</span><br><span class="line">type: &quot;tags&quot;</span><br><span class="line">---</span><br></pre></td></tr></table></figure><p></p><p>当要为某一篇文章添加标签，只需在<code>Hexo/source/_post</code>目录下的具体文章的tags中添加标签即可，如：<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: 基于Hexo和Github搭建博客</span><br><span class="line">date: 2018-08-01</span><br><span class="line">tags: [npm, hexo, github]</span><br><span class="line">categories: 搭建博客</span><br><span class="line">---</span><br></pre></td></tr></table></figure><p></p><p>本站添加为标签后的效果如下：</p><p><img src="/Linux/博客搭建/windows下使用hexo搭建博客/0.918831051000123.png" alt></p><h4 id="添加分类标签"><a href="#添加分类标签" class="headerlink" title="添加分类标签"></a>添加分类标签</h4><p>步骤与添加标签页面类似，具体如下：</p><p>新建页面，输入如下命令：<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd Hexo</span><br><span class="line">hexo new page categories</span><br></pre></td></tr></table></figure><p></p><p>输入命令后，在<code>Hexo/source</code>下会新生成一个新的文件夹categories，在该文件夹下会有一个index.md文件。<br>设置页面类型</p><p>在上步新生成的<code>Hexo/source/categories/index.md</code>中添加<code>type: &quot;categories&quot;</code>，index.md文件内容如下：<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: categories</span><br><span class="line">date: 2018-08-01 00:00:00</span><br><span class="line">type: &quot;categories&quot;</span><br><span class="line">---</span><br></pre></td></tr></table></figure><p></p><p>当要为某一篇文章添加分类，只需在<code>Hexo/source/_post</code>目录下的具体文章的categories中添加分类即可，如：<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: 基于Hexo和Github搭建博客</span><br><span class="line">date: 2016-11-09</span><br><span class="line">tags: [npm, hexo, github]</span><br><span class="line">categories: 搭建博客</span><br><span class="line">---</span><br></pre></td></tr></table></figure><p></p><p>本站添加为标签后的效果如下：</p><p><img src="/Linux/博客搭建/windows下使用hexo搭建博客/0.9064574048170653.png" alt></p><h4 id="添加我的页面"><a href="#添加我的页面" class="headerlink" title="添加我的页面"></a>添加我的页面</h4><p>步骤与添加标签页面类似，具体如下：</p><p>新建页面<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd Hexo</span><br><span class="line">hexo new page about</span><br></pre></td></tr></table></figure><p></p><p>输入命令后，在<code>Hexo/source</code>下会新生成一个新的文件夹about，在该文件夹下会有一个index.md文件。<br>修改<code>about/index.md</code>，本站点index.md如下<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: about</span><br><span class="line">date: 2018-08-01 00:00:00</span><br><span class="line">---</span><br><span class="line">## 关于我</span><br><span class="line">一只学AI的小菜鸟，欢迎分享知识。</span><br><span class="line">From zdaiot</span><br><span class="line">QQ：972392704</span><br><span class="line">Email: zdaiot@163.com</span><br></pre></td></tr></table></figure><p></p><p>效果如下：</p><p><img src="/Linux/博客搭建/windows下使用hexo搭建博客/0.493928061383506.png" alt></p><h3 id="语言设置"><a href="#语言设置" class="headerlink" title="语言设置"></a>语言设置</h3><p>若想显示为中文，需要在Hexo根目录下的<code>_config.yml</code> 文件修改，而Next主题下的<code>_config.yml</code> 文件不需要想应的修改<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">language: zh-CN</span><br></pre></td></tr></table></figure><p></p><p>菜单项文本修改是在对next主题下的language文件夹下的文件进行修改，若当前语言是简体中文，直接修改<code>language/zh-CN.yml</code>里的对应字段即可。</p><p>本站点显示主页，分类页，关于页面和归档页。</p><h3 id="头像设置"><a href="#头像设置" class="headerlink" title="头像设置"></a>头像设置</h3><p>使用本地图片,在<code>hexo/source/uploads/</code>下放置头像文件avatar.gif，更改<code>avatar</code>，设置头像边框为圆形框并旋转<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"># Sidebar Avatar</span><br><span class="line">avatar:</span><br><span class="line">  # In theme directory (source/images): /images/avatar.gif</span><br><span class="line">  # In site directory (source/uploads): /uploads/avatar.gif</span><br><span class="line">  # You can also use other linking images.</span><br><span class="line">  url: /uploads/avatar.gif</span><br><span class="line">  # If true, the avatar would be dispalyed in circle.</span><br><span class="line">  rounded: true</span><br><span class="line">  # If true, the avatar would be rotated with the cursor.</span><br><span class="line">  rotated: true</span><br></pre></td></tr></table></figure><p></p><h3 id="头像下方文字和作者设置"><a href="#头像下方文字和作者设置" class="headerlink" title="头像下方文字和作者设置"></a>头像下方文字和作者设置</h3><p>打开<code>Hexo</code>下的<code>_config.yml</code>文件<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># Site</span><br><span class="line">title: zdaiot</span><br><span class="line">subtitle: QS的大西瓜</span><br><span class="line">description: QS的大西瓜</span><br><span class="line">keywords: QS的大西瓜</span><br><span class="line">author: zdaiot</span><br><span class="line">language: zh-CN</span><br><span class="line">timezone:</span><br></pre></td></tr></table></figure><p></p><h3 id="新建404界面"><a href="#新建404界面" class="headerlink" title="新建404界面"></a>新建404界面</h3><ul><li>在站点根目录下,输入 <code>hexo new page 404</code>,默认在<code>Hexo 站点</code>下<code>/source/404/index.md</code></li><li>打开新建的<code>404</code>界面，在顶部插入一行，写上<code>permalink: /404</code>，这表示指定该页固定链接为 <code>http://&quot;主页&quot;/404.html</code></li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: 404-找不到页面</span><br><span class="line">date: 2016-05-21 18:53:59</span><br><span class="line">comments: false</span><br><span class="line">permalink: /404</span><br><span class="line">---</span><br><span class="line">&lt;center&gt;404 Not Found&lt;center&gt;</span><br><span class="line">-------</span><br><span class="line">&lt;center&gt;**对不起，您所访问的页面不存在或者已删除**</span><br><span class="line">你可以**[点击此处](http://www.zdaiot.com)**返回首页。</span><br><span class="line">你也可以&lt;a href=&quot;#&quot; class=&quot;popup-trigger&quot;&gt;**点击此处**&lt;/a&gt;重新搜索结果。&lt;/center&gt;</span><br><span class="line">![网站二维码](/images/website.png)&lt;center&gt;扫一扫，用手机访问本站&lt;center&gt;</span><br></pre></td></tr></table></figure><ul><li>如果你不想编辑属于自己的<code>404</code>界面,可以显示<code>腾讯公益404界面</code>,代码如下：</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE HTML&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">  &lt;meta http-equiv=&quot;content-type&quot; content=&quot;text/html;charset=utf-8;&quot;/&gt;</span><br><span class="line">  &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge,chrome=1&quot; /&gt;</span><br><span class="line">  &lt;meta name=&quot;robots&quot; content=&quot;all&quot; /&gt;</span><br><span class="line">  &lt;meta name=&quot;robots&quot; content=&quot;index,follow&quot;/&gt;</span><br><span class="line">  &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;https://qzone.qq.com/gy/404/style/404style.css&quot;&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;script type=&quot;text/plain&quot; src=&quot;http://www.qq.com/404/search_children.js&quot;</span><br><span class="line">          charset=&quot;utf-8&quot; homePageUrl=&quot;/&quot;</span><br><span class="line">          homePageName=&quot;回到我的主页&quot;&gt;</span><br><span class="line">  &lt;/script&gt;</span><br><span class="line">  &lt;script src=&quot;https://qzone.qq.com/gy/404/data.js&quot; charset=&quot;utf-8&quot;&gt;&lt;/script&gt;</span><br><span class="line">  &lt;script src=&quot;https://qzone.qq.com/gy/404/page.js&quot; charset=&quot;utf-8&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><h3 id="设置首页文章截断"><a href="#设置首页文章截断" class="headerlink" title="设置首页文章截断"></a>设置首页文章截断</h3><p><code>auto_excerpt</code> 可以自动截断文章内容作为摘要。此功能不是一个 Hexo 主题应当负责的，而是应该通过插件来实现。自 7.6.0 版本开始，此功能被移除。可以自行安装<a href="https://github.com/chekun/hexo-excerpt" target="_blank" rel="noopener">第三方插件</a>：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-excerpt --save</span><br></pre></td></tr></table></figure><p>然后在站点的<code>_config.yml</code>文件中设置如下<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">excerpt:</span><br><span class="line">  depth: 5</span><br><span class="line">  excerpt_excludes: []</span><br><span class="line">  more_excludes: []</span><br><span class="line">  hideWholePostExcerpts: true</span><br></pre></td></tr></table></figure><p></p><p>作出以上改动后，请先执行 <code>hexo clean</code></p><h3 id="设置网站的图标Favicon"><a href="#设置网站的图标Favicon" class="headerlink" title="设置网站的图标Favicon"></a>设置网站的图标Favicon</h3><p>实现效果图</p><p><img src="/Linux/博客搭建/windows下使用hexo搭建博客/5308475-da012d2c0586a1e7.png" alt></p><p>并且修改<code>themes/next</code>下的<code>_config.yml</code>文件中，代码如下：<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"># For example, you put your favicons into `hexo-site/source/images` directory.</span><br><span class="line"># Then need to rename &amp; redefine they on any other names, otherwise icons from Next will rewrite your custom icons in Hexo.</span><br><span class="line">favicon:</span><br><span class="line">  small: /images/favicon-16x16-next.png</span><br><span class="line">  medium: /images/favicon-32x32-next.png</span><br><span class="line">  apple_touch_icon: /images/apple-touch-icon-next.png</span><br><span class="line">  safari_pinned_tab: /images/logo.svg</span><br><span class="line">  #android_manifest: /images/manifest.json</span><br><span class="line">  #ms_browserconfig: /images/browserconfig.xml</span><br></pre></td></tr></table></figure><p></p><p>在<a href="http://www.easyicon.net/" target="_blank" rel="noopener">EasyIcon</a>中找一张图标,或者去别的网站下载或者制作，要求按照代码中的大小与格式。并将图标名称改为代码中的名字，然后把图标放在<code>/themes/next/source/images</code>里</p><h3 id="显示返回顶部按钮"><a href="#显示返回顶部按钮" class="headerlink" title="显示返回顶部按钮"></a>显示返回顶部按钮</h3><p>设置侧边栏，显示返回顶部按钮，及百分比。<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">back2top:</span><br><span class="line">  enable: true</span><br><span class="line">  # Back to top in sidebar.</span><br><span class="line">  sidebar: true</span><br><span class="line">  # Scroll percent label in b2t button.</span><br><span class="line">  scrollpercent: true</span><br></pre></td></tr></table></figure><p></p><h3 id="开启订阅微信公众号"><a href="#开启订阅微信公众号" class="headerlink" title="开启订阅微信公众号"></a>开启订阅微信公众号</h3><p>效果如下：</p><p><img src="/Linux/博客搭建/windows下使用hexo搭建博客/92ae2dce-2d89-4237-9e23-229e112c7359.png" alt></p><p>将微信公众号的图片放到<strong>网站目录</strong><code>hexo/source/uploads/</code>文件夹中，若没有该文件夹，新建即可，并把图片重命名为<code>wechat-qcode.jpg</code></p><p>在主题配置文件中，找到<code>wechat_subscriber</code>，设置为：<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">wechat_subscriber:</span><br><span class="line">  enabled: true</span><br><span class="line">  qcode: /uploads/wechat-qcode.jpg</span><br><span class="line">  description: 欢迎您扫一扫上面的微信公众号，订阅我的博客！</span><br></pre></td></tr></table></figure><p></p><p>最新版的主题中，需要如下设置：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># Subscribe through Telegram Channel, Twitter, etc.</span><br><span class="line"># Usage: `Key: permalink || icon` (Font Awesome)</span><br><span class="line">follow_me:</span><br><span class="line">  #Twitter: https://twitter.com/username || fab fa-twitter</span><br><span class="line">  #Telegram: https://t.me/channel_name || fab fa-telegram</span><br><span class="line">  WeChat: /uploads/wechat-qcode.jpg || fab fa-weixin</span><br><span class="line">  #RSS: /atom.xml || fa fa-rss</span><br></pre></td></tr></table></figure><h3 id="添加顶部加载条"><a href="#添加顶部加载条" class="headerlink" title="添加顶部加载条"></a>添加顶部加载条</h3><p>打开<code>themes/next</code>下的<code>_config.yml</code>，搜索关键字<code>pace</code>,设置为<code>true</code>,可以更换加载样式<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"># Progress bar in the top during page loading.</span><br><span class="line"># Dependencies: https://github.com/theme-next/theme-next-pace</span><br><span class="line"># For more information: https://github.com/HubSpot/pace</span><br><span class="line">pace:</span><br><span class="line">  enable: true</span><br><span class="line">  # Themes list:</span><br><span class="line">  # big-counter | bounce | barber-shop | center-atom | center-circle | center-radar | center-simple</span><br><span class="line">  # corner-indicator | fill-left | flat-top | flash | loading-bar | mac-osx | material | minimal</span><br><span class="line">  theme: minimal</span><br></pre></td></tr></table></figure><p></p><p>然后，将 <a href="https://github.com/theme-next/theme-next-pace" target="_blank" rel="noopener">https://github.com/theme-next/theme-next-pace</a> 中的所有文件放到<code>hexo/themes/next/source/lib/pace</code>文件夹中</p><p>如果要使用cdn，需要打开<code>themes/next</code>下的<code>_config.yml</code>，设置对应上面theme的cdn链接。可以在<a href="https://www.jsdelivr.com/package/npm/pace-js?path=themes" target="_blank" rel="noopener">这里</a>找。<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">vendors:</span><br><span class="line">  pace: //cdn.jsdelivr.net/npm/pace-js@1/pace.min.js</span><br><span class="line">  pace_css: //cdn.jsdelivr.net/npm/pace-js@1/themes/blue/pace-theme-minimal.css</span><br></pre></td></tr></table></figure><p></p><h3 id="修改文章底部的那个带-号的标签"><a href="#修改文章底部的那个带-号的标签" class="headerlink" title="修改文章底部的那个带#号的标签"></a>修改文章底部的那个带#号的标签</h3><p>实现效果图</p><p><img src="/Linux/博客搭建/windows下使用hexo搭建博客/2b66f10d-109b-4812-a02d-8edb04d810e7.png" alt></p><p>在<code>next/_config.yml</code>设置<code>tag_icon</code>为<code>true</code></p><h3 id="设置自定义样式"><a href="#设置自定义样式" class="headerlink" title="设置自定义样式"></a>设置自定义样式</h3><h4 id="修改文章内文本连接样式"><a href="#修改文章内文本连接样式" class="headerlink" title="修改文章内文本连接样式"></a>修改文章内文本连接样式</h4><p>打开 <code>hexo/source/_data/styles.styl</code>,添加代码<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">// 文章内链接文本样式</span><br><span class="line">.post-body p a&#123;</span><br><span class="line">  color: #0593d3;</span><br><span class="line">  border-bottom: none;</span><br><span class="line">  border-bottom: 1px solid #0593d3;</span><br><span class="line">  &amp;:hover &#123;</span><br><span class="line">    color: #fc6423;</span><br><span class="line">    border-bottom: none;</span><br><span class="line">    border-bottom: 1px solid #fc6423;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p></p><p>注意这部分设置是在<strong>博客目录</strong>下新建 <code>hexo/source/_data/styles.styl</code>文件，并在<code>next/_config.yml</code>文件中设置<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">custom_file_path:</span><br><span class="line">  style: source/_data/styles.styl</span><br></pre></td></tr></table></figure><p></p><h4 id="主页文章添加阴影效果"><a href="#主页文章添加阴影效果" class="headerlink" title="主页文章添加阴影效果"></a>主页文章添加阴影效果</h4><p>打开<code>hexo/source/_data/styles.styl</code>,向里面加入：<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">// Custom styles.</span><br><span class="line">// 主页文章添加阴影效果</span><br><span class="line"> .post &#123;</span><br><span class="line">   margin-top: 60px;</span><br><span class="line">   margin-bottom: 60px;</span><br><span class="line">   padding: 25px;</span><br><span class="line">   -webkit-box-shadow: 0 0 5px rgba(202, 203, 203, .5);</span><br><span class="line">   -moz-box-shadow: 0 0 5px rgba(202, 203, 204, .5);</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><p></p><p>注意这部分设置是在<strong>博客目录</strong>下新建 <code>hexo/source/_data/styles.styl</code>文件，并在<code>next/_config.yml</code>文件中设置<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">custom_file_path:</span><br><span class="line">  style: source/_data/styles.styl</span><br></pre></td></tr></table></figure><p></p><h4 id="每篇文章末尾统一添加“本文结束”标记"><a href="#每篇文章末尾统一添加“本文结束”标记" class="headerlink" title="每篇文章末尾统一添加“本文结束”标记"></a>每篇文章末尾统一添加“本文结束”标记</h4><p>打开<code>hexo/source/_data/post-body-end.swig</code>,向里面加入：<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;div&gt;</span><br><span class="line">    &#123;% if not is_index %&#125;</span><br><span class="line">        &lt;div style=&quot;text-align:center;color: #ccc;font-size:14px;&quot;&gt; ------ 本文结束------&lt;/div&gt;</span><br><span class="line">    &#123;% endif %&#125;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure><p></p><p>注意这部分设置是在<strong>博客目录</strong>下新建 <code>hexo/source/_data/post-body-end.swig</code>文件，并在<code>next/_config.yml</code>文件中设置<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">custom_file_path:</span><br><span class="line">  postBodyEnd: source/_data/post-body-end.swig</span><br></pre></td></tr></table></figure><p></p><h4 id="在底部添加网站运行时间"><a href="#在底部添加网站运行时间" class="headerlink" title="在底部添加网站运行时间"></a>在底部添加网站运行时间</h4><p>在博客的根目录，新建<code>hexo/source/_data/footer.swig</code>，添加代码<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 在网页底部添加网站运行时间 --&gt;</span><br><span class="line">&lt;span id=&quot;timeDate&quot;&gt;载入天数...&lt;/span&gt;&lt;span id=&quot;times&quot;&gt;载入时分秒...&lt;/span&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    var now = new Date();</span><br><span class="line">    function createtime() &#123;</span><br><span class="line">        var grt= new Date(&quot;08/01/2018 00:00:00&quot;);//此处修改你的建站时间或者网站上线时间</span><br><span class="line">        now.setTime(now.getTime()+250);</span><br><span class="line">        days = (now - grt ) / 1000 / 60 / 60 / 24; dnum = Math.floor(days);</span><br><span class="line">        hours = (now - grt ) / 1000 / 60 / 60 - (24 * dnum); hnum = Math.floor(hours);</span><br><span class="line">        if(String(hnum).length ==1 )&#123;hnum = &quot;0&quot; + hnum;&#125; minutes = (now - grt ) / 1000 /60 - (24 * 60 * dnum) - (60 * hnum);</span><br><span class="line">        mnum = Math.floor(minutes); if(String(mnum).length ==1 )&#123;mnum = &quot;0&quot; + mnum;&#125;</span><br><span class="line">        seconds = (now - grt ) / 1000 - (24 * 60 * 60 * dnum) - (60 * 60 * hnum) - (60 * mnum);</span><br><span class="line">        snum = Math.round(seconds); if(String(snum).length ==1 )&#123;snum = &quot;0&quot; + snum;&#125;</span><br><span class="line">        document.getElementById(&quot;timeDate&quot;).innerHTML = &quot;Run for &quot;+dnum+&quot; Days &quot;;</span><br><span class="line">        document.getElementById(&quot;times&quot;).innerHTML = hnum + &quot; Hours &quot; + mnum + &quot; m &quot; + snum + &quot; s&quot;;</span><br><span class="line">    &#125;</span><br><span class="line">setInterval(&quot;createtime()&quot;,250);</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><p></p><p>在<code>next/_config.yml</code>文件中设置<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">custom_file_path:</span><br><span class="line">  footer: source/_data/footer.swig</span><br></pre></td></tr></table></figure><p></p><h3 id="文章顶部显示更新时间"><a href="#文章顶部显示更新时间" class="headerlink" title="文章顶部显示更新时间"></a>文章顶部显示更新时间</h3><p>打开<code>主题配置</code>文件<code>_config.yml</code>,搜索关键字<code>updated_at</code>设置为<code>true</code><br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># Post meta display settings</span><br><span class="line">post_meta:</span><br><span class="line">  item_text: true</span><br><span class="line">  created_at: true</span><br><span class="line">  updated_at:</span><br><span class="line">    enable: true</span><br><span class="line">    another_day: true</span><br><span class="line">  categories: true</span><br></pre></td></tr></table></figure><p></p><p>编辑文章,增加关键字<code>updated</code><br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: Windows下使用hexo搭建博客</span><br><span class="line">date: 2018-07-29 21:12:14</span><br><span class="line">updated: 2017-7-30 18:18:54 #手动添加更新时间</span><br><span class="line">tags:</span><br><span class="line">copyright: true</span><br><span class="line">---</span><br></pre></td></tr></table></figure><p></p><h3 id="设置可见markdown源代码"><a href="#设置可见markdown源代码" class="headerlink" title="设置可见markdown源代码"></a>设置可见markdown源代码</h3><p>在<code>next/_config.yml</code>文件中，搜索<code>post_edit</code>，设置为：<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># Post edit</span><br><span class="line"># Dependencies: https://github.com/hexojs/hexo-deployer-git</span><br><span class="line">post_edit:</span><br><span class="line">  enable: true</span><br><span class="line">  url: https://github.com/zdaiot/zdaiot.github.io/tree/hexo/source/ # Link for view source</span><br><span class="line">  #url: https://github.com/user-name/repo-name/edit/branch-name/subdirectory-name # Link for fork &amp; edit</span><br></pre></td></tr></table></figure><p></p><h3 id="设置pjax"><a href="#设置pjax" class="headerlink" title="设置pjax"></a>设置pjax</h3><p>当我们浏览网站时，不想没点击一下按钮，就刷新一下，这样会减慢速度。所以需要设置<code>pjax</code></p><p>打开<code>themes/next</code>下的<code>_config.yml</code>文件,搜索关键字<code>pjax</code>，设置为<code>true</code></p><p>这里使用cdn，而不是个人文件，<code>themes/next</code>下的<code>_config.yml</code>文件,搜索关键字<code>vendors</code>，设置如下<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">vendors:</span><br><span class="line">  ...</span><br><span class="line">  pjax: //cdn.jsdelivr.net/gh/theme-next/theme-next-pjax@0/pjax.min.js</span><br></pre></td></tr></table></figure><p></p><h3 id="侧边栏设置"><a href="#侧边栏设置" class="headerlink" title="侧边栏设置"></a>侧边栏设置</h3><h4 id="设置侧边栏社交链接"><a href="#设置侧边栏社交链接" class="headerlink" title="设置侧边栏社交链接"></a>设置侧边栏社交链接</h4><p>打开<code>themes/next</code>下的<code>_config.yml</code>文件,搜索关键字<code>social</code>,然后添加社交站点名称与地址即可。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"># Social Links</span><br><span class="line"># Usage: `Key: permalink || icon`</span><br><span class="line"># Key is the link label showing to end users.</span><br><span class="line"># Value before `||` delimiter is the target permalink.</span><br><span class="line"># Value after `||` delimiter is the name of Font Awesome icon. If icon (with or without delimiter) is not specified, globe icon will be loaded.</span><br><span class="line">social:</span><br><span class="line">  GitHub: https://github.com/zdaiot || github</span><br><span class="line">  E-Mail: mailto:zdaiot@163.com || envelope</span><br><span class="line">  知乎: https://www.zhihu.com/people/zdaiot || book</span><br><span class="line">  CSDN: https://blog.csdn.net/zdaiot || copyright</span><br></pre></td></tr></table></figure><p>新版主题需要如下设置：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">social:</span><br><span class="line">  GitHub: https://github.com/zdaiot || fab fa-github</span><br><span class="line">  E-Mail: mailto:zdaiot@163.com || fa fa-envelope</span><br><span class="line">  知乎: https://www.zhihu.com/people/zdaiot || fa fa-book</span><br><span class="line">  CSDN: https://blog.csdn.net/zdaiot || fa fa-copyright</span><br></pre></td></tr></table></figure><h4 id="设置侧边栏社交图标"><a href="#设置侧边栏社交图标" class="headerlink" title="设置侧边栏社交图标"></a>设置侧边栏社交图标</h4><p>打开<code>themes/next</code>下的<code>_config.yml</code>文件,搜索关键字<code>social_icons</code>，添加社交站点名称（注意大小写）图标，<a href="http://fontawesome.io/icons/" target="_blank" rel="noopener">Font Awesome图标地址</a>，注意知乎没有对应的图标，可以直接更改为别的图标<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">social_icons:</span><br><span class="line">  enable: true</span><br><span class="line">  icons_only: false</span><br><span class="line">  transition: false</span><br></pre></td></tr></table></figure><p></p><h4 id="RSS"><a href="#RSS" class="headerlink" title="RSS"></a>RSS</h4><p><img src="/Linux/博客搭建/windows下使用hexo搭建博客/1157148-113e43ab8c258f2b.png" alt></p><ul><li>在你<code>Hexo 站点</code>目录下</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-generator-feed --save</span><br></pre></td></tr></table></figure><ul><li>打开<code>Hexo 站点</code>下的_config.yml,在<code>Extensions</code>中添加如下配置</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"># Extensions</span><br><span class="line">plugin: hexo-generator-feed</span><br><span class="line"># feed</span><br><span class="line"># Dependencies: https://github.com/hexojs/hexo-generator-feed</span><br><span class="line">feed:</span><br><span class="line">  type: atom</span><br><span class="line">  path: atom.xml</span><br><span class="line">  limit: 20</span><br><span class="line">  hub:</span><br><span class="line">  content::</span><br></pre></td></tr></table></figure><ul><li>在主题配置文件<code>themes/next/_config.yml</code>文件中，搜索<code>rss</code>，更改为：<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rss: /atom.xml</span><br></pre></td></tr></table></figure></li></ul><p>点击rss后，出现：</p><p><img src="/Linux/博客搭建/windows下使用hexo搭建博客/b449fdb1-66cd-4c28-9811-c6f30e11e050.png" alt></p><h4 id="友情链接"><a href="#友情链接" class="headerlink" title="友情链接"></a>友情链接</h4><ul><li>打开<code>themes/next</code>下的<code>_config.yml</code>文件,搜索关键字<code>Blog rolls</code></li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"># Blog rolls</span><br><span class="line">links_settings:</span><br><span class="line">  icon: link</span><br><span class="line">  title: Links</span><br><span class="line">  # Available values: block | inline</span><br><span class="line">  layout: block # 一行一个链接</span><br><span class="line"></span><br><span class="line">links:</span><br><span class="line">  #Title: http://example.com</span><br></pre></td></tr></table></figure><h3 id="添加百度分享-弃用"><a href="#添加百度分享-弃用" class="headerlink" title="添加百度分享(弃用)"></a>添加百度分享(弃用)</h3><p>因为<code>next/layout/_partials/share/baidushare.swig</code>文件中代码显示：<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;% if theme.baidushare.type === &quot;button&quot; %&#125;</span><br><span class="line">...</span><br><span class="line">...</span><br><span class="line">&#123;% elseif theme.baidushare.type === &quot;slide&quot; %&#125;</span><br><span class="line">...</span><br></pre></td></tr></table></figure><p></p><p>在配置百度分享功能时需指定其<code>type</code>，所以将主题配置<code>_config.yml</code>文件中关于<code>baidushare</code>部分的内容改为（其中<code>type</code>亦可以选择<code>button</code>）：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">baidushare:</span><br><span class="line">  type: slide</span><br><span class="line">  baidushare: true</span><br></pre></td></tr></table></figure><p><code>_config.yml</code>中提示：<code>Warning: Baidu Share does not support https.</code>。因为百度分享不支持在<code>https</code>上使用，所以一种解决方法便是，直接放文件到我们自己的目录下面。</p><p>访问链接： <strong><a href="https://github.com/hrwhisper/baiduShare" target="_blank" rel="noopener">static文件夹</a></strong>。下载压缩包到本地，解压后，将<code>static</code>文件夹保存至<code>themes/next/source</code>目录下。</p><p>修改文件：<code>themes/next/layout/_partials/share/baidushare.swig</code>，将文件 <strong>末尾</strong> 部分的代码进行修改：<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.src=&apos;http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion=&apos;+~(-new Date()/36e5)];</span><br></pre></td></tr></table></figure><p></p><p>改为：<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.src=&apos;/static/api/js/share.js?v=89860593.js?cdnversion=&apos;+~(-new Date()/36e5)];</span><br></pre></td></tr></table></figure><p></p><h3 id="添加AddThis分享"><a href="#添加AddThis分享" class="headerlink" title="添加AddThis分享"></a>添加AddThis分享</h3><p>我选择的是<a href="http://www.addthis.com/" target="_blank" rel="noopener">AddThis</a>作为博客的第三方分享。AdThis是国外的第三方分享,使用方便,可以用google直接登录。能自定义分享样式</p><p>注册AddThis，选择分享按钮：</p><p><img src="/Linux/博客搭建/windows下使用hexo搭建博客/1157148-7936d4034f6ca494.png" alt></p><p>选择显示样式(Select a Tool Type),<code>AddThis</code>提供了7种显示样式,你可以更加左边菜单栏点击,右边会自动显示你选择的相应样式。值得注意的是。在其右上角可以切换<code>PC</code>和<code>Phone</code>显示</p><p><img src="/Linux/博客搭建/windows下使用hexo搭建博客/1157148-fbaa63f6012f3e14.png" alt></p><p>点击<code>Continue</code>配置分享按钮,注意：不同的风格样式,配置方式不同</p><p><img src="/Linux/博客搭建/windows下使用hexo搭建博客/1157148-114c8869d53c0c1c.png" alt></p><p>配置完成后 , 获取代码ID , 在js代码中获取<code>pubid</code>后面的ID</p><p><img src="/Linux/博客搭建/windows下使用hexo搭建博客/235bf93c-0a14-4a63-abff-aac435d3018e.jpg" alt></p><p>编辑<code>主题配置文件themes/next/_config.yml</code>, 找到关键字<code>add_this_id</code>, 添加pubid</p><h3 id="设置代码"><a href="#设置代码" class="headerlink" title="设置代码"></a>设置代码</h3><p>设置代码主题并设置可以复制粘贴，通过修改next主题下的<code>_config.yml</code>的<code>codeblock</code>字段，来设置代码<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">codeblock:</span><br><span class="line">  # Code Highlight theme</span><br><span class="line">  # Available values: normal | night | night eighties | night blue | night bright</span><br><span class="line">  # See: https://github.com/chriskempson/tomorrow-theme</span><br><span class="line">  highlight_theme: normal</span><br><span class="line">  # Add copy button on codeblock</span><br><span class="line">  copy_button:</span><br><span class="line">    enable: true</span><br><span class="line">    # Show text copy result.</span><br><span class="line">    show_result: true</span><br><span class="line">    # Available values: default | flat | mac</span><br><span class="line">    style:</span><br></pre></td></tr></table></figure><p></p><h3 id="渲染-MathJax-数学公式"><a href="#渲染-MathJax-数学公式" class="headerlink" title="渲染 MathJax 数学公式"></a>渲染 MathJax 数学公式</h3><p>Hexo 默认使用 <code>hexo-renderer-marked</code> 引擎渲染网页，该引擎会把一些特殊的 markdown 符号转换为相应的 html 标签，比如在 markdown 语法中，下划线<code>_</code>代表斜体，会被渲染引擎处理为<code>&lt;em&gt;</code>标签。</p><p>因为类 Latex 格式书写的数学公式下划线<code>_</code>表示下标，有特殊的含义，如果被强制转换为<code>&lt;em&gt;</code>标签，那么 MathJax 引擎在渲染数学公式的时候就会出错。</p><p>类似的语义冲突的符号还包括<code>*</code>, <code>{</code>, <code>}</code>, <code>\\</code>等。</p><p><strong>解决方法</strong>：</p><p>首先开启next主题对MathJax的支持，找到<code>next/_config.yml</code>文件，对<code>math</code>设置如下<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"># Math Formulas Render Support</span><br><span class="line">math:</span><br><span class="line">  enable: true</span><br><span class="line"></span><br><span class="line">  # Default (true) will load mathjax / katex script on demand.</span><br><span class="line">  # That is it only render those page which has `mathjax: true` in Front-matter.</span><br><span class="line">  # If you set it to false, it will load mathjax / katex srcipt EVERY PAGE.</span><br><span class="line">  per_page: true</span><br><span class="line"></span><br><span class="line">  # hexo-renderer-pandoc (or hexo-renderer-kramed) required for full MathJax support.</span><br><span class="line">  mathjax:</span><br><span class="line">    enable: false</span><br><span class="line">    # See: https://mhchem.github.io/MathJax-mhchem/</span><br><span class="line">    mhchem: false</span><br><span class="line"></span><br><span class="line">  # hexo-renderer-markdown-it-plus (or hexo-renderer-markdown-it with markdown-it-katex plugin) required for full Katex support.</span><br><span class="line">  katex:</span><br><span class="line">    enable: false</span><br><span class="line">    # See: https://github.com/KaTeX/KaTeX/tree/master/contrib/copy-tex</span><br><span class="line">    copy_tex: false</span><br></pre></td></tr></table></figure><p></p><p>在需要MathJax渲染的文章前面添加<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mathjax: true</span><br></pre></td></tr></table></figure><p></p><p>也可以直接在<code>/scaffolds/post.md</code>文件中添加：<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: &#123;&#123; title &#125;&#125;</span><br><span class="line">date: &#123;&#123; date &#125;&#125;</span><br><span class="line">tags:</span><br><span class="line">categories:</span><br><span class="line">copyright:</span><br><span class="line">mathjax:</span><br><span class="line">---</span><br></pre></td></tr></table></figure><p></p><p>这样每次<code>hexo new &quot;你的内容&quot;</code>之后，生成的md文件会自动把<code>mathjax:</code>加到里面</p><p>更换 Hexo 的 markdown 渲染引擎，hexo-renderer-kramed 引擎是在默认的渲染引擎 hexo-renderer-marked 的基础上修改了一些 bug ，两者比较接近，也比较轻量级。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm uninstall hexo-renderer-marked --save</span><br><span class="line">npm install hexo-renderer-kramed --save</span><br></pre></td></tr></table></figure><p>执行上面的命令即可，先卸载原来的渲染引擎，再安装新的。<br>然后，跟换引擎后行间公式可以正确渲染了，但是这样还没有完全解决问题，行内公式的渲染还是有问题，因为 hexo-renderer-kramed 引擎也有语义冲突的问题。接下来到博客根目录下，找到node_modules\kramed\lib\rules\inline.js，把第11行的 escape 变量的值做相应的修改：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">//escape: /^\\([\\`*&#123;&#125;\[\]()#$+\-.!_&gt;])/,</span><br><span class="line">escape: /^\\([`*\[\]()#$+\-.!_&gt;])/,</span><br></pre></td></tr></table></figure><p>这一步是在原基础上取消了对\,{,}的转义(escape)。<br>同时把第20行的em变量也要做相应的修改。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">//em: /^\b_((?:__|[\s\S])+?)_\b|^\*((?:\*\*|[\s\S])+?)\*(?!\*)/,</span><br><span class="line">em: /^\*((?:\*\*|[\s\S])+?)\*(?!\*)/,</span><br></pre></td></tr></table></figure><p>重新启动hexo（先clean再generate）,问题完美解决。哦，如果不幸还没解决的话，看看是不是还需要在使用的主题中配置mathjax开关。</p><h3 id="首页显示文章标题，而非全文"><a href="#首页显示文章标题，而非全文" class="headerlink" title="首页显示文章标题，而非全文"></a>首页显示文章标题，而非全文</h3><p>进入hexo博客项目的<code>themes/next/_config.yml</code>文件，搜索”auto_excerpt”,找到如下部分：<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># Automatically Excerpt. Not recommand.</span><br><span class="line"># Please use &lt;!-- more --&gt; in the post to control excerpt accurately.</span><br><span class="line">auto_excerpt:</span><br><span class="line">  enable: false</span><br><span class="line">  length: 150</span><br></pre></td></tr></table></figure><p></p><p>把enable改为对应的false改为true，然后<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo d -g</span><br></pre></td></tr></table></figure><p></p><p>再进主页，问题就解决了！</p><h3 id="在右上角或者左上角实现fork-me-on-github"><a href="#在右上角或者左上角实现fork-me-on-github" class="headerlink" title="在右上角或者左上角实现fork me on github"></a>在右上角或者左上角实现fork me on github</h3><p>在<code>themes/next/_config.yml</code>文件，搜索<code>github_banner</code>，设置为：<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># `Follow me on GitHub` banner in the top-right corner.</span><br><span class="line">github_banner:</span><br><span class="line">  enable: false</span><br><span class="line">  permalink: https://github.com/zdaiot</span><br><span class="line">  title: Follow me on GitHub</span><br></pre></td></tr></table></figure><p></p><h3 id="在网站底部加上访问量与字数统计"><a href="#在网站底部加上访问量与字数统计" class="headerlink" title="在网站底部加上访问量与字数统计"></a>在网站底部加上访问量与字数统计</h3><p>在<code>themes/next/_config.yml</code>文件，搜索<code>busuanzi_count</code>，设置为：<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"># Show Views / Visitors of the website / page with busuanzi.</span><br><span class="line"># Get more information on http://ibruce.info/2015/04/04/busuanzi</span><br><span class="line">busuanzi_count:</span><br><span class="line">  enable: true</span><br><span class="line">  total_visitors: true</span><br><span class="line">  total_visitors_icon: user</span><br><span class="line">  total_views: true</span><br><span class="line">  total_views_icon: eye</span><br><span class="line">  post_views: true</span><br><span class="line">  post_views_icon: eye</span><br><span class="line"></span><br><span class="line">  # View: Site visited by 12345 people.</span><br><span class="line">  site_uv: true</span><br><span class="line">  site_uv_header: Site visited by</span><br><span class="line">  site_uv_footer: people.</span><br><span class="line"></span><br><span class="line">  # View: Site visited by 12345 times.</span><br><span class="line">  site_pv: true</span><br><span class="line">  site_pv_header: Site visited by</span><br><span class="line">  site_pv_footer: times.</span><br><span class="line"></span><br><span class="line">  # View: Post read by 12345 times.</span><br><span class="line">  page_pv: true</span><br><span class="line">  page_pv_header: Post read by</span><br><span class="line">  page_pv_footer: times.</span><br></pre></td></tr></table></figure><p></p><h3 id="实现文章统计功能"><a href="#实现文章统计功能" class="headerlink" title="实现文章统计功能"></a>实现文章统计功能</h3><p>实现效果图</p><p><img src="/Linux/博客搭建/windows下使用hexo搭建博客/1cddfd39-e487-4992-8f95-f18779dc56f0.png" alt></p><p>在根目录下安装 <code>hexo-symbols-count-time</code>,运行：<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-symbols-count-time@^0.6.0 --save</span><br></pre></td></tr></table></figure><p></p><p>然后在主题的配置文件<code>next/_config.yml</code>中，配置如下：<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># Post wordcount display settings</span><br><span class="line"># Dependencies: https://github.com/theme-next/hexo-symbols-count-time</span><br><span class="line">symbols_count_time:</span><br><span class="line">  separated_meta: true</span><br><span class="line">  item_text_post: true</span><br><span class="line">  item_text_total: false</span><br><span class="line">  awl: 4</span><br><span class="line">  wpm: 275</span><br></pre></td></tr></table></figure><p></p><p>最后在，<code>hexo/_config.yml</code>中，添加：<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">symbols_count_time:</span><br><span class="line">  symbols: true</span><br><span class="line">  time: true</span><br><span class="line">  total_symbols: true</span><br><span class="line">  total_time: true</span><br></pre></td></tr></table></figure><p></p><h3 id="隐藏网页底部powered-By-Hexo-强力驱动"><a href="#隐藏网页底部powered-By-Hexo-强力驱动" class="headerlink" title="隐藏网页底部powered By Hexo / 强力驱动"></a>隐藏网页底部powered By Hexo / 强力驱动</h3><p>在next的<code>_config.yml</code>，搜索<code>powered</code>，设置如下：<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">powered:</span><br><span class="line">  # Hexo link (Powered by Hexo).</span><br><span class="line">  enable: false</span><br><span class="line">  # Version info of Hexo after Hexo link (vX.X.X).</span><br><span class="line">  version: false</span><br><span class="line"></span><br><span class="line">theme:</span><br><span class="line">  # Theme &amp; scheme info link (Theme - NexT.scheme).</span><br><span class="line">  enable: false</span><br><span class="line">  # Version info of NexT after scheme info (vX.X.X).</span><br><span class="line">  version: false</span><br></pre></td></tr></table></figure><p></p><p>最新版本的主题中只需要设置<code>powered: false</code>即可。</p><h3 id="在文章底部增加版权信息"><a href="#在文章底部增加版权信息" class="headerlink" title="在文章底部增加版权信息"></a>在文章底部增加版权信息</h3><p>在<code>next/_config.yml</code>找到<code>creative_commons</code>，设置如下：<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"># Creative Commons 4.0 International License.</span><br><span class="line"># See: https://creativecommons.org/share-your-work/licensing-types-examples</span><br><span class="line"># Available values of license: by | by-nc | by-nc-nd | by-nc-sa | by-nd | by-sa | zero</span><br><span class="line"># You can set a language value if you prefer a translated version of CC license, e.g. deed.zh</span><br><span class="line"># CC licenses are available in 39 languages, you can find the specific and correct abbreviation you need on https://creativecommons.org</span><br><span class="line">creative_commons:</span><br><span class="line">  license: by-nc-sa</span><br><span class="line">  sidebar: false</span><br><span class="line">  post: true</span><br><span class="line">  language:</span><br></pre></td></tr></table></figure><p></p><p>(<strong>注意</strong>：如果解析出来之后，你的原始链接有问题：如：<code>http://yoursite.com/2018/07/29/Windows下使用hexo搭建博客/</code>,那么在根目录下<code>_config.yml</code>中写成类似这样：）</p><p><img src="/Linux/博客搭建/windows下使用hexo搭建博客/a7923c1a-aeb1-466f-bf9e-94f0df0d8766.png" alt></p><p>就行了。</p><h3 id="文章加密访问"><a href="#文章加密访问" class="headerlink" title="文章加密访问"></a>文章加密访问</h3><h4 id="Next-V6-0之前"><a href="#Next-V6-0之前" class="headerlink" title="Next V6.0之前"></a>Next V6.0之前</h4><p>实现效果图</p><p><img src="/Linux/博客搭建/windows下使用hexo搭建博客/5308475-0c7e5e61b78dc937.gif" alt></p><p>打开<code>themes/next/layout/_partials/head.swig</code>文件,在以下位置插入这样一段代码：<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">    (function()&#123;</span><br><span class="line">        if(&apos;&#123;&#123; page.password &#125;&#125;&apos;)&#123;</span><br><span class="line">            if (prompt(&apos;请输入文章密码&apos;) !== &apos;&#123;&#123; page.password &#125;&#125;&apos;)&#123;</span><br><span class="line">                alert(&apos;密码错误！&apos;);</span><br><span class="line">                history.back();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)();</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><p></p><p>然后在文章上写成类似这样：<br><img src="/Linux/博客搭建/windows下使用hexo搭建博客/0889a51c-7155-4c47-aad0-853d366391be.png" alt></p><h4 id="Next-V6-0之后"><a href="#Next-V6-0之后" class="headerlink" title="Next V6.0之后"></a>Next V6.0之后</h4><p>点击<a href="https://github.com/MikeCoder/hexo-blog-encrypt/blob/master/ReadMe.zh.md" target="_blank" rel="noopener">这里</a>查看详情</p><p>执行下面命令，该插件会自动安装：<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-blog-encrypt --save</span><br></pre></td></tr></table></figure><p></p><p>首先在网站配置文件<code>_config.yml</code> 中启用该插件:<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># Security</span><br><span class="line">##</span><br><span class="line">encrypt:</span><br><span class="line">    enable: true</span><br></pre></td></tr></table></figure><p></p><p>然后在你的文章的头部添加上对应的字段，如 password, abstract, message<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: hello world</span><br><span class="line">date: 2016-03-30 21:18:02</span><br><span class="line">tags:</span><br><span class="line">    - fdsafsdaf</span><br><span class="line">password: Mike</span><br><span class="line">abstract: Welcome to my blog, enter password to read.</span><br><span class="line">message: Welcome to my blog, enter password to read.</span><br><span class="line">---</span><br></pre></td></tr></table></figure><p></p><ul><li>password: 是该博客加密使用的密码</li><li>abstract: 是该博客的摘要，会显示在博客的列表页</li><li>message: 这个是博客查看时，密码输入框上面的描述性文字</li></ul><p>如果你想对 TOC 也进行加密。如果你有一篇文章使用了 TOC，你需要修改模板的部分代码。这里用 landscape 作为例子：</p><ul><li>你可以在 <code>_hexo/themes/landscape/layout/_partial/article.ejs_</code> 找到 <code>article.ejs</code>。</li><li>然后找到 <code>&lt;% post.content %&gt;</code> 这段代码，通常在30行左右。</li><li>使用如下的代码来替代它:</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;% if(post.toc == true)&#123; %&gt;</span><br><span class="line">    &lt;div id=&quot;toc-div&quot; class=&quot;toc-article&quot; &lt;% if (post.encrypt == true) &#123; %&gt;style=&quot;display:none&quot; &lt;% &#125; %&gt;&gt;</span><br><span class="line">        &lt;strong class=&quot;toc-title&quot;&gt;Index&lt;/strong&gt;</span><br><span class="line">        &lt;% if (post.encrypt == true) &#123; %&gt;</span><br><span class="line">            &lt;%- toc(post.origin) %&gt;</span><br><span class="line">        &lt;% &#125; else &#123; %&gt;</span><br><span class="line">            &lt;%- toc(post.content) %&gt;</span><br><span class="line">        &lt;% &#125; %&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;% &#125; %&gt;</span><br><span class="line">&lt;%- post.content %&gt;</span><br></pre></td></tr></table></figure><h3 id="添加gitalk评论系统"><a href="#添加gitalk评论系统" class="headerlink" title="添加gitalk评论系统"></a>添加gitalk评论系统</h3><p>gitalk：一个基于 Github Issue 和 Preact 开发的评论插件<br>详情Demo可见：<a href="https://gitalk.github.io/" target="_blank" rel="noopener">https://gitalk.github.io/</a><br>在GitHub上注册新应用，链接：<a href="https://github.com/settings/applications/new" target="_blank" rel="noopener">https://github.com/settings/applications/new</a></p><p><img src="/Linux/博客搭建/windows下使用hexo搭建博客/24cfeb53-91ab-450d-a1ac-c139677c3bbd.png" alt></p><p>参数说明：<br>Application name： # 应用名称，随意<br>Homepage URL： # 网站URL，如<code>http://www.zdaiot.com</code><br>Application description # 描述，随意<br>Authorization callback URL：# 网站URL，<code>http://www.zdaiot.com</code></p><p>点击注册后，页面跳转如下，其中<code>Client ID</code>和<code>Client Secret</code>在后面的配置中需要用到，到时复制粘贴即可：</p><p><img src="/Linux/博客搭建/windows下使用hexo搭建博客/a2281a47-8d38-41b5-97ef-7da48d102da5.png" alt></p><p>在主题配置文件<code>next/_config.yml</code>中添加如下内容（替换掉下面的client_id和client_secret）：<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"># Gitalk</span><br><span class="line"># Demo: https://gitalk.github.io</span><br><span class="line"># For more information: https://github.com/gitalk/gitalk</span><br><span class="line">gitalk:</span><br><span class="line">  enable: true</span><br><span class="line">  github_id: zdaiot # GitHub repo owner</span><br><span class="line">  repo: zdaiot.github.io # Repository name to store issues</span><br><span class="line">  client_id: xxxxxxxxx # GitHub Application Client ID</span><br><span class="line">  client_secret: xxxxxxxxxxxxxxxxxxxxxxxxxxxx # GitHub Application Client Secret</span><br><span class="line">  admin_user: zdaiot  # GitHub repo owner and collaborators, only these guys can initialize gitHub issues</span><br><span class="line">  distraction_free_mode: true # Facebook-like distraction free mode</span><br></pre></td></tr></table></figure><p></p><p>同步到github后，打开具体某一篇文章，如下图所示，提示，联系@zdaiot初始化创建。如下下面设置均未出错，等待即可，大约几天后，就会出现评论框~~~~</p><p><img src="/Linux/博客搭建/windows下使用hexo搭建博客/9399cada-2e3b-497d-a3a9-d7766152ada3.png" alt></p><p>此时，若出现，Error：Not Found，可试试连接手机热点，更换IP地址。</p><p>以上就是NexT中添加gitalk评论的配置，博客上传到GitHub上后，打开页面进入某一博客内容下，就可看到评论处。</p><p>若想查看该github应用，点击网址<a href="https://github.com/settings/developers" target="_blank" rel="noopener">https://github.com/settings/developers</a> 如下图所示</p><p><img src="/Linux/博客搭建/windows下使用hexo搭建博客/72576ff1-ec2b-411c-af52-e1c860b7564b.png" alt></p><h3 id="接入网页在线联系功能"><a href="#接入网页在线联系功能" class="headerlink" title="接入网页在线联系功能"></a>接入网页在线联系功能</h3><p>首先在<a href="http://www.daovoice.io/" target="_blank" rel="noopener">DaoVoice</a>注册个账号，我的邀请码是<code>0f81ff2f</code></p><p><img src="/Linux/博客搭建/windows下使用hexo搭建博客/a5d3be60-dd94-4979-ae18-d09b8f594e15.png" alt></p><p>完成后，会得到一个<code>app_id</code>，后面会用到：</p><p><img src="/Linux/博客搭建/windows下使用hexo搭建博客/bd399de7-db57-4f81-9843-97cdc0d9e491.png" alt></p><p>修改<code>/themes/next/layout/_partials/head/head.swig</code>文件，添加内容如下：<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&#123;% if theme.daovoice %&#125;</span><br><span class="line">  &lt;script&gt;</span><br><span class="line">  (function(i,s,o,g,r,a,m)&#123;i[&quot;DaoVoiceObject&quot;]=r;i[r]=i[r]||function()&#123;(i[r].q=i[r].q||[]).push(arguments)&#125;,i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset=&quot;utf-8&quot;;m.parentNode.insertBefore(a,m)&#125;)(window,document,&quot;script&quot;,(&apos;https:&apos; == document.location.protocol ? &apos;https:&apos; : &apos;http:&apos;) + &quot;//widget.daovoice.io/widget/0f81ff2f.js&quot;,&quot;daovoice&quot;)</span><br><span class="line">  daovoice(&apos;init&apos;, &#123;</span><br><span class="line">      app_id: &quot;&#123;&#123;theme.daovoice_app_id&#125;&#125;&quot;</span><br><span class="line">    &#125;);</span><br><span class="line">  daovoice(&apos;update&apos;);</span><br><span class="line">  &lt;/script&gt;</span><br><span class="line">&#123;% endif %&#125;</span><br></pre></td></tr></table></figure><p></p><p>在<code>next/_config.yml</code>文件中添加内容：<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># Online contact</span><br><span class="line">daovoice: true</span><br><span class="line">daovoice_app_id:   # 这里填你刚才获得的 app_id</span><br></pre></td></tr></table></figure><p></p><p>使用微信接受消息，如图，首先在DaoVoce控制台，点击<code>对话-&gt;我</code></p><p><img src="/Linux/博客搭建/windows下使用hexo搭建博客/9897c7a4-d1c3-4c9c-a2c4-8659b48626d7.png" alt></p><p>点击右上角的个人设置</p><p><img src="/Linux/博客搭建/windows下使用hexo搭建博客/14d8a690-fcf0-4d29-bc65-e120cff702f3.png" alt></p><p>点击绑定微信，这里我的已经绑定过了<br><img src="/Linux/博客搭建/windows下使用hexo搭建博客/63362726-b9b3-410c-a54b-736edf716fd5.png" alt></p><p>在<code>设置-&gt;应用设置-&gt;聊天设置</code>下拉可以找到自定义位置等</p><p><img src="/Linux/博客搭建/windows下使用hexo搭建博客/3be0452e-895c-4f51-9130-6f81547f023a.png" alt></p><h3 id="添加打赏功能"><a href="#添加打赏功能" class="headerlink" title="添加打赏功能"></a>添加打赏功能</h3><p>准备支付宝和微信二维码</p><ul><li>微信是在<code>收付款-&gt;二维码收款-&gt;保存收款码</code></li><li>支付宝是在<code>收钱-&gt;保存图片</code></li></ul><p><strong>在<code>next/_config.yml</code>中配置图片</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"># Reward (Donate)</span><br><span class="line">reward_settings:</span><br><span class="line">  # If true, reward would be displayed in every article by default.</span><br><span class="line">  # You can show or hide reward in a specific article throuth `reward: true | false` in Front-matter.</span><br><span class="line">  enable: true</span><br><span class="line">  animation: false</span><br><span class="line">  comment: 坚持原创技术分享，您的支持将鼓励我继续创作！</span><br><span class="line"></span><br><span class="line">reward:</span><br><span class="line">  wechatpay: /uploads/wechat.png</span><br><span class="line">  alipay: /uploads/aipay.jpg</span><br><span class="line">  #bitcoin: /images/bitcoin.png</span><br></pre></td></tr></table></figure><blockquote><p>wechat.jpg、aipay.png图片放入<code>hexo/source/uploads</code>中</p></blockquote><p>效果如图：</p><p><img src="/Linux/博客搭建/windows下使用hexo搭建博客/788ab86f-b04d-4c1b-939e-f5d5f359d41e.jpg" alt></p><h3 id="资源文件夹"><a href="#资源文件夹" class="headerlink" title="资源文件夹"></a>资源文件夹</h3><p>有两种方法，第一种是不用插件的情况，第二种是使用一种hexo的插件。</p><p>无论哪种方法都有一个共同的前提：修改<code>hexo/_config.yml</code>配置文件<code>post_asset_folder</code>项为<code>true</code>。</p><p>创建博客是使用命令创建：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new [layout] &lt;title&gt;</span><br></pre></td></tr></table></figure><p>其中的layout项可以省略，例如：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new &quot;这是一个新的博客&quot;</span><br></pre></td></tr></table></figure><p>使用完命令之后，在<code>source/_post</code>文件夹里面就会出现一个“这是一个新的博客.md”的文件和一个“这是一个新的博客”的文件夹。</p><p><img src="/Linux/博客搭建/windows下使用hexo搭建博客/2155622-409a363274a628421532881994805.jpg" alt></p><p>下一步就是把需要的图片放到新创建的那个<strong>文件夹</strong>里面去。</p><ul><li>引用图片的第一种方法</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% asset_img 这是一个新的博客的图片.jpg 这是一个新的博客的图片的说明 %&#125;</span><br></pre></td></tr></table></figure><p>用此种方法，而不是以前的<code>![]()</code>方法，前提是你的hexo的版本是hexo3以上，到package.json里面看一下吧。如果不是hexo3以上的版本，那就只能用第二种方法了。</p><p>将为知笔记的引用图片方式转为该方式代码为：<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"># -*- coding: UTF-8 -*-</span><br><span class="line">import re</span><br><span class="line"></span><br><span class="line">path = u&apos;./Windows下使用hexo搭建博客.md&apos;</span><br><span class="line"></span><br><span class="line">with open(path, &apos;r&apos;, encoding=&apos;UTF-8&apos;) as f:</span><br><span class="line">    content = f.readlines()</span><br><span class="line">f.close()</span><br><span class="line"></span><br><span class="line">for index, x in enumerate(content):</span><br><span class="line">    match_result = re.match(r&apos;!\[(.*)\]\((.*)\)&apos;, x)</span><br><span class="line">    if match_result:</span><br><span class="line">        pic_path = match_result.group(2)</span><br><span class="line">        pic_name = pic_path.split(&apos;/&apos;)[1]</span><br><span class="line"></span><br><span class="line">        if match_result.group(1):</span><br><span class="line">            new_pic_path = &apos;&#123;&apos; + &apos;% asset_img &#123;&#125; &#123;&#125; %&apos;.format(pic_name, match_result.group(1)) + &apos;&#125;&apos; + &apos;\n&apos;</span><br><span class="line">        else:</span><br><span class="line">            new_pic_path = &apos;&#123;&apos; + &apos;% asset_img &#123;&#125; %&apos;.format(pic_name) + &apos;&#125;&apos; + &apos;\n&apos;</span><br><span class="line"></span><br><span class="line">        print(new_pic_path)</span><br><span class="line">        content[index] = new_pic_path</span><br><span class="line"></span><br><span class="line">fp = open(path, &apos;w&apos;, encoding=&apos;UTF-8&apos;)</span><br><span class="line">for x in content:</span><br><span class="line">    fp.write(x)</span><br><span class="line">fp.close()</span><br></pre></td></tr></table></figure><p></p><ul><li>下面是第二种方法，hexo插件的方法</li></ul><p>这是插件的<a href="https://link.jianshu.com/?t=https://github.com/CodeFalling/hexo-asset-image" target="_blank" rel="noopener">链接</a></p><p>安装</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm install https://github.com/CodeFalling/hexo-asset-image --save</span><br><span class="line"># 不要使用下面方式安装</span><br><span class="line"># npm install hexo-asset-image --save</span><br></pre></td></tr></table></figure><p>之后就可以按照正常的方法使用的，例如<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">![](Windows下使用hexo搭建博客/1.png)</span><br></pre></td></tr></table></figure><p></p><p>将为知笔记的引用图片方式转为该方式代码可以参考<a href="https://github.com/zdaiot/wiznote2hexo2csdn" target="_blank" rel="noopener">这里</a></p><blockquote><p>需要注意的是，这两种方法不能同时使用，否则的话路径会重复。解决方法为删除<code>hexo-asset-image</code>文件夹</p></blockquote><h3 id="加入站点内容搜索功能"><a href="#加入站点内容搜索功能" class="headerlink" title="加入站点内容搜索功能"></a>加入站点内容搜索功能</h3><p>本站点使用的是Local Search。加入站点内容搜索功能步骤如下：</p><p>安装hexo-generator-search<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-generator-search --save</span><br></pre></td></tr></table></figure><p></p><p>注意：安装时应在站点根目录下，即Hexo目录下<br>添加search字段，在站点<code>Hexo/_config.yml</code>中<code>Extensions</code>下面添加search字段，如下：<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">search:</span><br><span class="line">  path: search.xml</span><br><span class="line">  field: post</span><br><span class="line">  content: true</span><br></pre></td></tr></table></figure><p></p><p>打开主题配置文件<code>next/_config.yml</code>找到<code>Local search</code>，将enable设置为true</p><p>效果如下：</p><p><img src="/Linux/博客搭建/windows下使用hexo搭建博客/d68192a7-d534-4896-9f33-7536c343bf81.png" alt></p><h3 id="手机端site-subtitle显示优化-舍弃"><a href="#手机端site-subtitle显示优化-舍弃" class="headerlink" title="手机端site-subtitle显示优化(舍弃)"></a>手机端site-subtitle显示优化(舍弃)</h3><p>手机端默认显示副标题，个人觉得不太美观，现修改为：默认不显示副标题，显示导航栏的同时显示副标题。效果如图：</p><p><img src="/Linux/博客搭建/windows下使用hexo搭建博客/013.gif" alt></p><p>原理：编写JavaScript函数，根据导航栏的<code>display</code>属性来决定是否显示副标题，实现方法如下：</p><p><strong>给导航栏添加id并隐藏site-subtitle</strong></p><p>在<code>themes\next\layout\_partials\header\menu.swig</code>中找到<code>&lt;nav class=&quot;site-nav&quot;&gt;</code>，为其添加id。大概在第3行，将其修改为：<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;nav class=&quot;site-nav&quot; id=&quot;site-nav&quot;&gt;</span><br></pre></td></tr></table></figure><p></p><p>在<code>themes\next\layout\_partials\header\brand.swig</code>找到<code>site-subtitle</code>，为其加上id，大概在第21行，修改为：<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;% if subtitle %&#125;</span><br><span class="line">  &#123;% if theme.seo %&#125;</span><br><span class="line">    &lt;h1 class=&quot;site-subtitle&quot; itemprop=&quot;description&quot; id=&quot;site-subtitle&quot;&gt;&#123;&#123; subtitle &#125;&#125;&lt;/h1&gt;</span><br><span class="line">  &#123;% else %&#125;</span><br><span class="line">    &lt;p class=&quot;site-subtitle&quot; id=&quot;site-subtitle&quot;&gt;&#123;&#123; subtitle &#125;&#125;&lt;/p&gt;</span><br><span class="line">  &#123;% endif %&#125;</span><br><span class="line">&#123;% endif %&#125;</span><br></pre></td></tr></table></figure><p></p><p>设置手机端默认不显示网站副标题。在<code>themes\next\source\css\_common\components\header\site-meta.styl</code>中添加如下样式：<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">.site-subtitle&#123;</span><br><span class="line">+mobile() &#123;</span><br><span class="line">    display: none;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p></p><p><strong>编写JavaScript函数</strong><br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;script type=&quot;text/JavaScript&quot;&gt;</span><br><span class="line">function showSubtitle()</span><br><span class="line">&#123;</span><br><span class="line">  var siteNav=document.getElementById(&quot;site-nav&quot;);</span><br><span class="line">  if(siteNav.style.display==&quot;block&quot;)</span><br><span class="line">  &#123;</span><br><span class="line">   var subTitle=document.getElementById(&quot;site-subtitle&quot;);</span><br><span class="line">   subTitle.style.display=&quot;none&quot;;</span><br><span class="line">  &#125;else</span><br><span class="line">  &#123;</span><br><span class="line">   var subTitle=document.getElementById(&quot;site-subtitle&quot;);</span><br><span class="line">   subTitle.style.display=&quot;block&quot;;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><p></p><p>将其放到任意一个<code>*.swig</code>文件中，在<code>_layout.swig</code>中引入即可。我的处理方法是，在<code>themes\next\layout\_scripts\</code>文件夹中新建<code>myscript</code>文件夹，专门用于存放自己添加的JavaScript代码。在里面创建一个<code>myscript.swig</code>文件，将上述代码copy到里面，再在<code>themes\next\layout\_layout.swig</code>中添加如下代码引入：<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;%  include  &apos;_scripts/myscript/myscript.swig&apos;  %&#125;</span><br></pre></td></tr></table></figure><p></p><p><strong>点击网站标题旁边的按钮时触发JavaScript函数</strong></p><p>在<code>themes\next\layout\_partials\header\brand.swig</code>中给<code>&lt;button&gt;&lt;/button&gt;</code>添加 onclick 事件，最终代码如下：<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class=&quot;site-nav-toggle&quot;&gt;</span><br><span class="line">  &lt;button aria-label=&quot;&#123;&#123; __(&apos;accessibility.nav_toggle&apos;) &#125;&#125;&quot; onclick=&quot;showSubtitle()&quot;&gt;</span><br><span class="line">    &lt;span class=&quot;btn-bar&quot;&gt;&lt;/span&gt;</span><br><span class="line">    &lt;span class=&quot;btn-bar&quot;&gt;&lt;/span&gt;</span><br><span class="line">    &lt;span class=&quot;btn-bar&quot;&gt;&lt;/span&gt;</span><br><span class="line">  &lt;/button&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure><p></p><h3 id="博文置顶"><a href="#博文置顶" class="headerlink" title="博文置顶"></a>博文置顶</h3><p>打开<code>Hexo 站点</code>下<code>node_modules/hexo-generator-index/lib/generator.js</code>文件。代码全部替换为：<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">&apos;use strict&apos;;</span><br><span class="line">var pagination = require(&apos;hexo-pagination&apos;);</span><br><span class="line">module.exports = function(locals)&#123;</span><br><span class="line">  var config = this.config;</span><br><span class="line">  var posts = locals.posts;</span><br><span class="line">    posts.data = posts.data.sort(function(a, b) &#123;</span><br><span class="line">        if(a.top &amp;&amp; b.top) &#123; // 两篇文章top都有定义</span><br><span class="line">            if(a.top == b.top) return b.date - a.date; // 若top值一样则按照文章日期降序排</span><br><span class="line">            else return b.top - a.top; // 否则按照top值降序排</span><br><span class="line">        &#125;</span><br><span class="line">        else if(a.top &amp;&amp; !b.top) &#123; // 以下是只有一篇文章top有定义，那么将有top的排在前面（这里用异或操作居然不行233）</span><br><span class="line">            return -1;</span><br><span class="line">        &#125;</span><br><span class="line">        else if(!a.top &amp;&amp; b.top) &#123;</span><br><span class="line">            return 1;</span><br><span class="line">        &#125;</span><br><span class="line">        else return b.date - a.date; // 都没定义按照文章日期降序排</span><br><span class="line">    &#125;);</span><br><span class="line">  var paginationDir = config.pagination_dir || &apos;page&apos;;</span><br><span class="line">  return pagination(&apos;&apos;, posts, &#123;</span><br><span class="line">    perPage: config.index_generator.per_page,</span><br><span class="line">    layout: [&apos;index&apos;, &apos;archive&apos;],</span><br><span class="line">    format: paginationDir + &apos;/%d/&apos;,</span><br><span class="line">    data: &#123;</span><br><span class="line">      __index: true</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p></p><p>打开文章添加<code>top</code>字段,设置数值，数值越大文章越靠前<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: Windows下使用hexo搭建博客</span><br><span class="line">date: 2018-07-29 21:12:14</span><br><span class="line">updated: 2017-7-30 18:18:54 #手动添加更新时间</span><br><span class="line">tags:</span><br><span class="line">copyright: true</span><br><span class="line">top: 100</span><br><span class="line">---</span><br></pre></td></tr></table></figure><p></p><h3 id="修改访问URL路径"><a href="#修改访问URL路径" class="headerlink" title="修改访问URL路径"></a>修改访问URL路径</h3><ul><li>默认情况下访问URL路径为：<code>domain/2017/08/18/关于本站</code>,修改为<code>domain/About/关于本站</code></li><li>编辑<code>Hexo 站点</code>下的<code>_config.yml</code>文件，修改其中的<code>permalink</code>字段</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">permalink: :category/:title/</span><br></pre></td></tr></table></figure><h3 id="静态资源压缩"><a href="#静态资源压缩" class="headerlink" title="静态资源压缩"></a>静态资源压缩</h3><p>主要是压缩html,css,js等等静态资源，可以适当减少请求的数据量，在站点目录下，执行下面命令：<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo npm install gulp-cli -g</span><br><span class="line">npm install --save gulp gulp-htmlclean gulp-htmlmin gulp-clean-css gulp-uglify-es gulp-imagemin</span><br></pre></td></tr></table></figure><p></p><ul><li>gulp-htmlclean：清理html</li><li>gulp-htmlmin：压缩html</li><li>gulp-clean-css：压缩css</li><li>gulp-uglify-es：混淆js</li><li>gulp-imagemin：压缩图片</li></ul><p>注意，若报错<code>TypeError in plugin &quot;gulp-imagemin&quot;</code>，则说明<code>gulp-imagemin没有安装好</code>，使用<code>npm install gulp-imagemin --save</code>命令重新安装即可。</p><p>在<code>Hexo 站点</code>下添加<code>gulpfile.js</code>文件，文件内容如下:<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">var gulp = require(&apos;gulp&apos;);</span><br><span class="line">var minifycss = require(&apos;gulp-clean-css&apos;);</span><br><span class="line">var uglify = require(&apos;gulp-uglify-es&apos;).default;</span><br><span class="line">var htmlmin = require(&apos;gulp-htmlmin&apos;);</span><br><span class="line">var htmlclean = require(&apos;gulp-htmlclean&apos;);</span><br><span class="line">var imagemin = require(&apos;gulp-imagemin&apos;);</span><br><span class="line"></span><br><span class="line">// 压缩html</span><br><span class="line">gulp.task(&apos;minify-html&apos;, function() &#123;</span><br><span class="line">    return gulp.src(&apos;./public/**/*.html&apos;)</span><br><span class="line">        .pipe(htmlclean())</span><br><span class="line">        .pipe(htmlmin(&#123;</span><br><span class="line">            removeComments: true,</span><br><span class="line">            minifyJS: true,</span><br><span class="line">            minifyCSS: true,</span><br><span class="line">            minifyURLs: true,</span><br><span class="line">        &#125;))</span><br><span class="line">        .pipe(gulp.dest(&apos;./public&apos;))</span><br><span class="line">&#125;);</span><br><span class="line">// 压缩css</span><br><span class="line">gulp.task(&apos;minify-css&apos;, function() &#123;</span><br><span class="line">    return gulp.src(&apos;./public/**/*.css&apos;)</span><br><span class="line">        .pipe(minifycss(&#123;</span><br><span class="line">            compatibility: &apos;ie8&apos;</span><br><span class="line">        &#125;))</span><br><span class="line">        .pipe(gulp.dest(&apos;./public&apos;));</span><br><span class="line">&#125;);</span><br><span class="line">// 压缩js</span><br><span class="line">gulp.task(&apos;minify-js&apos;, function() &#123;</span><br><span class="line">    return gulp.src(&apos;./public/js/**/*.js&apos;)</span><br><span class="line">        .pipe(uglify())</span><br><span class="line">        .pipe(gulp.dest(&apos;./public&apos;));</span><br><span class="line">&#125;);</span><br><span class="line">// 压缩图片</span><br><span class="line">gulp.task(&apos;minify-images&apos;, function() &#123;</span><br><span class="line">    return gulp.src(&apos;./public/images/**/*.*&apos;)</span><br><span class="line">        .pipe(imagemin(</span><br><span class="line">        [imagemin.gifsicle(&#123;&apos;optimizationLevel&apos;: 3&#125;), </span><br><span class="line">        imagemin.jpegtran(&#123;&apos;progressive&apos;: true&#125;), </span><br><span class="line">        imagemin.optipng(&#123;&apos;optimizationLevel&apos;: 7&#125;), </span><br><span class="line">        imagemin.svgo()],</span><br><span class="line">        &#123;&apos;verbose&apos;: true&#125;))</span><br><span class="line">        .pipe(gulp.dest(&apos;./public/images&apos;))</span><br><span class="line">&#125;);</span><br><span class="line">// 默认任务</span><br><span class="line">gulp.task(&apos;default&apos;, gulp.series(</span><br><span class="line">    &apos;minify-html&apos;,&apos;minify-css&apos;,&apos;minify-js&apos;,&apos;minify-images&apos;)</span><br><span class="line">    );</span><br><span class="line">// gulp.task(&apos;default&apos;, [</span><br><span class="line">//     &apos;minify-html&apos;,&apos;minify-css&apos;,&apos;minify-js&apos;,&apos;minify-images&apos;</span><br><span class="line">// ]);</span><br></pre></td></tr></table></figure><p></p><p>只需要每次在执行generate命令后执行gulp就可以实现对静态资源的压缩，压缩完成后执行deploy命令同步到服务器<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hexo g &amp;&amp; gulp</span><br><span class="line">hexo d</span><br></pre></td></tr></table></figure><p></p><h3 id="项目主页添加README"><a href="#项目主页添加README" class="headerlink" title="项目主页添加README"></a>项目主页添加README</h3><p>Github上博客的仓库主页空荡荡的，没有README。如果把README.md放入source文件夹，<code>hexo g</code>生成时会被解析成html文件，放到public文件夹，生成时又会自动删除。</p><p>解决方法很简单，在source目录下新建文件<code>README.mdown</code>，在里面写README即可。<code>hexo g</code>会把它复制到public文件夹，且不会被解析成html</p><h3 id="添加备案信息"><a href="#添加备案信息" class="headerlink" title="添加备案信息"></a>添加备案信息</h3><p>在NexT<code>_config.yml</code>，找到<code>beian</code>，设置如下：<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"># Beian ICP and gongan information for Chinese users. See: http://www.beian.miit.gov.cn, http://www.beian.gov.cn</span><br><span class="line">beian:</span><br><span class="line">  enable: true</span><br><span class="line">  icp: 陕ICP备17016165号</span><br><span class="line">  # The digit in the num of gongan beian.</span><br><span class="line">  gongan_id:</span><br><span class="line">  # The full num of gongan beian.</span><br><span class="line">  gongan_num:</span><br><span class="line">  # The icon for gongan beian. See: http://www.beian.gov.cn/portal/download</span><br><span class="line">  gongan_icon_url:</span><br></pre></td></tr></table></figure><p></p><h3 id="加入百度数据统计与分析功能"><a href="#加入百度数据统计与分析功能" class="headerlink" title="加入百度数据统计与分析功能"></a>加入百度数据统计与分析功能</h3><p>本站点使用的是百度统计 <a href="http://tongji.baidu.com/" target="_blank" rel="noopener">http://tongji.baidu.com/</a> 。加入数据统计与分析功能步骤如下：</p><p>注册站长账号并登陆，在这里 <a href="http://tongji.baidu.com/web/register" target="_blank" rel="noopener">http://tongji.baidu.com/web/register</a> 注册站长账号，并填写信息，网站域名和网站首页以下图为例来填写，注册完成后并登陆</p><p><img src="/Linux/博客搭建/windows下使用hexo搭建博客/0.5008629830589639.png" alt></p><p>在跳转的页面中会显示下图，复制hm.js后的id值<br><img src="/Linux/博客搭建/windows下使用hexo搭建博客/0.5335698970748279.png" alt></p><p>添加baidu_analytics字段，在站点<code>Hexo/theme/next_config.yml</code>中添加baidu_analytics字段，值为上步复制的id值:<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">baidu_analytics: 0b0b58037319da4959d5a3c014160ccd</span><br></pre></td></tr></table></figure><p></p><p>至此，该功能已成功加入，大约过20min后在百度统计上可以看到站点的访问情况，如下图：</p><p><img src="/Linux/博客搭建/windows下使用hexo搭建博客/0.7730600690335545.png" alt></p><h3 id="加入百度自动推送"><a href="#加入百度自动推送" class="headerlink" title="加入百度自动推送"></a>加入百度自动推送</h3><p>在<code>next/_config.yml</code>中，设置<code>baidu_push</code>为<code>true</code></p><h3 id="加入畅言评论功能（弃用）"><a href="#加入畅言评论功能（弃用）" class="headerlink" title="加入畅言评论功能（弃用）"></a>加入畅言评论功能（弃用）</h3><p>本站使用的是畅言：<a href="http://changyan.kuaizhan.com/" target="_blank" rel="noopener">http://changyan.kuaizhan.com/</a><br>注册设置完毕之后，进入畅言的后台，在后台总览中，可以找到appid，appkey，在<code>Hexo/_config.yml</code>中加入changyan字段：<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">changyan:</span><br><span class="line">  enable: true</span><br><span class="line">  appid: cyttqOlcY</span><br><span class="line">  appkey: e055f226ee07c801c76f47b3a44323c2</span><br></pre></td></tr></table></figure><p></p><h3 id="添加hexo-helper-live2d"><a href="#添加hexo-helper-live2d" class="headerlink" title="添加hexo-helper-live2d"></a>添加hexo-helper-live2d</h3><p><a href="https://github.com/EYHN/hexo-helper-live2d" target="_blank" rel="noopener">项目主页</a><br>首先安装依赖<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save hexo-helper-live2d</span><br></pre></td></tr></table></figure><p></p><p>接着安装<a href="https://github.com/xiazeyu/live2d-widget-models" target="_blank" rel="noopener">模型</a><br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install live2d-widget-model-wanko</span><br></pre></td></tr></table></figure><p></p><p>接着在站点目录下的<code>_config.yml</code>文件中进行配置<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">live2d:</span><br><span class="line">  enable: true</span><br><span class="line">  scriptFrom: local</span><br><span class="line">  pluginRootPath: live2dw/</span><br><span class="line">  pluginJsPath: lib/</span><br><span class="line">  pluginModelPath: assets/</span><br><span class="line">  tagMode: false</span><br><span class="line">  log: false</span><br><span class="line">  model:</span><br><span class="line">    use: live2d-widget-model-wanko</span><br><span class="line">  display:</span><br><span class="line">    position: right</span><br><span class="line">    width: 150</span><br><span class="line">    height: 300</span><br><span class="line">  mobile:</span><br><span class="line">    show: true</span><br></pre></td></tr></table></figure><p></p><p>更加详细的配置如下：<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"># Live2D</span><br><span class="line">## https://github.com/EYHN/hexo-helper-live2d</span><br><span class="line">live2d:</span><br><span class="line">  enable: true</span><br><span class="line">  # enable: false</span><br><span class="line">  pluginRootPath: live2dw/ # Root path of plugin to be on the site (Relative)</span><br><span class="line">  pluginJsPath: lib/ # JavaScript path related to plugin&apos;s root (Relative)</span><br><span class="line">  pluginModelPath: assets/ # Relative model path related to plugin&apos;s root (Relative)</span><br><span class="line">  scriptFrom: local # Default</span><br><span class="line">  # scriptFrom: jsdelivr # jsdelivr CDN</span><br><span class="line">  # scriptFrom: unpkg # unpkg CDN</span><br><span class="line">  # scriptFrom: https://cdn.jsdelivr.net/npm/live2d-widget@3.x/lib/L2Dwidget.min.js # Your custom url</span><br><span class="line">  tagMode: false # Whether only to replace live2d tag instead of inject to all pages</span><br><span class="line">  log: false # Whether to show logs in console</span><br><span class="line">  model:</span><br><span class="line">    use: live2d-widget-model-wanko # npm-module package name</span><br><span class="line">    # use: wanko # folder name in (hexo base dir)/live2d_models/</span><br><span class="line">    # use: ./wives/wanko # folder path relative to hexo base dir</span><br><span class="line">    # use: https://cdn.jsdelivr.net/npm/live2d-widget-model-wanko@1.0.5/assets/wanko.model.json # Your custom url</span><br></pre></td></tr></table></figure><p></p><h2 id="post目录管理"><a href="#post目录管理" class="headerlink" title="_post目录管理"></a>_post目录管理</h2><p>实现功能：现有的文章都是直接扔到<code>_post</code>目录下的，这样不方便管理github</p><p>首先，<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd &lt;your-hexo-site&gt;</span><br><span class="line">npm install --save hexo-directory-category</span><br></pre></td></tr></table></figure><p></p><p>接着在在站点目录下的<code>_config.yml</code>文件中进行配置<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">auto_dir_categorize:</span><br><span class="line">    enable: true  # options:true, false; default is true</span><br><span class="line">    force: true # options:true, false; default is false</span><br></pre></td></tr></table></figure><p></p><ul><li><strong>enable</strong> - Enable the plugin. Defaults to <strong>true</strong>.</li><li><strong>force</strong> - Overwrite article front-matter categories, even if it has option categories.Defaults to <strong>false</strong>.</li></ul><h3 id="enable-true-force-false"><a href="#enable-true-force-false" class="headerlink" title="enable: true, force: false"></a>enable: true, force: false</h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># file: ./_posts/Linux/Vim/note/test.md</span></span><br><span class="line"><span class="string">...</span></span><br><span class="line"><span class="attr">categories:</span> <span class="string">[CS,</span> <span class="string">Usage]</span></span><br><span class="line"><span class="attr">tags:</span> <span class="string">[...]</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># After hexo generate, it will nothing Conversion. categories: [CS, Usage]</span></span><br></pre></td></tr></table></figure><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># file: ./_posts/Linux/Vim/note/test.md</span></span><br><span class="line"><span class="string">...</span></span><br><span class="line"><span class="comment"># categories: [...]</span></span><br><span class="line"><span class="attr">tags:</span> <span class="string">[...]</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># After hexo generate, it will convert to categories: [Linux, Vim, note]</span></span><br></pre></td></tr></table></figure><h3 id="enable-true-force-true"><a href="#enable-true-force-true" class="headerlink" title="enable: true, force: true"></a>enable: true, force: true</h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># file: ./_posts/Linux/Vim/note/test.md</span></span><br><span class="line"><span class="string">...</span></span><br><span class="line"><span class="attr">categories:</span> <span class="string">[CS,</span> <span class="string">Usage]</span></span><br><span class="line"><span class="attr">tags:</span> <span class="string">[...]</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># After hexo generate, it also will convert to categories: [Linux, Vim, note]</span></span><br></pre></td></tr></table></figure><p>这里需要注意的是，需要把站点目录下的<code>_config.yml</code>文件中的<code>permalink: :category/:title/</code>更改为<code>permalink: :title/</code>，否则会导致出现两级目录，例如<code>file: ./_posts/Linux/Vim.md</code>，<code>categories: [Linux]</code>，那么生成的html目录为<code>Linux/Linux</code>。若<code>categories: [...]</code>，生成的html目录为<code>uncategorized/Linux</code>。</p><p>另外，若我Markdown文件中设置<code>categories: [...]</code>生成目录现在正常了，但是在分类页面，显示文章目录为<code>...</code>，必须显示的在md文件中显示的设置<code>categories: [Python]</code>分类页面才正常。<strong>所以既然还是需要显示的指明目录，所以也就失去了该插件的原有作用，虽然我提出issue关于这个问题，但是不知道是我表达的有问题还是什么的，总之没有解决这个问题，所以也就不需要这个插件了。</strong></p><blockquote><p>若想让访问目录和<code>categories</code>均显示二级甚至多级标题，<code>_post</code>目录下放置文件如下<code>file: ./_posts/Linux/Vim/note/test.md</code>，然后在<code>test.md</code>文件中设置<code>categories: [Linux, Vim, note]</code></p></blockquote><h2 id="skip-render的使用"><a href="#skip-render的使用" class="headerlink" title="skip_render的使用"></a>skip_render的使用</h2><p>如果设置<code>skip_render</code>不起作用，可以先执行<code>hexo clean</code>清除一下缓存。</p><p>另外，该命令从<code>source</code>开始找文件，在设置的时候不需要把<code>source/</code>加进去。</p><h3 id="drafts文档管理"><a href="#drafts文档管理" class="headerlink" title="_drafts文档管理"></a>_drafts文档管理</h3><p>当使用<code>hexo new draft &lt;title&gt;</code>的时候，它的原理是新文章将建立在 <code>source/_drafts</code> 目录下，因此 hexo generate 并不会将其编译到 public 目录下，所以 hexo deploy 也不会将其部署到 GitHub。</p><p>但是默认<code>hexo g</code>还是会编译，解决方法为在站点的<code>_config.yml</code>文件中，找到<code>skip_render</code>，更改为<code>skip_render: _drafts/*.md</code>。</p><h3 id="html文档管理"><a href="#html文档管理" class="headerlink" title="html文档管理"></a>html文档管理</h3><p>有的时候，我们想直接放入html文件，直接在文中引用，所以在<code>source</code>文件夹下建立<code>html</code>目录。将html文件放入该目录下。在站点的<code>_config.yml</code>文件中，找到<code>skip_render</code>，更改为<code>skip_render: [_drafts/*.md, html/*.htm]</code>。在文章中引用的话，使用类似于这样的<code>[见这里](/html/UEFI启动详解.htm)</code>语法即可。注意不要忘记目录的<code>/</code>。</p><blockquote><p>注意，这里html文件是以<code>htm</code>结尾的，若是<code>html</code>结尾的话，使用<code>gulp</code>指令压缩时可能会报错。</p></blockquote><h2 id="附件管理"><a href="#附件管理" class="headerlink" title="附件管理"></a>附件管理</h2><p>有的时候，想在文章中插入一下附件，我这里附件的位置和图片的位置放在同一个文件夹下，例如<code>_posts/C/Algorithms/Majority.md</code>文章的附件，我放的位置为<code>_posts/C/Algorithms/Majority/Majority_Attachments/Majority.mmap</code>，在<code>_posts/C/Algorithms/Majority.md</code>文章中，引用的时候，写入<code>[这里](Majority_Attachments/Majority.mmap)</code>。</p><blockquote><p>这里之所以附件的位置和图片的位置放在同一个文件夹下，一来是为了方便管理，而来如果放在和markdown文件同级目录，则使用<code>hexo g</code>生成的时候，不会将这些文件复制到<code>public</code>文件夹下。</p></blockquote><h2 id="博客百度站长平台自动链接提交"><a href="#博客百度站长平台自动链接提交" class="headerlink" title="博客百度站长平台自动链接提交"></a>博客百度站长平台自动链接提交</h2><p>在百度搜索引擎搜索自己的域名查看是否收录 <code>site:zdaiot.com</code></p><p>百度的 SEO 是个很蛋疼的事情，讲道理的话应该说是比较麻烦的。</p><p>有时候百度的爬虫因为各种原因会爬不到我们的网站，所以需要我们主动进行链接提交。</p><p>百度提供了三种方法来让我们提交链接：</p><h3 id="主动推送"><a href="#主动推送" class="headerlink" title="主动推送"></a>主动推送</h3><blockquote><p>请注意， 本插件的配置文件中包含秘钥， 请您妥善管理好您的博客源码。<br>您可以把源码<strong>保存在本地</strong>。<br>如果要托管在git仓库里，请选择<strong>私有仓库</strong>，博主本人选择的是免费的gitlab</p><p>优点：<br>某些主机，比如Github，禁止百度爬虫访问博客，导致博客无法被百度收录。多亏百度提供了主动提交的接口，这才有了个补救的方法。<br>除此之外， 使用主动推送还会达到如下功效：</p><ul><li>及时发现：可以缩短百度爬虫发现您站点新链接的时间，使新发布的页面可以在第一时间被百度收录</li><li>保护原创：对于网站的最新原创内容，使用主动推送功能可以快速通知到百度，使内容可以在转发之前被百度发现</li></ul></blockquote><p>首先注册百度站长工具，登录后，在<code>用户中心-&gt;站点管理</code>中添加个人信息，如下所示：</p><p><img src="/Linux/博客搭建/windows下使用hexo搭建博客/_u6355_u83B7.PNG" alt></p><p>然后，在<code>用户中心-&gt;站点管理</code>添加网站</p><p><img src="/Linux/博客搭建/windows下使用hexo搭建博客/fb1a2b0a-0025-461f-a302-3a580171a968.png" alt></p><p>最后一步提示，按照图中的要求进行验证即可这里推荐使用CNAME验证</p><p><img src="/Linux/博客搭建/windows下使用hexo搭建博客/348400b1-5cec-4b48-85b1-40288fa18d47.png" alt></p><p><img src="/Linux/博客搭建/windows下使用hexo搭建博客/6bcaaca5-d3cc-4c4e-b06b-81803f5c071f.png" alt></p><p>在<code>网站支持-&gt;数据引入-&gt;链接提交</code></p><p><img src="/Linux/博客搭建/windows下使用hexo搭建博客/bb62e487-5839-4abd-a05a-13d3c4abea83.png" alt></p><p>往下拉，找到准入密匙，显示如下图：</p><p><img src="/Linux/博客搭建/windows下使用hexo搭建博客/4effbc2e-5cf1-4a81-a18f-180d3214d755.png" alt></p><p>首先，在Hexo根目录下，安装本插件：<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-baidu-url-submit --save</span><br></pre></td></tr></table></figure><p></p><p>然后，同样在根目录下，把以下内容配置到`hexo/_config.yml’文件中:<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">baidu_url_submit:</span><br><span class="line">  count: 1 ## 提交最新的一个链接</span><br><span class="line">  host: www.zdaiot.com ## 在百度站长平台中注册的域名</span><br><span class="line">  token: your_token ## 请注意这是您的秘钥， 所以请不要把博客源代码发布在公众仓库里!</span><br><span class="line">  path: baidu_urls.txt ## 文本文档的地址， 新链接会保存在此文本文档里</span><br></pre></td></tr></table></figure><p></p><p>其次，记得查看`hexo/_config.yml’文件中url的值， 必须包含是百度站长平台注册的域名（一般有www），比如:<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># URL</span><br><span class="line">## If your site is put in a subdirectory, set url as &apos;http://yoursite.com/child&apos; and root as &apos;/child/&apos;</span><br><span class="line">url: http://www.zdaiot.com</span><br><span class="line">root: /</span><br><span class="line">permalink: :category/:title/</span><br><span class="line">permalink_defaults:</span><br></pre></td></tr></table></figure><p></p><p>更改deploy:<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># Deployment</span><br><span class="line">## Docs: https://hexo.io/docs/deployment.html</span><br><span class="line">deploy:</span><br><span class="line">- type: git</span><br><span class="line">  repository: git@github.com:zdaiot/zdaiot.github.io.git</span><br><span class="line">  branch: master</span><br><span class="line">- type: baidu_url_submitter</span><br></pre></td></tr></table></figure><p></p><blockquote><p>YAML依靠缩进来确定元素间的从属关系。因此，请确保每个deployer的缩进长度相同，并且使用空格缩进。</p></blockquote><p>推送功能的实现，分为两部分：</p><ul><li>新链接的产生， <code>hexo generate</code> 会产生一个文本文件，里面包含最新的链接</li><li>新链接的提交， <code>hexo deploy</code> 会从上述文件中读取链接，提交至百度搜索引擎</li></ul><p>显示如下图所示的字样，即可代表推送成功<br><img src="/Linux/博客搭建/windows下使用hexo搭建博客/35337ef9-4312-41c7-ad16-e99478d2c344.png" alt></p><h3 id="自动推送"><a href="#自动推送" class="headerlink" title="自动推送"></a>自动推送</h3><p>百度提供了一个 js 脚本，可以在有用户访问页面的时候自动把网址推送给 baidu。</p><p>脚本如下：<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;pre id=&quot;clipboard_textarea&quot;&gt;&lt;script&gt;</span><br><span class="line">(function()&#123;</span><br><span class="line">    var bp = document.createElement(&apos;script&apos;);</span><br><span class="line">    var curProtocol = window.location.protocol.split(&apos;:&apos;)[0];</span><br><span class="line">    if (curProtocol === &apos;https&apos;) &#123;</span><br><span class="line">        bp.src = &apos;https://zz.bdstatic.com/linksubmit/push.js&apos;;</span><br><span class="line">    &#125;</span><br><span class="line">    else &#123;</span><br><span class="line">        bp.src = &apos;http://push.zhanzhang.baidu.com/push.js&apos;;</span><br><span class="line">    &#125;</span><br><span class="line">    var s = document.getElementsByTagName(&quot;script&quot;)[0];</span><br><span class="line">    s.parentNode.insertBefore(bp, s);</span><br><span class="line">&#125;)();</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;/pre&gt;</span><br></pre></td></tr></table></figure><p></p><p>如果是netxt主题，next主题配置文件<code>next/_config.yml</code>中的<code>baidu_push</code>设置为true，就可以了。而其他的主题，我们只需要把这个脚本嵌入到我们的代码里面就可以了。</p><h3 id="sitemap"><a href="#sitemap" class="headerlink" title="sitemap"></a>sitemap</h3><p>sitemap 的话，我们直接使用插件，，前一个是传统的 sitemap，后一个是百度的 sitemap(如果你blog托管在GitHub,并且你不想在多花钱弄百度抓取，可以不用安装百度的sitemap)<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-generator-sitemap --save</span><br><span class="line">npm install hexo-generator-baidu-sitemap --save</span><br></pre></td></tr></table></figure><p></p><p>然后在<code>hexo/_config.yml</code>里面配置一下：<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sitemap:</span><br><span class="line">  path: sitemap.xml</span><br><span class="line">baidusitemap:</span><br><span class="line">  path: baidusitemap.xml</span><br></pre></td></tr></table></figure><p></p><ul><li><p>之后去百度站长平台提交一下 sitemap 的路径就好，一般都是www.example.com/baidusitemap.xml</p></li><li><p>当仅当您的网站包含不希望被搜索引擎收录的内容时，才需要使用robots.txt文件。如果您希望搜索引擎收录网站上所有内容，请勿建立robots.txt文件或者创建一个内容为空的robots.txt文件。添加蜘蛛协议在<code>hexo/source</code>文件夹下新建robots.txt文件，文件内容如下，<code>Allow</code>字段的值即为允许搜索引擎爬区的内容，<code>/</code>表示网站首页，<code>/categories/</code>为分类页面，如果菜单栏还有其他选项都可以按照格式自行添加。注意这些要跟自己网站目录一一对应:</p></li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">User-agent: *</span><br><span class="line">Allow: /</span><br><span class="line">Allow: /archives/</span><br><span class="line">Allow: /tags/</span><br><span class="line">Allow: /categories/</span><br><span class="line"></span><br><span class="line">Disallow: /vendors/</span><br><span class="line">Disallow: /js/</span><br><span class="line">Disallow: /css/</span><br><span class="line">Disallow: /fonts/</span><br><span class="line">Disallow: /vendors/</span><br><span class="line">Disallow: /fancybox/</span><br><span class="line"></span><br><span class="line">Sitemap: http://www.zdaiot.com/sitemap.xml</span><br><span class="line">Sitemap: http://www.zdaiot.com/baidusitemap.xml</span><br></pre></td></tr></table></figure><blockquote><p>注：当网站部署在github上时，robot.txt百度检查更新提示<code>百度暂时无法连接您的服务器，请检查服务器的设置，确保您网站的服务器能被正常访问。错误码：404</code></p></blockquote><h3 id="添加脚本"><a href="#添加脚本" class="headerlink" title="添加脚本"></a>添加脚本</h3><p>上述各种方法，甚至包括什么迁移至gitlab等对我来说不管用，但是下面方法竟然让百度收录了，在此记录一下：</p><p>附上推送脚本，其中的url = XXXXXXXXXXXXXXXXXXXXXXXXX，需要打开<a href="http://zhanzhang.baidu.com/linksubmit/index" target="_blank" rel="noopener">http://zhanzhang.baidu.com/linksubmit/index</a> 找到自己的推送接口填上去<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line">#!/usr/bin/env python</span><br><span class="line"># -*- coding: utf-8 -*-</span><br><span class="line"># @Author: LoveNight</span><br><span class="line"># @Date:   2015-11-16 20:45:59</span><br><span class="line"># @Last Modified by:   LoveNight</span><br><span class="line"># @Last Modified time: 2015-11-19 15:28:50</span><br><span class="line">import os,io</span><br><span class="line">import sys</span><br><span class="line">import json</span><br><span class="line">from bs4 import BeautifulSoup as BS</span><br><span class="line">import requests</span><br><span class="line">import platform</span><br><span class="line">sysstr = platform.system()</span><br><span class="line">if sysstr ==&quot;Windows&quot;:</span><br><span class="line">    import msvcrt as gt</span><br><span class="line">elif sysstr == &quot;Linux&quot;:</span><br><span class="line">    import getch as gt</span><br><span class="line"></span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line">hexo 博客专用，向百度站长平台提交所有网址</span><br><span class="line"></span><br><span class="line">本脚本必须放在hexo博客的根目录下执行！需要已安装生成百度站点地图的插件。</span><br><span class="line">百度站长平台提交链接：http://zhanzhang.baidu.com/linksubmit/index 从中找到自己的接口调用地址</span><br><span class="line">主动推送：最为快速的提交方式，推荐您将站点当天新产出链接立即通过此方式推送给百度，以保证新链接可以及时被百度收录。</span><br><span class="line"></span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line"></span><br><span class="line">url = &apos;XXXXXXXXXXXXXXXXXXXXXXXXX&apos;</span><br><span class="line">baidu_sitemap = os.path.join(sys.path[0], &apos;public&apos;, &apos;baidusitemap.xml&apos;)</span><br><span class="line">google_sitemap = os.path.join(sys.path[0], &apos;public&apos;, &apos;sitemap.xml&apos;)</span><br><span class="line">sitemap = [baidu_sitemap, google_sitemap]</span><br><span class="line"></span><br><span class="line">assert (os.path.exists(baidu_sitemap) or os.path.exists(</span><br><span class="line">    google_sitemap)), &quot;没找到任何网站地图，请检查！&quot;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># 从站点地图中读取网址列表</span><br><span class="line">def getUrls():</span><br><span class="line">    urls = []</span><br><span class="line">    for _ in sitemap:</span><br><span class="line">        if os.path.exists(_):</span><br><span class="line">            with io.open(_, &quot;r&quot;, encoding=&quot;utf-8&quot;) as f:</span><br><span class="line">                xml = f.read()</span><br><span class="line">            soup = BS(xml, &quot;html.parser&quot;)</span><br><span class="line">            tags = soup.find_all(&quot;loc&quot;)</span><br><span class="line">            urls += [x.string for x in tags]</span><br><span class="line">            if _ == baidu_sitemap:</span><br><span class="line">                tags = soup.find_all(&quot;breadCrumb&quot;, url=True)</span><br><span class="line">                urls += [x[&quot;url&quot;] for x in tags]</span><br><span class="line">    return urls</span><br><span class="line"></span><br><span class="line"># POST提交网址列表</span><br><span class="line">def postUrls(urls):</span><br><span class="line">    urls = set(urls)  # 先去重</span><br><span class="line">    print(&quot;一共提取出 %s 个网址&quot; % len(urls))</span><br><span class="line">    data = &quot;\n&quot;.join(urls)</span><br><span class="line">    return requests.post(url, data=data).text</span><br><span class="line"></span><br><span class="line">if __name__ == &apos;__main__&apos;:</span><br><span class="line">    urls = getUrls()</span><br><span class="line">    result = postUrls(urls)</span><br><span class="line">    print(&quot;提交结果：&quot;)</span><br><span class="line">    print(result)</span><br><span class="line">    gt.getch()</span><br></pre></td></tr></table></figure><p></p><p>刚发现个问题，如果在百度站长平台使用「 文件验证 」，hexo d之前要手动把验证文件放到public目录下。</p><p>如果贪方便放在source文件夹下，执行hexo g 时会往里塞新内容导致验证失败。</p><h2 id="将个人域名与-GitHub-Pages-的空间绑定"><a href="#将个人域名与-GitHub-Pages-的空间绑定" class="headerlink" title="将个人域名与 GitHub Pages 的空间绑定"></a>将个人域名与 GitHub Pages 的空间绑定</h2><ul><li>点击对应域名的”解析”</li></ul><p><img src="/Linux/博客搭建/windows下使用hexo搭建博客/898529-20170111155446931-1056891532788921234.png" alt></p><ul><li>点击添加解析，记录类型选A或CNAME，A记录的记录值就是ip地址，github(官方文档)提供了两个IP地址，<code>192.30.252.153和192.30.252.154</code>，这两个IP地址为github的服务器地址，两个都要填上，解析记录设置两个www和@，线路就默认就行了，CNAME记录值填你的github博客网址。如我的是<a href="http://www.zdaiot.com">zdaiot.github.io</a>。</li></ul><p><img src="/Linux/博客搭建/windows下使用hexo搭建博客/898529-20170111155934166-1006871703.png" alt></p><p>这些全部设置完成后，此时你并不能要申请的域名访问你的博客。接着你需要做的是在hexo根目录的source文件夹里创建<code>CNAME</code>文件，不带任何后缀，里面添加你的域名信息，如：<a href="http://www.zdaiot.com">www.zdaiot.com</a>。</p><ul><li>如果你填写的是没有www的，比如 zdaiot.com，那么无论是访问 <a href="http://www.zdaiot.com/">http://www.zdaiot.com</a> 还是 <a href="http://zdaiot.com/" target="_blank" rel="noopener">http://zdaiot.com</a> ，都会自动跳转到 <a href="http://zdaiot.com/" target="_blank" rel="noopener">http://zdaiot.com</a></li><li>如果你填写的是带www的，比如 www.zdaiot.com ，那么无论是访问 <a href="http://wwwzdaiot.com/" target="_blank" rel="noopener">http://www.zdaiot.com</a> 还是 <a href="http://zdaiot.com/" target="_blank" rel="noopener">http://zdaiot.com</a> ，都会自动跳转到 <a href="http://www.zdaiot.come/" target="_blank" rel="noopener">http://www.zdaiot.come</a></li><li>如果你填写的是其它子域名，比如 abc.zdaiot.com，那么访问 <a href="http://abc.zdaiot.com/" target="_blank" rel="noopener">http://abc.zdaiot.com</a> 没问题，但是访问 <a href="http://zdaiot.com/" target="_blank" rel="noopener">http://zdaiot.com</a> ，不会自动跳转到 <a href="http://abc.zdaiot.com/" target="_blank" rel="noopener">http://abc.zdaiot.com</a></li></ul><p>搭建完成访问出现404 可能的原因是：</p><ol><li>绑定了个人域名，但是域名解析错误。</li><li>域名解析正确但你的域名是通过国内注册商注册的，你的域名因没有实名制而无法访问。</li><li>你认为配置没有问题，那么可能只是你的浏览器在捣鬼，可尝试清除浏览器缓存再访问或者换个浏览器访问。</li><li>也有可能是你的路由器缓存导致的错觉，所以也可以尝试换个局域网访问你的网站。</li><li>最有可能的原因是你下载的hexo有问题，导致所有的东西都上传到了github,而导致index页面在主域名的下一级目录。你可以尝试查看上传的内容，找到index页面，在域名后面添加下一级目录。若能访问index页面（此时样式可能是乱的），则证明是hexo安装有问题，笔者当时遇到的就是这个问题。可卸载重新安装。</li></ol><blockquote><p>注：1，2默认你的CNAME文件配置没有问题，如果没有绑定个人域名，则不需要CNAME文件。</p></blockquote><h2 id="发表博文"><a href="#发表博文" class="headerlink" title="发表博文"></a>发表博文</h2><p>辛苦了这么久，终于回到我们搭建博客最初的目标–写作，现在来看看怎么写博文并发表吧(^__^)。</p><h3 id="新建页面"><a href="#新建页面" class="headerlink" title="新建页面"></a>新建页面</h3><p>上面新建的博文是显示在单个文章界面，这里新建的页面是作为单个页面显示的，比如下图的分类、标签、归档和关于我，你点击后都是显示为单个页面。</p><p><img src="/Linux/博客搭建/windows下使用hexo搭建博客/0.8056930453911084.png" alt></p><p>你只需要记住新建博文是用上面的方法，新建页面是用这里的方法就行了，这里也采用命令新建页面：<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new page &quot;页面名称&quot;</span><br></pre></td></tr></table></figure><p></p><p>命令执行完后，就会发现在在<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Hexo\source</span><br></pre></td></tr></table></figure><p></p><p>目录中多了一个文件夹，里面还有一个index.md，这就代表我们新建了一个页面。</p><h3 id="新建博文"><a href="#新建博文" class="headerlink" title="新建博文"></a>新建博文</h3><p>我们可以使用命令新建一篇博文,使用 Git Shell 进入 Hexo 文件夹，输入以下命令：<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new &quot;文章题目&quot;</span><br></pre></td></tr></table></figure><p></p><p>命令执行完后，就会发现在<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Hexo\source_posts</span><br></pre></td></tr></table></figure><p></p><p>目录中多了一个文件博文名.md，这就是我们刚才新建的博文。</p><p>此外，我们也可以直接进入<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Hexo\source_posts</span><br></pre></td></tr></table></figure><p></p><p>目录中，右键新建一个文本文档，将名字改为博文名.md，这样也新建了一篇博文。</p><h3 id="写博文"><a href="#写博文" class="headerlink" title="写博文"></a>写博文</h3><p>用文本编辑器打开上面新建的博文，如下图所示：</p><p><img src="/Linux/博客搭建/windows下使用hexo搭建博客/0.44572250401510294.png" alt></p><p>新建的页面略有不同，没有tags和categories标签。<br>三个”-“后面就是博文的正文内容，接下来就是正儿八经地撰写博文了。</p><h3 id="发博文"><a href="#发博文" class="headerlink" title="发博文"></a>发博文</h3><p>呼啦啦，博文写好了，你得发表出去别人才看得到呀。依然在 Git Shell 中进入 Hexo 文件夹，执行下面几条命令，将博客部署到 GitHub 上：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">hexo clean</span><br><span class="line">hexo generate</span><br><span class="line">(若要本地预览就先执行 hexo server)</span><br><span class="line">hexo deploy</span><br></pre></td></tr></table></figure><p>快捷命令：<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">hexo g == hexo generate</span><br><span class="line">hexo d == hexo deploy</span><br><span class="line">hexo s == hexo server</span><br><span class="line">hexo n == hexo new</span><br></pre></td></tr></table></figure><p></p><p>还能组合使用，如：<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo d -g</span><br></pre></td></tr></table></figure><p></p><p>刷新你的个人博客，就可以看到新鲜出炉的博文了，赶紧邀请小伙伴们来欣赏吧。</p><h3 id="插入优酷视频"><a href="#插入优酷视频" class="headerlink" title="插入优酷视频"></a>插入优酷视频</h3><p>新建一个markdown文件<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new &quot;video&quot;</span><br></pre></td></tr></table></figure><p></p><p>加入下面几行代码：<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">我怕我只是你生命中的一盏灯，掩盖了上一人，照亮了下一人，一盏灯，幸福而愚蠢！：</span><br><span class="line">&lt;iframe </span><br><span class="line">    height=498 width=510 </span><br><span class="line">    src=&quot;http://player.youku.com/embed/XMjg3ODQzMjQ=&quot;</span><br><span class="line">    frameborder=0 allowfullscreen&gt;</span><br><span class="line">&lt;/iframe&gt;</span><br></pre></td></tr></table></figure><p></p><p>其中，src的来源如下，在通用代码里面找到网址，填到上方：</p><p><img src="/Linux/博客搭建/windows下使用hexo搭建博客/95d3a3b1-384a-4a26-935f-523775a0a6ef.jpg" alt></p><h2 id="hexo多平台同步"><a href="#hexo多平台同步" class="headerlink" title="hexo多平台同步"></a>hexo多平台同步</h2><h3 id="不同步主题"><a href="#不同步主题" class="headerlink" title="不同步主题"></a>不同步主题</h3><p>最新的next主题可以做到不更改源代码即可实现之前的功能，所以多平台同步的功能也随之变得简单。</p><p>在<code>hexo</code>根目录新建<code>.gitignore</code>文件，在里面添加<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">.DS_Store</span><br><span class="line">Thumbs.db</span><br><span class="line">db.json</span><br><span class="line">*.log</span><br><span class="line">node_modules/</span><br><span class="line">public/</span><br><span class="line">.deploy*/</span><br><span class="line">bin/</span><br><span class="line">share/</span><br><span class="line">.idea/</span><br><span class="line">themes/next</span><br></pre></td></tr></table></figure><p></p><p>接着运行下面指令：<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">git init</span><br><span class="line">git add .</span><br><span class="line">git commit -m &quot;init hexo&quot;</span><br><span class="line">git remote add origin git@github.com:zdaiot/zdaiot.github.io.git //将本地与Github项目对接</span><br><span class="line">git push origin --delete hexo //若有的话，删除hexo分支</span><br><span class="line">git branch hexo   //新建分支</span><br><span class="line">git checkout hexo //切换分支</span><br><span class="line">git push origin hexo //注意hexo分支</span><br></pre></td></tr></table></figure><p></p><p>以后写文章，只需要在根目录下（hexo分支）进行git add,commit,push(hexo)操作，例如：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git add .</span><br><span class="line">git commit -m &quot;new post hexo theme sync solution&quot;</span><br><span class="line">git push origin hexo</span><br></pre></td></tr></table></figure><p>然后再更新master分支，即对外显示的html部分：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">// g为generate 生成，s为本地预览，d为deploy 部署到远程分支</span><br><span class="line">hexo clean &amp;&amp; hexo g &amp;&amp; gulp &amp;&amp; hexo d</span><br></pre></td></tr></table></figure><p>接下来为比较完整的在<strong>ubuntu电脑</strong>上的操作过程：<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">git clone git@github.com:zdaiot/zdaiot.github.io.git //clone 主仓库</span><br><span class="line">cd zdaiot.github.io/</span><br><span class="line">git config --global user.email &quot;zdaiot@163.com&quot;</span><br><span class="line">git config --global user.name &quot;zdaiot&quot;</span><br><span class="line">git checkout hexo //切换到hexo，以后基本都是基于此分支，master分支用hexo -d</span><br><span class="line"></span><br><span class="line">// ubuntu下安装node.js</span><br><span class="line">sudo apt-get install curl</span><br><span class="line">curl -sL https://deb.nodesource.com/setup_12.x | sudo -E bash -</span><br><span class="line">sudo apt-get install nodejs</span><br><span class="line">sudo apt install npm</span><br><span class="line">//npm install -g npm // 升级npm</span><br><span class="line"></span><br><span class="line">npm config set registry https://registry.npm.taobao.org</span><br><span class="line">npm info underscore</span><br><span class="line">npm config get prefix   // 查看全局安装路径，查看是否是`/usr`，不是的话进行更改</span><br><span class="line">// npm config set prefix &quot;/usr&quot; //修改全局安装路径</span><br></pre></td></tr></table></figure><p></p><p>然后，安装npm包，主题，以及其他操作<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">sudo npm install hexo-cli -g</span><br><span class="line">sudo npm install gulp-cli -g</span><br><span class="line">npm install</span><br><span class="line"></span><br><span class="line"># 安装完毕,更改mathjax行内公式问题</span><br><span class="line">npm uninstall hexo-renderer-marked --save</span><br><span class="line">cp inline.js ./node_modules/kramed/lib/rules</span><br><span class="line"></span><br><span class="line">git clone https://github.com/theme-next/hexo-theme-next themes/next</span><br><span class="line">cp source/_data/_config.yml themes/next</span><br></pre></td></tr></table></figure><p></p><blockquote><p>我把上面内容写在了网站根目录<code>hexo_bak.sh</code>文件中，直接运行这个文件也可以。</p></blockquote><h3 id="同步主题"><a href="#同步主题" class="headerlink" title="同步主题"></a>同步主题</h3><p>我基于<a href="https://www.zhihu.com/question/21193762" target="_blank" rel="noopener">这个回答</a>来解决这个问题的。问题主要出在theme上，由于NexT主题引自第三方，所以这就牵扯到git中的submodule问题了。想偷懒把不引入，但是好像不行，于是按以下思路进行解决：</p><p><strong>fork NexT官方的github到自己的仓库</strong>，然后引入子模块，我这边不知道为什么有“<a href="https://my.oschina.net/jerikc/blog/513039" target="_blank" rel="noopener">already exists in the index</a>”的问题，执行如下命令：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git rm -r --cached themes/next</span><br></pre></td></tr></table></figure><p>由于我是已经配置好了自己的NexT，为了不让它遗失，<strong>我先把它<code>剪贴</code>出来，再添加submodlue：</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git init</span><br><span class="line">git submodule add git@github.com:zdaiot/hexo-theme-next.git themes/next</span><br></pre></td></tr></table></figure><p>然后<strong>再把自己的配置覆盖<code>git clone</code>下来的NexT仓库。</strong></p><p>我们先要push submodule，在<code>theme/next</code>目录下依次执行：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">cd themes/next</span><br><span class="line">git add .</span><br><span class="line">git commit -m &quot;next settings in fork next rep&quot;</span><br><span class="line">git push origin master //这是提交到fork后主题的仓库</span><br></pre></td></tr></table></figure><blockquote><p>origin就是一个名字，它是在你clone一个托管在Github上代码库时，git为你默认创建的指向这个远程代码库的标签</p><p>注意，若想要github主仓库中<code>zdaiot/zdaiot.github.io/hexo/themes/next</code>指向的是<code>zdaiot/hexo-theme-next</code>最新版本，在更新主题的时候，要<strong>先在本地<code>themes/next</code>目录下将更改内容提交到github，然后在本地的主仓库中提交更改</strong>。</p></blockquote><p>这样，就提交到zdaiot/hexo-theme-next仓库。然后我们再更新<a href="https://github.com/zdaiot/zdaiot.github.io" target="_blank" rel="noopener">zdaiot.github.io</a>仓库：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">cd ../../ //切到仓库的根目录</span><br><span class="line">git add .</span><br><span class="line">git commit -m &quot;update next settings in blog sources branch&quot;</span><br><span class="line">git remote add origin git@github.com:zdaiot/zdaiot.github.io.git //将本地与Github项目对接</span><br><span class="line">git push origin --delete hexo //删除hexo分支</span><br><span class="line">git branch hexo   //新建分支</span><br><span class="line">git checkout hexo //切换分支</span><br><span class="line">git push origin hexo //注意hexo分支</span><br></pre></td></tr></table></figure><p>以后写文章，只需要在根目录下（hexo分支）进行git add,commit,push(hexo)操作，例如：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git add .</span><br><span class="line">git commit -m &quot;new post hexo theme sync solution&quot;</span><br><span class="line">git push origin hexo</span><br></pre></td></tr></table></figure><p>然后再更新master分支，即对外显示的html部分：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">// g为generate 生成，s为本地预览，d为deploy 部署到远程分支</span><br><span class="line">hexo clean &amp;&amp; hexo s &amp;&amp; gulp &amp;&amp; hexo d</span><br></pre></td></tr></table></figure><p>接下来为比较完整的在ubuntu电脑上的操作过程：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">git clone --recursive git@github.com:zdaiot/zdaiot.github.io.git //clone 主仓库</span><br><span class="line">cd zdaiot.github.io/</span><br><span class="line">git config --global user.email &quot;zdaiot@163.com&quot;</span><br><span class="line">git config --global user.name &quot;zdaiot&quot;</span><br><span class="line">git checkout hexo //切换到hexo，以后基本都是基于此分支，master分支用hexo -d</span><br><span class="line">cd themes/next/</span><br><span class="line">git submodule init</span><br><span class="line">git submodule update //获取我的NexT主题的配置</span><br><span class="line"></span><br><span class="line">cd ../..</span><br><span class="line"></span><br><span class="line">// ubuntu下安装node.js</span><br><span class="line">sudo apt-get install curl</span><br><span class="line">curl -sL https://deb.nodesource.com/setup_12.x | sudo -E bash -</span><br><span class="line">sudo apt-get install nodejs</span><br><span class="line">//npm install -g npm // 升级npm</span><br><span class="line"></span><br><span class="line">npm config set registry https://registry.npm.taobao.org</span><br><span class="line">npm info underscore</span><br><span class="line">npm config get prefix   // 查看全局安装路径，查看是否是`/usr`，不是的话进行更改</span><br><span class="line">// npm config set prefix &quot;/usr&quot; //修改全局安装路径</span><br></pre></td></tr></table></figure><p>接下来的任务主要是配置环境，nodejs安装，hexo等等。我将下面代码写成了一份<code>hexo_bak.sh</code>放到网站根目录，直接执行<code>bash hexo.sh</code>即可。<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">sudo npm install hexo-cli -g</span><br><span class="line">sudo npm install gulp-cli -g</span><br><span class="line">sudo apt-get install libtool automake autoconf nasm</span><br><span class="line">npm install</span><br><span class="line"></span><br><span class="line"># 安装完毕,更改mathjax行内公式问题</span><br><span class="line">npm uninstall hexo-renderer-marked --save</span><br><span class="line">cp inline.js ./node_modules/kramed/lib/rules</span><br><span class="line"></span><br><span class="line">git clone https://github.com/theme-next/hexo-theme-next themes/next</span><br><span class="line">cp source/_data/_config.yml themes/next</span><br></pre></td></tr></table></figure><p></p><h3 id="使用技巧"><a href="#使用技巧" class="headerlink" title="使用技巧"></a>使用技巧</h3><p>有两台电脑都配置好的时候，可以在一台电脑上同步到github，从另外一台电脑上执行<code>git pull origin hexo</code>完成本地与github端的同步.</p><p>如果想恢复历史版本<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git reflog</span><br><span class="line">// 接着回退版本，0bfafd就是你要回退的版本的commit id的前面几位。HEAD值的展示形式为HEAD@&#123;0&#125;、HEAD@&#123;1&#125;、HEAD@&#123;2&#125;..HEAD值的数字越小，表示版本越新，数字越大表示版本越旧。</span><br><span class="line">git reset --hard Obfafd</span><br></pre></td></tr></table></figure><p></p><p><code>git push origin master -f</code>，强行让本地分支覆盖远程分支</p><p>以图的形式查看所有的git历史</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">log</span> --graph</span><br></pre></td></tr></table></figure><h2 id="hexo部署脚本"><a href="#hexo部署脚本" class="headerlink" title="hexo部署脚本"></a>hexo部署脚本</h2><p>每次我们部署博客的时候，既要同步脚本，又要部署网站，感觉比较麻烦。可以写一个shell脚本，只需要输入commit的信息，即可完成更新。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> -n <span class="string">"please enter git commit information:"</span></span><br><span class="line"><span class="built_in">read</span> commitInformation</span><br><span class="line">git add .</span><br><span class="line">git commit -m <span class="string">"<span class="variable">$commitInformation</span>"</span></span><br><span class="line">git push aliyun hexo</span><br><span class="line">git push github hexo</span><br><span class="line"></span><br><span class="line">hexo g &amp;&amp; gulp &amp;&amp; hexo d</span><br><span class="line">python HexoPushBaidu.py</span><br></pre></td></tr></table></figure><p>注意，我这里不仅同步到了github，还同步到了我的阿里云。关于如何部署到阿里云，可以查看我的这篇文章——<a href="https://www.zdaiot.com/Linux/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/hexo%E9%83%A8%E7%BD%B2%E5%88%B0%E9%98%BF%E9%87%8C%E4%BA%91/">hexo部署到阿里云</a></p><h2 id="hexo迁移到csdn"><a href="#hexo迁移到csdn" class="headerlink" title="hexo迁移到csdn"></a>hexo迁移到csdn</h2><p>可以将笔记图片全部上传到腾讯云，并替换其中图片的链接，具体教程可以参考<a href="https://github.com/zdaiot/wiznote2hexo2csdn" target="_blank" rel="noopener">这里</a></p><h2 id="WordPress迁移"><a href="#WordPress迁移" class="headerlink" title="WordPress迁移"></a>WordPress迁移</h2><p>首先，安装 hexo-migrator-wordpress 插件。<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-migrator-wordpress --save</span><br></pre></td></tr></table></figure><p></p><p>在 WordPress 仪表盘中导出数据(“Tools” → “Export” → “WordPress”)（详情参考<a href="https://en.support.wordpress.com/export/" target="_blank" rel="noopener">WP支持页面</a>）。</p><p>插件安装完成后，执行下列命令来迁移所有文章。source 可以是 WordPress 导出的文件路径或网址</p><p>将导出的xml文件放到Hexo根目录<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo migrate wordpress</span><br></pre></td></tr></table></figure><p></p><h2 id="可能出现的错误"><a href="#可能出现的错误" class="headerlink" title="可能出现的错误"></a>可能出现的错误</h2><h3 id="问题一"><a href="#问题一" class="headerlink" title="问题一"></a>问题一</h3><p>[git]warning: LF will be replaced by CRLF | fatal: CRLF would be replaced by LF<br>遇到这两个错误，是因为Git的换行符检查功能。</p><p><strong>core.safecrlf</strong></p><p>Git提供了一个换行符检查功能（<code>core.safecrlf</code>），可以在提交时检查文件是否混用了不同风格的换行符。这个功能的选项如下：</p><ul><li><code>false</code> - 不做任何检查</li><li><code>warn</code> - 在提交时检查并警告</li><li><code>true</code> - 在提交时检查，如果发现混用则拒绝提交</li></ul><p>建议使用最严格的 <code>true</code> 选项。</p><p><strong>core.autocrlf</strong></p><p>假如你正在Windows上写程序，又或者你正在和其他人合作，他们在Windows上编程，而你却在其他系统上，在这些情况下，你可能会遇到行尾结束符问题。这是因为Windows使用回车和换行两个字符来结束一行，而Mac和Linux只使用换行一个字符。虽然这是小问题，但它会极大地扰乱跨平台协作。</p><p>Git可以在你提交时自动地把行结束符CRLF转换成LF，而在签出代码时把LF转换成CRLF。用<code>core.autocrlf</code>来打开此项功能，如果是在Windows系统上，把它设置成<code>true</code>，这样当签出代码时，LF会被转换成CRLF：<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git config --global core.autocrlf true</span><br></pre></td></tr></table></figure><p></p><p>Linux或Mac系统使用LF作为行结束符，因此你不想 Git 在签出文件时进行自动的转换；当一个以CRLF为行结束符的文件不小心被引入时你肯定想进行修正，把<code>core.autocrlf</code>设置成input来告诉 Git 在提交时把CRLF转换成LF，签出时不转换：<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git config --global core.autocrlf input</span><br></pre></td></tr></table></figure><p></p><p>这样会在Windows系统上的签出文件中保留CRLF，会在Mac和Linux系统上，包括仓库中保留LF。</p><p>如果你是Windows程序员，且正在开发仅运行在Windows上的项目，可以设置<code>false</code>取消此功能，把回车符记录在库中：<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git config --global core.autocrlf false</span><br></pre></td></tr></table></figure><p></p><h3 id="问题二"><a href="#问题二" class="headerlink" title="问题二"></a>问题二</h3><p>hexo指令出现<code>YAMLException: duplicated mapping key at line 111, column 1:</code></p><ul><li>查看是否缩进正常，空格或者tab一致</li><li>YAML依靠缩进来确定元素间的从属关系。因此，请确保每个deployer的缩进长度相同，并且使用空格缩进。</li></ul><h3 id="错误三"><a href="#错误三" class="headerlink" title="错误三"></a>错误三</h3><p>若把整个hexo根目录给提交了上去，这不是我要的结果啊，说好的只提交public文件夹的呢！查看hexo根目录，存在“.git”这个目录，原来是在hexo根目录下，我进行过git init的操作，删除“.git”文件夹即可。</p><h3 id="错误三-1"><a href="#错误三-1" class="headerlink" title="错误三"></a>错误三</h3><p>使用<code>hexo s</code>指令后，打开浏览器，发现加载速度很慢，然后找不到任何东西。</p><p>可能是因为端口被占用了，找到<code>node_modules\hexo-server\index.js</code>，然后修改里面的port。</p><h3 id="错误四"><a href="#错误四" class="headerlink" title="错误四"></a>错误四</h3><p>生成的html文件内无任何东西，则考虑是主题没有放在<code>themes</code>文件夹下，或者名字不对。例如在网站根目录的<code>_config.yml</code>中设置为<code>theme: 3-hexo</code>，但是该主题文件夹为<code>themes/hexo-theme-3-hexo</code>，名字对不上，所以产生不了文件。</p><h3 id="错误五"><a href="#错误五" class="headerlink" title="错误五"></a>错误五</h3><p>在markdown文件中，不能出现连续的<code></code>，否则会报错<code>Nunjucks Error: expected variable end</code>。若是必须要使用这两个，可以在两个大括号中间加上空格。例如<code>{ {</code>或<code>} }</code></p><h3 id="错误六"><a href="#错误六" class="headerlink" title="错误六"></a>错误六</h3><p>使用<code>npm install</code>时如果遇到了错误：<code>Error: Command failed: C:\WINDOWS\system32\cmd.exe /s /c &quot;autoreconf -ivf&quot;</code>，则</p><p>If ping <code>raw.githubusercontent.com</code> timed out，add hosts</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">52.74.223.119     github.com</span><br><span class="line">192.30.253.119    gist.github.com</span><br><span class="line">54.169.195.247    api.github.com</span><br><span class="line">185.199.111.153   assets-cdn.github.com</span><br><span class="line">151.101.76.133    raw.githubusercontent.com</span><br><span class="line">151.101.76.133    gist.githubusercontent.com</span><br><span class="line">151.101.76.133    cloud.githubusercontent.com</span><br><span class="line">151.101.76.133    camo.githubusercontent.com</span><br><span class="line">151.101.76.133    avatars0.githubusercontent.com</span><br><span class="line">151.101.76.133    avatars1.githubusercontent.com</span><br><span class="line">151.101.76.133    avatars2.githubusercontent.com</span><br><span class="line">151.101.76.133    avatars3.githubusercontent.com</span><br><span class="line">151.101.76.133    avatars4.githubusercontent.com</span><br><span class="line">151.101.76.133    avatars5.githubusercontent.com</span><br><span class="line">151.101.76.133    avatars6.githubusercontent.com</span><br><span class="line">151.101.76.133    avatars7.githubusercontent.com</span><br><span class="line">151.101.76.133    avatars8.githubusercontent.com</span><br></pre></td></tr></table></figure><p><code>npm cache clean -f</code>，ping <code>raw.githubusercontent.com</code> again</p><p>若这种方法不管用的话，建议使用：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install cnpm -g</span><br><span class="line">cnpm install gifsicle</span><br></pre></td></tr></table></figure><h3 id="错误七"><a href="#错误七" class="headerlink" title="错误七"></a>错误七</h3><p>如果遇到错误<code>hexo : 无法加载文件 C:\Users\zdaio\AppData\Roaming\npm\hexo.ps1，因为在此系统上禁止运行脚本。</code>，则搜索powershell，右键以管理员身份运行。若要在本地计算机上运行您编写的未签名脚本和来自其他用户的签名脚本，请使用以下命令将计算机上的 执行策略更改为 RemoteSigned，执行：<code>set-ExecutionPolicy RemoteSigned</code></p><h3 id="错误八"><a href="#错误八" class="headerlink" title="错误八"></a>错误八</h3><p>若遇到任何关于<code>gulp-imagemin</code>的错误，例如<code>TypeError in plugin &quot;gulp-imagemin&quot; Message: fn is not a function</code>。则运行：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cnpm install --save-dev gulp-imagemin</span><br></pre></td></tr></table></figure><h3 id="Ubuntu下gulp报错"><a href="#Ubuntu下gulp报错" class="headerlink" title="Ubuntu下gulp报错"></a>Ubuntu下gulp报错</h3><p>在Ubuntu下安装完依赖包后，出现了，执行<code>gulp</code>指令，出现了下面的错误<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[20:17:55] Using gulpfile ~/Documents/zdaiot.github.io/gulpfile.js</span><br><span class="line">/usr/lib/node_modules/gulp/bin/gulp.js:129</span><br><span class="line">    gulpInst.start.apply(gulpInst, toRun);</span><br><span class="line">                   ^</span><br><span class="line"></span><br><span class="line">TypeError: Cannot read property &apos;apply&apos; of undefined</span><br><span class="line">    at /usr/lib/node_modules/gulp/bin/gulp.js:129:20</span><br><span class="line">    at process._tickCallback (internal/process/next_tick.js:61:11)</span><br><span class="line">    at Function.Module.runMain (internal/modules/cjs/loader.js:888:11)</span><br><span class="line">    at startup (internal/bootstrap/node.js:315:19)</span><br><span class="line">    at bootstrapNodeJSCore (internal/bootstrap/node.js:656:3)</span><br></pre></td></tr></table></figure><p></p><p>原来是我安装的全局gulp和现在版本的冲突了，但是使用<code>npm un gulp -g</code>不能解决这个问题，观察上面报错，应该是使用的<code>/usr/lib/node_modules/gulp</code>，而不是我们自己的<code>gulp</code>。<code>cd</code>到该目录，删除该文件夹。</p><p>同时，还有一个问题，当安装完<code>npm</code>时，这个默认安装在<code>/usr/lib/node_modules/</code>文件夹，当你使用<code>npm config set prefix &quot;/home/zdaiot/software&quot;</code>设置完新的全局路径时，再使用<code>npm install -g npm</code>指令升级<code>npm</code>时，会安装到你的新设置的全局路径上，但是使用的还是<code>/usr/lib/node_modules/</code>文件夹下的<code>npm</code></p><h3 id="公式渲染问题"><a href="#公式渲染问题" class="headerlink" title="公式渲染问题"></a>公式渲染问题</h3><p>注意公式中不能出现多余的<code>{}</code>，否则会导致<code>hexo g</code>出错。尤其是使用<code>mathpix</code>软件的时候会出现这个问题。</p><h3 id="其他问题"><a href="#其他问题" class="headerlink" title="其他问题"></a>其他问题</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">spawn git ENOENT</span><br></pre></td></tr></table></figure><p>解决方法在这里：<a href="http://liangwenhao.cn/2016/08/24/article03/" target="_blank" rel="noopener">spawn git ENOENT解决方法</a><br>头像图片无法显示：<a href="http://liangwenhao.cn/2016/08/29/article28/" target="_blank" rel="noopener">hexo头像无法显示【解决办法】</a></p><h2 id="调试"><a href="#调试" class="headerlink" title="调试"></a>调试</h2><p>打开网站，开启F12，查看console，报的错，对应去修改</p><p>如下图所示，可以去调试移动端的布局</p><p><img src="/Linux/博客搭建/windows下使用hexo搭建博客/02f63796-0be9-424e-bf40-31d939065e1b.png" alt></p><h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><p><a href="https://zhuanlan.zhihu.com/p/22191919?group_id=752552413755359232" target="_blank" rel="noopener">用 GitHub + Hexo 建立你的第一个博客</a><br><a href="https://blog.csdn.net/qq_33699981/article/details/72716951#t0" target="_blank" rel="noopener">hexo的next主题个性化教程：打造炫酷网站</a><br><a href="https://asdfv1929.github.io/2018/01/21/daovoice/" target="_blank" rel="noopener">Hexo NexT主题内接入网页在线联系功能</a><br><a href="https://blog.csdn.net/lcyaiym/article/details/76796545" target="_blank" rel="noopener">hexo的next主题打赏</a><br><a href="https://www.jianshu.com/p/cf0628478a4e" target="_blank" rel="noopener">Hexo发布博客引用自带图片的方法</a><br><a href="http://theme-next.iissnan.com/getting-started.html" target="_blank" rel="noopener">Next主页</a><br><a href="http://etrd.org/2017/01/23/hexo%E4%B8%AD%E5%AE%8C%E7%BE%8E%E6%8F%92%E5%85%A5%E6%9C%AC%E5%9C%B0%E5%9B%BE%E7%89%87/" target="_blank" rel="noopener">hexo中完美插入本地图片</a><br><a href="https://github.com/gitalk/gitalk/issues/115" target="_blank" rel="noopener">hexo next 主题配置 gitalk 评论后无法初始化创建 issue</a><br><a href="https://github.com/gitalk/gitalk/issues/102" target="_blank" rel="noopener">报错出现 Error: Validation Failed. #102</a><br><a href="https://blog.csdn.net/babylove_BaLe/article/details/76824372" target="_blank" rel="noopener">在Hexo发布博客的MarkDown文件中引入JS代码</a><br><a href="https://www.jianshu.com/p/57afa4844aaa" target="_blank" rel="noopener">Gitment评论功能接入踩坑教程</a><br><a href="https://www.jianshu.com/p/3a05351a37dc" target="_blank" rel="noopener">Hexo的Next主题详细配置</a><br><a href="https://www.jianshu.com/p/3ff20be8574c" target="_blank" rel="noopener">Hexo-Next-主题优化(一)</a><br><a href="https://www.jianshu.com/p/efbeddc5eb19" target="_blank" rel="noopener">Hexo+Next个人博客主题优化</a><br><a href="https://www.jianshu.com/p/69fa74d47ac6" target="_blank" rel="noopener">Hexo部署至多个repo上，多域名指向</a><br><a href="https://hui-wang.info/2016/10/23/Hexo%E6%8F%92%E4%BB%B6%E4%B9%8B%E7%99%BE%E5%BA%A6%E4%B8%BB%E5%8A%A8%E6%8F%90%E4%BA%A4%E9%93%BE%E6%8E%A5/" target="_blank" rel="noopener">Hexo插件之百度主动提交链接</a><br><a href="https://purewhite.io/2017/04/29/hexo-baidu-url-submit/" target="_blank" rel="noopener">hexo 博客百度站长平台自动链接提交</a><br><a href="http://www.wuxubj.cn/2016/08/Hexo-nexT-build-personal-blog/#" target="_blank" rel="noopener">Hexo+nexT主题搭建个人博客</a><br><a href="https://blog.csdn.net/Monkey_LZL/article/details/60870891" target="_blank" rel="noopener">如何解决github+Hexo的博客多终端同步问题</a><br><a href="https://blog.csdn.net/u010873775/article/details/71303116" target="_blank" rel="noopener">基于Hexo的博客同步中的一些问题</a><br><a href="https://asdfv1929.github.io/2018/05/25/baidu-share/" target="_blank" rel="noopener">Hexo NexT主题中添加百度分享功能</a><br><a href="https://malizhi.cn/nextTutorial/#more文章中" target="_blank" rel="noopener">next主题进阶教程</a><br><a href="http://www.wuxubj.cn/2016/08/Hexo-nexT-build-personal-blog/" target="_blank" rel="noopener">Hexo+nexT主题搭建个人博客</a><br><a href="https://www.zhihu.com/question/30898326/answer/155853364" target="_blank" rel="noopener">脚本推送百度</a><br><a href="https://ppundsh.github.io/posts/8e7e/" target="_blank" rel="noopener">HEXO添加复制功能</a><br><a href="https://github.com/zthxxx/hexo-directory-category/issues/5" target="_blank" rel="noopener">关于在next主题下的应用</a><br><a href="https://github.com/zthxxx/hexo-theme-Wikitten" target="_blank" rel="noopener">hexo-theme-Wikitten</a><br><a href="https://github.com/zthxxx/hexo-directory-category" target="_blank" rel="noopener">hexo-directory-category</a><br><a href="https://yejiayong.com/%E4%B8%BANexT%E4%B8%BB%E9%A2%98%E7%9A%84Hexo%E5%8D%9A%E5%AE%A2%E5%A2%9E%E5%8A%A0%E5%A4%87%E6%A1%88%E5%8F%B7/" target="_blank" rel="noopener">为NexT主题的Hexo博客增加备案号</a><br><a href="https://www.zhihu.com/question/28847824/answer/52739177" target="_blank" rel="noopener">配置hexo 为什么运行到 hexo server 这步就没用了？ - 欧阳的回答 - 知乎</a><br><a href="https://www.zhihu.com/question/38781463/answer/130450857" target="_blank" rel="noopener">hexo本地测试运行重启后页面空白,提示 : WARN No layout: index.html? - Hpupu的回答 - 知乎</a><br><a href="https://github.com/theme-next/theme-next-pjax" target="_blank" rel="noopener">theme-next-pjax</a><br><a href="https://www.jianshu.com/p/087d839e1d0c" target="_blank" rel="noopener">npm常用命令</a><br><a href="https://blog.csdn.net/alex_my/article/details/78134314" target="_blank" rel="noopener">npm更新模块并同步到package.json中</a><br><a href="https://hexo-guide.readthedocs.io/zh_CN/latest/advanced/[gulp]%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96.html" target="_blank" rel="noopener">[gulp]性能优化</a><br><a href="https://stackoverflow.com/questions/40521506/gulpuglifyerrorunable-to-minify-javascript" target="_blank" rel="noopener">GulpUglifyError:Unable to minify JavaScript</a><br><a href="https://tecadmin.net/install-latest-nodejs-npm-on-ubuntu/" target="_blank" rel="noopener">How to Install Latest Node.js and NPM on Ubuntu with PPA</a><br><a href="https://www.jianshu.com/p/27ad5ebbd13d" target="_blank" rel="noopener">初识Gulp</a><br><a href="https://novnan.github.io/Hexo/hexo-draft/" target="_blank" rel="noopener">Hexo 文章保存为草稿</a><br><a href="https://blog.csdn.net/ganzhilin520/article/details/79057774" target="_blank" rel="noopener">Hexo不渲染.md或者.html</a><br><a href="http://xchb.work/2017/04/08/hexo%E5%BF%BD%E7%95%A5%E6%96%87%E4%BB%B6-skip-render-%E9%85%8D%E7%BD%AE/" target="_blank" rel="noopener">hexo忽略文件(skip_render)配置</a><br><a href="https://github.com/imagemin/imagemin-gifsicle/issues/33" target="_blank" rel="noopener">Error: Command failed: C:\WINDOWS\system32\cmd.exe /s /c “autoreconf -ivf” #33</a><br><a href="https://blog.csdn.net/weixin_38883338/article/details/100054550" target="_blank" rel="noopener">PowerShell : 无法加载文件 C:\Users\huyn\AppData\Roaming\npm\ng.ps1，因为在此系统上禁止运行脚本</a><br><a href="https://github.com/JeffreyWay/laravel-mix/issues/1480" target="_blank" rel="noopener">postInstall script fails with mozjpeg. ¿What does this mean? #1480</a><br><a href="https://github.com/sindresorhus/gulp-imagemin" target="_blank" rel="noopener">gulp-imagemin</a><br><a href="https://github.com/imagemin/imagemin-gifsicle/issues/33#issuecomment-665074317" target="_blank" rel="noopener">Error: Command failed: C:\WINDOWS\system32\cmd.exe /s /c “autoreconf -ivf” #33</a></p></div><div><div style="text-align:center;color:#ccc;font-size:14px">------ 本文结束------</div></div><div class="reward-container"><div>坚持原创技术分享，您的支持将鼓励我继续创作！</div> <button onclick='var qr=document.getElementById("qr");qr.style.display="none"===qr.style.display?"block":"none"'> 打赏</button><div id="qr" style="display:none"><div style="display:inline-block"> <img src="/uploads/wechat.png" alt="zdaiot 微信支付"><p>微信支付</p></div><div style="display:inline-block"> <img src="/uploads/aipay.jpg" alt="zdaiot 支付宝"><p>支付宝</p></div></div></div><div><ul class="post-copyright"><li class="post-copyright-author"> <strong>本文作者：</strong> zdaiot</li><li class="post-copyright-link"> <strong>本文链接：</strong> <a href="https://www.zdaiot.com/Linux/博客搭建/windows下使用hexo搭建博客/" title="windows下使用hexo搭建博客">https://www.zdaiot.com/Linux/博客搭建/windows下使用hexo搭建博客/</a></li><li class="post-copyright-license"> <strong>版权声明：</strong> 本博客所有文章除特别声明外，均采用<a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="noopener" target="_blank"><i class="fab fa-fw fa-creative-commons"></i> BY-NC-SA</a> 许可协议。转载请注明出处！</li></ul></div><div class="followme"><p>欢迎关注我的其它发布渠道</p><div class="social-list"><div class="social-item"><a target="_blank" class="social-link" href="/uploads/wechat-qcode.jpg"><span class="icon"><i class="fab fa-weixin"></i></span> <span class="label">WeChat</span></a></div></div></div><footer class="post-footer"><div class="post-tags"><a href="/tags/Hexo/" rel="tag"><i class="fa fa-tag"></i> Hexo</a><a href="/tags/Next/" rel="tag"><i class="fa fa-tag"></i> Next</a><a href="/tags/npm/" rel="tag"><i class="fa fa-tag"></i> npm</a></div><div class="post-nav"><div class="post-nav-item"><a href="/Python/常用第三方包/ubuntu系统下matplotlib中文乱码问题的解决方法/" rel="prev" title="ubuntu系统下matplotlib中文乱码问题的解决方法"><i class="fa fa-chevron-left"></i> ubuntu系统下matplotlib中文乱码问题的解决方法</a></div><div class="post-nav-item"> <a href="/Linux/博客搭建/centos7搭建wordpress/" rel="next" title="centos7搭建wordpress">centos7搭建wordpress<i class="fa fa-chevron-right"></i></a></div></div></footer></article></div><div class="comments" id="gitalk-container"></div><script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script></div><div class="toggle sidebar-toggle"><span class="toggle-line toggle-line-first"></span><span class="toggle-line toggle-line-middle"></span><span class="toggle-line toggle-line-last"></span></div><aside class="sidebar"><div class="sidebar-inner"><ul class="sidebar-nav motion-element"><li class="sidebar-nav-toc"> 文章目录</li><li class="sidebar-nav-overview"> 站点概览</li></ul><div class="post-toc-wrap sidebar-panel"><div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#前言"><span class="nav-number">1.</span> <span class="nav-text">前言</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Why-GitHub-Pages-and-Hexo"><span class="nav-number">2.</span> <span class="nav-text">Why GitHub Pages and Hexo</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#准备工作"><span class="nav-number">3.</span> <span class="nav-text">准备工作</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#注册-GitHub"><span class="nav-number">3.1.</span> <span class="nav-text">注册 GitHub</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#在-GitHub-上建立仓库"><span class="nav-number">3.2.</span> <span class="nav-text">在 GitHub 上建立仓库</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#安装软件"><span class="nav-number">3.3.</span> <span class="nav-text">安装软件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#配置-SSH"><span class="nav-number">3.4.</span> <span class="nav-text">配置 SSH</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#npm常用指令"><span class="nav-number">3.5.</span> <span class="nav-text">npm常用指令</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#安装Hexo"><span class="nav-number">4.</span> <span class="nav-text">安装Hexo</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Hexo-安装"><span class="nav-number">4.1.</span> <span class="nav-text">Hexo 安装</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#部署Hexo"><span class="nav-number">4.2.</span> <span class="nav-text">部署Hexo</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#将本地文件部署到-GitHub"><span class="nav-number">5.</span> <span class="nav-text">将本地文件部署到 GitHub</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#安装Next主题"><span class="nav-number">6.</span> <span class="nav-text">安装Next主题</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#配置Next主题"><span class="nav-number">7.</span> <span class="nav-text">配置Next主题</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#风格配置"><span class="nav-number">7.1.</span> <span class="nav-text">风格配置</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#菜单设置"><span class="nav-number">7.2.</span> <span class="nav-text">菜单设置</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#添加标签页面"><span class="nav-number">7.2.1.</span> <span class="nav-text">添加标签页面</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#添加分类标签"><span class="nav-number">7.2.2.</span> <span class="nav-text">添加分类标签</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#添加我的页面"><span class="nav-number">7.2.3.</span> <span class="nav-text">添加我的页面</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#语言设置"><span class="nav-number">7.3.</span> <span class="nav-text">语言设置</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#头像设置"><span class="nav-number">7.4.</span> <span class="nav-text">头像设置</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#头像下方文字和作者设置"><span class="nav-number">7.5.</span> <span class="nav-text">头像下方文字和作者设置</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#新建404界面"><span class="nav-number">7.6.</span> <span class="nav-text">新建404界面</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#设置首页文章截断"><span class="nav-number">7.7.</span> <span class="nav-text">设置首页文章截断</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#设置网站的图标Favicon"><span class="nav-number">7.8.</span> <span class="nav-text">设置网站的图标Favicon</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#显示返回顶部按钮"><span class="nav-number">7.9.</span> <span class="nav-text">显示返回顶部按钮</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#开启订阅微信公众号"><span class="nav-number">7.10.</span> <span class="nav-text">开启订阅微信公众号</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#添加顶部加载条"><span class="nav-number">7.11.</span> <span class="nav-text">添加顶部加载条</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#修改文章底部的那个带-号的标签"><span class="nav-number">7.12.</span> <span class="nav-text">修改文章底部的那个带#号的标签</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#设置自定义样式"><span class="nav-number">7.13.</span> <span class="nav-text">设置自定义样式</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#修改文章内文本连接样式"><span class="nav-number">7.13.1.</span> <span class="nav-text">修改文章内文本连接样式</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#主页文章添加阴影效果"><span class="nav-number">7.13.2.</span> <span class="nav-text">主页文章添加阴影效果</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#每篇文章末尾统一添加“本文结束”标记"><span class="nav-number">7.13.3.</span> <span class="nav-text">每篇文章末尾统一添加“本文结束”标记</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#在底部添加网站运行时间"><span class="nav-number">7.13.4.</span> <span class="nav-text">在底部添加网站运行时间</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#文章顶部显示更新时间"><span class="nav-number">7.14.</span> <span class="nav-text">文章顶部显示更新时间</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#设置可见markdown源代码"><span class="nav-number">7.15.</span> <span class="nav-text">设置可见markdown源代码</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#设置pjax"><span class="nav-number">7.16.</span> <span class="nav-text">设置pjax</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#侧边栏设置"><span class="nav-number">7.17.</span> <span class="nav-text">侧边栏设置</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#设置侧边栏社交链接"><span class="nav-number">7.17.1.</span> <span class="nav-text">设置侧边栏社交链接</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#设置侧边栏社交图标"><span class="nav-number">7.17.2.</span> <span class="nav-text">设置侧边栏社交图标</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#RSS"><span class="nav-number">7.17.3.</span> <span class="nav-text">RSS</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#友情链接"><span class="nav-number">7.17.4.</span> <span class="nav-text">友情链接</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#添加百度分享-弃用"><span class="nav-number">7.18.</span> <span class="nav-text">添加百度分享(弃用)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#添加AddThis分享"><span class="nav-number">7.19.</span> <span class="nav-text">添加AddThis分享</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#设置代码"><span class="nav-number">7.20.</span> <span class="nav-text">设置代码</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#渲染-MathJax-数学公式"><span class="nav-number">7.21.</span> <span class="nav-text">渲染 MathJax 数学公式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#首页显示文章标题，而非全文"><span class="nav-number">7.22.</span> <span class="nav-text">首页显示文章标题，而非全文</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#在右上角或者左上角实现fork-me-on-github"><span class="nav-number">7.23.</span> <span class="nav-text">在右上角或者左上角实现fork me on github</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#在网站底部加上访问量与字数统计"><span class="nav-number">7.24.</span> <span class="nav-text">在网站底部加上访问量与字数统计</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#实现文章统计功能"><span class="nav-number">7.25.</span> <span class="nav-text">实现文章统计功能</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#隐藏网页底部powered-By-Hexo-强力驱动"><span class="nav-number">7.26.</span> <span class="nav-text">隐藏网页底部powered By Hexo / 强力驱动</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#在文章底部增加版权信息"><span class="nav-number">7.27.</span> <span class="nav-text">在文章底部增加版权信息</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#文章加密访问"><span class="nav-number">7.28.</span> <span class="nav-text">文章加密访问</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Next-V6-0之前"><span class="nav-number">7.28.1.</span> <span class="nav-text">Next V6.0之前</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Next-V6-0之后"><span class="nav-number">7.28.2.</span> <span class="nav-text">Next V6.0之后</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#添加gitalk评论系统"><span class="nav-number">7.29.</span> <span class="nav-text">添加gitalk评论系统</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#接入网页在线联系功能"><span class="nav-number">7.30.</span> <span class="nav-text">接入网页在线联系功能</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#添加打赏功能"><span class="nav-number">7.31.</span> <span class="nav-text">添加打赏功能</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#资源文件夹"><span class="nav-number">7.32.</span> <span class="nav-text">资源文件夹</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#加入站点内容搜索功能"><span class="nav-number">7.33.</span> <span class="nav-text">加入站点内容搜索功能</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#手机端site-subtitle显示优化-舍弃"><span class="nav-number">7.34.</span> <span class="nav-text">手机端site-subtitle显示优化(舍弃)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#博文置顶"><span class="nav-number">7.35.</span> <span class="nav-text">博文置顶</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#修改访问URL路径"><span class="nav-number">7.36.</span> <span class="nav-text">修改访问URL路径</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#静态资源压缩"><span class="nav-number">7.37.</span> <span class="nav-text">静态资源压缩</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#项目主页添加README"><span class="nav-number">7.38.</span> <span class="nav-text">项目主页添加README</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#添加备案信息"><span class="nav-number">7.39.</span> <span class="nav-text">添加备案信息</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#加入百度数据统计与分析功能"><span class="nav-number">7.40.</span> <span class="nav-text">加入百度数据统计与分析功能</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#加入百度自动推送"><span class="nav-number">7.41.</span> <span class="nav-text">加入百度自动推送</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#加入畅言评论功能（弃用）"><span class="nav-number">7.42.</span> <span class="nav-text">加入畅言评论功能（弃用）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#添加hexo-helper-live2d"><span class="nav-number">7.43.</span> <span class="nav-text">添加hexo-helper-live2d</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#post目录管理"><span class="nav-number">8.</span> <span class="nav-text">_post目录管理</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#enable-true-force-false"><span class="nav-number">8.1.</span> <span class="nav-text">enable: true, force: false</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#enable-true-force-true"><span class="nav-number">8.2.</span> <span class="nav-text">enable: true, force: true</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#skip-render的使用"><span class="nav-number">9.</span> <span class="nav-text">skip_render的使用</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#drafts文档管理"><span class="nav-number">9.1.</span> <span class="nav-text">_drafts文档管理</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#html文档管理"><span class="nav-number">9.2.</span> <span class="nav-text">html文档管理</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#附件管理"><span class="nav-number">10.</span> <span class="nav-text">附件管理</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#博客百度站长平台自动链接提交"><span class="nav-number">11.</span> <span class="nav-text">博客百度站长平台自动链接提交</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#主动推送"><span class="nav-number">11.1.</span> <span class="nav-text">主动推送</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#自动推送"><span class="nav-number">11.2.</span> <span class="nav-text">自动推送</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#sitemap"><span class="nav-number">11.3.</span> <span class="nav-text">sitemap</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#添加脚本"><span class="nav-number">11.4.</span> <span class="nav-text">添加脚本</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#将个人域名与-GitHub-Pages-的空间绑定"><span class="nav-number">12.</span> <span class="nav-text">将个人域名与 GitHub Pages 的空间绑定</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#发表博文"><span class="nav-number">13.</span> <span class="nav-text">发表博文</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#新建页面"><span class="nav-number">13.1.</span> <span class="nav-text">新建页面</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#新建博文"><span class="nav-number">13.2.</span> <span class="nav-text">新建博文</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#写博文"><span class="nav-number">13.3.</span> <span class="nav-text">写博文</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#发博文"><span class="nav-number">13.4.</span> <span class="nav-text">发博文</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#插入优酷视频"><span class="nav-number">13.5.</span> <span class="nav-text">插入优酷视频</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#hexo多平台同步"><span class="nav-number">14.</span> <span class="nav-text">hexo多平台同步</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#不同步主题"><span class="nav-number">14.1.</span> <span class="nav-text">不同步主题</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#同步主题"><span class="nav-number">14.2.</span> <span class="nav-text">同步主题</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#使用技巧"><span class="nav-number">14.3.</span> <span class="nav-text">使用技巧</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#hexo部署脚本"><span class="nav-number">15.</span> <span class="nav-text">hexo部署脚本</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#hexo迁移到csdn"><span class="nav-number">16.</span> <span class="nav-text">hexo迁移到csdn</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#WordPress迁移"><span class="nav-number">17.</span> <span class="nav-text">WordPress迁移</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#可能出现的错误"><span class="nav-number">18.</span> <span class="nav-text">可能出现的错误</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#问题一"><span class="nav-number">18.1.</span> <span class="nav-text">问题一</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#问题二"><span class="nav-number">18.2.</span> <span class="nav-text">问题二</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#错误三"><span class="nav-number">18.3.</span> <span class="nav-text">错误三</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#错误三-1"><span class="nav-number">18.4.</span> <span class="nav-text">错误三</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#错误四"><span class="nav-number">18.5.</span> <span class="nav-text">错误四</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#错误五"><span class="nav-number">18.6.</span> <span class="nav-text">错误五</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#错误六"><span class="nav-number">18.7.</span> <span class="nav-text">错误六</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#错误七"><span class="nav-number">18.8.</span> <span class="nav-text">错误七</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#错误八"><span class="nav-number">18.9.</span> <span class="nav-text">错误八</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Ubuntu下gulp报错"><span class="nav-number">18.10.</span> <span class="nav-text">Ubuntu下gulp报错</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#公式渲染问题"><span class="nav-number">18.11.</span> <span class="nav-text">公式渲染问题</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#其他问题"><span class="nav-number">18.12.</span> <span class="nav-text">其他问题</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#调试"><span class="nav-number">19.</span> <span class="nav-text">调试</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#参考资料"><span class="nav-number">20.</span> <span class="nav-text">参考资料</span></a></li></ol></div></div><div class="site-overview-wrap sidebar-panel"><div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person"> <img class="site-author-image" itemprop="image" alt="zdaiot" src="/uploads/avatar.png"><p class="site-author-name" itemprop="name">zdaiot</p><div class="site-description" itemprop="description">404NotFound</div></div><div class="site-state-wrap motion-element"><nav class="site-state"><div class="site-state-item site-state-posts"> <a href="/archives/"><span class="site-state-item-count">308</span> <span class="site-state-item-name">日志</span></a></div><div class="site-state-item site-state-categories"> <a href="/categories/"><span class="site-state-item-count">53</span> <span class="site-state-item-name">分类</span></a></div><div class="site-state-item site-state-tags"> <a href="/tags/"><span class="site-state-item-count">366</span> <span class="site-state-item-name">标签</span></a></div></nav></div><div class="links-of-author motion-element"><span class="links-of-author-item"><a href="https://github.com/zdaiot" title="GitHub → https://github.com/zdaiot" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i> GitHub</a></span><span class="links-of-author-item"><a href="mailto:zdaiot@163.com" title="E-Mail → mailto:zdaiot@163.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i> E-Mail</a></span><span class="links-of-author-item"><a href="https://www.zhihu.com/people/" title="知乎 → https://www.zhihu.com/people/" rel="noopener" target="_blank"><i class="fa fa-book fa-fw"></i> 知乎</a></span><span class="links-of-author-item"><a href="https://blog.csdn.net/zdaiot" title="CSDN → https://blog.csdn.net/zdaiot" rel="noopener" target="_blank"><i class="fa fa-copyright fa-fw"></i> CSDN</a></span></div><div class="links-of-blogroll motion-element"><div class="links-of-blogroll-title"><i class="link fa-fw"></i> Links</div><ul class="links-of-blogroll-list"><li class="links-of-blogroll-item"> <a href="https://kalacloud.com" title="https://kalacloud.com" rel="noopener" target="_blank">卡拉云低代码工具</a></li></ul></div></div><div class="back-to-top motion-element"><i class="fa fa-arrow-up"></i> <span>0%</span></div></div></aside><div id="sidebar-dimmer"></div></div></main><footer class="footer"><div class="footer-inner"><div class="beian"><a href="https://beian.miit.gov.cn" rel="noopener" target="_blank">京ICP备2021031914号</a></div><div class="copyright"> &copy; <span itemprop="copyrightYear">2022</span><span class="with-love"><i class="fa fa-heart"></i></span> <span class="author" itemprop="copyrightHolder">zdaiot</span> <span class="post-meta-divider">|</span><span class="post-meta-item-icon"><i class="fa fa-chart-area"></i></span> <span title="站点总字数">2m</span> <span class="post-meta-divider">|</span><span class="post-meta-item-icon"><i class="fa fa-coffee"></i></span> <span title="站点阅读时长">30:19</span></div><div class="addthis_inline_share_toolbox"><script src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5b5e7e498f94b7ad" async="async"></script></div> <span id="timeDate">载入天数...</span><span id="times">载入时分秒...</span><script>var now=new Date;function createtime(){var n=new Date("08/01/2018 00:00:00");now.setTime(now.getTime()+250),days=(now-n)/1e3/60/60/24,dnum=Math.floor(days),hours=(now-n)/1e3/60/60-24*dnum,hnum=Math.floor(hours),1==String(hnum).length&&(hnum="0"+hnum),minutes=(now-n)/1e3/60-1440*dnum-60*hnum,mnum=Math.floor(minutes),1==String(mnum).length&&(mnum="0"+mnum),seconds=(now-n)/1e3-86400*dnum-3600*hnum-60*mnum,snum=Math.round(seconds),1==String(snum).length&&(snum="0"+snum),document.getElementById("timeDate").innerHTML="Run for "+dnum+" Days ",document.getElementById("times").innerHTML=hnum+" Hours "+mnum+" m "+snum+" s"}setInterval("createtime()",250)</script><div class="busuanzi-count"><script data-pjax async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span class="post-meta-item" id="busuanzi_container_site_uv" style="display:none"><span class="post-meta-item-icon"><i class="user"></i></span><span class="site-uv" title="总访客量"><span id="busuanzi_value_site_uv"></span></span></span> <span class="post-meta-divider">|</span><span class="post-meta-item" id="busuanzi_container_site_pv" style="display:none"><span class="post-meta-item-icon"><i class="eye"></i></span><span class="site-pv" title="总访问量"><span id="busuanzi_value_site_pv"></span></span></span></div></div></footer></div><script src="/lib/anime.min.js"></script><script src="//cdn.jsdelivr.net/gh/theme-next/theme-next-pjax@0/pjax.min.js"></script><script src="/lib/velocity/velocity.min.js"></script><script src="/lib/velocity/velocity.ui.min.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/pisces.js"></script><script src="/js/next-boot.js"></script><script>
var pjax = new Pjax({
  selectors: [
    'head title',
    '#page-configurations',
    '.content-wrap',
    '.post-toc-wrap',
    '.languages',
    '#pjax'
  ],
  switches: {
    '.post-toc-wrap': Pjax.switches.innerHTML
  },
  analytics: false,
  cacheBust: false,
  scrollTo : !CONFIG.bookmark.enable
});

window.addEventListener('pjax:success', () => {
  document.querySelectorAll('script[data-pjax], script#page-configurations, #pjax script').forEach(element => {
    var code = element.text || element.textContent || element.innerHTML || '';
    var parent = element.parentNode;
    parent.removeChild(element);
    var script = document.createElement('script');
    if (element.id) {
      script.id = element.id;
    }
    if (element.className) {
      script.className = element.className;
    }
    if (element.type) {
      script.type = element.type;
    }
    if (element.src) {
      script.src = element.src;
      // Force synchronous loading of peripheral JS.
      script.async = false;
    }
    if (element.dataset.pjax !== undefined) {
      script.dataset.pjax = '';
    }
    if (code !== '') {
      script.appendChild(document.createTextNode(code));
    }
    parent.appendChild(script);
  });
  NexT.boot.refresh();
  // Define Motion Sequence & Bootstrap Motion.
  if (CONFIG.motion.enable) {
    NexT.motion.integrator
      .init()
      .add(NexT.motion.middleWares.subMenu)
      .add(NexT.motion.middleWares.postList)
      .bootstrap();
  }
  NexT.utils.updateSidebarPosition();
});
</script><script data-pjax>!function(){var o,n,e=document.getElementsByTagName("link");if(0<e.length)for(i=0;i<e.length;i++)"canonical"==e[i].rel.toLowerCase()&&e[i].href&&(o=e[i].href);n=o?o.split(":")[0]:window.location.protocol.split(":")[0],o||(o=window.location.href),function(){var e=o,i=document.referrer;if(!/([http|https]:\/\/[a-zA-Z0-9\_\.]+\.baidu\.com)/gi.test(e)){var t="https"===String(n).toLowerCase()?"https://sp0.baidu.com/9_Q4simg2RQJ8t7jm9iCKT-xh_/s.gif":"//api.share.baidu.com/s.gif";i?(t+="?r="+encodeURIComponent(document.referrer),e&&(t+="&l="+e)):e&&(t+="?l="+e),(new Image).src=t}}(window)}()</script><script src="/js/local-search.js"></script><div id="pjax"><script>
  if (typeof MathJax === 'undefined') {
    window.MathJax = {
      loader: {
        source: {
          '[tex]/amsCd': '[tex]/amscd',
          '[tex]/AMScd': '[tex]/amscd'
        }
      },
      tex: {
        inlineMath: {'[+]': [['$', '$']]},
        tags: 'ams'
      },
      options: {
        renderActions: {
          findScript: [10, doc => {
            document.querySelectorAll('script[type^="math/tex"]').forEach(node => {
              const display = !!node.type.match(/; *mode=display/);
              const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display);
              const text = document.createTextNode('');
              node.parentNode.replaceChild(text, node);
              math.start = {node: text, delim: '', n: 0};
              math.end = {node: text, delim: '', n: 0};
              doc.math.push(math);
            });
          }, '', false],
          insertedScript: [200, () => {
            document.querySelectorAll('mjx-container').forEach(node => {
              let target = node.parentNode;
              if (target.nodeName.toLowerCase() === 'li') {
                target.parentNode.classList.add('has-jax');
              }
            });
          }, '', false]
        }
      }
    };
    (function () {
      var script = document.createElement('script');
      script.src = '//cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js';
      script.defer = true;
      document.head.appendChild(script);
    })();
  } else {
    MathJax.startup.document.state(0);
    MathJax.texReset();
    MathJax.typeset();
  }
</script><link rel="stylesheet" href="//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.css"><script>
NexT.utils.loadComments(document.querySelector('#gitalk-container'), () => {
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js', () => {
    var gitalk = new Gitalk({
      clientID    : '4800250e682fe873198b',
      clientSecret: '80f7f33f5f8ddfd3944f455cabadda4ff3299147',
      repo        : 'zdaiot.github.io',
      owner       : 'zdaiot',
      admin       : ['zdaiot'],
      id          : '5489bc788d95d8495a3eaef8ad59ff68',
        language: '',
      distractionFreeMode: true
    });
    gitalk.render('gitalk-container');
  }, window.Gitalk);
});
</script></div><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({pluginRootPath:"live2dw/",pluginJsPath:"lib/",pluginModelPath:"assets/",tagMode:!1,log:!1,model:{jsonPath:"/live2dw/assets/wanko.model.json"},display:{position:"left",width:150,height:300},mobile:{show:!0}})</script></body></html>