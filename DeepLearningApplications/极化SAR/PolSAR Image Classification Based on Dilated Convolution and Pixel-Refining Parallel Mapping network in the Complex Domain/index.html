<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#222"><meta name="generator" content="Hexo 3.9.0"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png"><link rel="mask-icon" href="/images/logo.svg" color="#222"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="/lib/font-awesome/css/all.min.css"><script id="hexo-configurations">var NexT=window.NexT||{},CONFIG={hostname:"www.zdaiot.com",root:"/",scheme:"Gemini",version:"7.8.0",exturl:!1,sidebar:{position:"left",display:"post",offset:12,onmobile:!1},copycode:{enable:!0,show_result:!0,style:null},back2top:{enable:!0,sidebar:!0,scrollpercent:!0},bookmark:{enable:!1,color:"#222",save:"auto"},fancybox:!1,mediumzoom:!1,lazyload:!1,pangu:!1,comments:{style:"tabs",active:null,storage:!0,nav:null},algolia:{hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}},localsearch:{enable:!0,trigger:"auto",top_n_per_article:1,unescape:!1,preload:!1},motion:{enable:!0,async:!1,transition:{post_block:"fadeIn",post_header:"slideDownIn",post_body:"slideDownIn",coll_header:"slideLeftIn",sidebar:"slideUpIn"}},path:"search.xml"}</script><meta name="description" content="基本信息 年份：2019 期刊：arxiv 标签：PolSAR, Complex  数据：PolSAR图像数据  创新点 使用了复数域的卷积操作 为了利用少量标记样本实现精确定位和快速分类，提出了一种将Cs-CNN权重直接迁移到C-Dilated CNN中 设计了一种由C-Dilated CNN和复数域encoder-decoder网络组成的a pixel-refining parallel ma"><meta name="keywords" content="complex,PolSAR"><meta property="og:type" content="article"><meta property="og:title" content="PolSAR Image Classification Based on Dilated Convolution and Pixel-Refining Parallel Mapping network in the Complex Domain"><meta property="og:url" content="https://www.zdaiot.com/DeepLearningApplications/极化SAR/PolSAR Image Classification Based on Dilated Convolution and Pixel-Refining Parallel Mapping network in the Complex Domain/index.html"><meta property="og:site_name" content="zdaiot"><meta property="og:description" content="基本信息 年份：2019 期刊：arxiv 标签：PolSAR, Complex  数据：PolSAR图像数据  创新点 使用了复数域的卷积操作 为了利用少量标记样本实现精确定位和快速分类，提出了一种将Cs-CNN权重直接迁移到C-Dilated CNN中 设计了一种由C-Dilated CNN和复数域encoder-decoder网络组成的a pixel-refining parallel ma"><meta property="og:locale" content="zh-CN"><meta property="og:image" content="https://www.zdaiot.com/DeepLearningApplications/极化SAR/PolSAR%20Image%20Classification%20Based%20on%20Dilated%20Convolution%20and%20Pixel-Refining%20Parallel%20Mapping%20network%20in%20the%20Complex%20Domain/image-20200530180418096.png"><meta property="og:image" content="https://www.zdaiot.com/DeepLearningApplications/极化SAR/PolSAR%20Image%20Classification%20Based%20on%20Dilated%20Convolution%20and%20Pixel-Refining%20Parallel%20Mapping%20network%20in%20the%20Complex%20Domain/image-20200530180736978.png"><meta property="og:image" content="https://www.zdaiot.com/DeepLearningApplications/极化SAR/PolSAR%20Image%20Classification%20Based%20on%20Dilated%20Convolution%20and%20Pixel-Refining%20Parallel%20Mapping%20network%20in%20the%20Complex%20Domain/image-20200530180942385.png"><meta property="og:image" content="https://www.zdaiot.com/DeepLearningApplications/极化SAR/PolSAR%20Image%20Classification%20Based%20on%20Dilated%20Convolution%20and%20Pixel-Refining%20Parallel%20Mapping%20network%20in%20the%20Complex%20Domain/image-20200530181601609.png"><meta property="og:image" content="https://www.zdaiot.com/DeepLearningApplications/极化SAR/PolSAR%20Image%20Classification%20Based%20on%20Dilated%20Convolution%20and%20Pixel-Refining%20Parallel%20Mapping%20network%20in%20the%20Complex%20Domain/image-20200530181750288.png"><meta property="og:image" content="https://www.zdaiot.com/DeepLearningApplications/极化SAR/PolSAR%20Image%20Classification%20Based%20on%20Dilated%20Convolution%20and%20Pixel-Refining%20Parallel%20Mapping%20network%20in%20the%20Complex%20Domain/image-20200530182106134.png"><meta property="og:image" content="https://www.zdaiot.com/DeepLearningApplications/极化SAR/PolSAR%20Image%20Classification%20Based%20on%20Dilated%20Convolution%20and%20Pixel-Refining%20Parallel%20Mapping%20network%20in%20the%20Complex%20Domain/image-20200530182238527.png"><meta property="og:image" content="https://www.zdaiot.com/DeepLearningApplications/极化SAR/PolSAR%20Image%20Classification%20Based%20on%20Dilated%20Convolution%20and%20Pixel-Refining%20Parallel%20Mapping%20network%20in%20the%20Complex%20Domain/image-20200530182422350.png"><meta property="og:image" content="https://www.zdaiot.com/DeepLearningApplications/极化SAR/PolSAR%20Image%20Classification%20Based%20on%20Dilated%20Convolution%20and%20Pixel-Refining%20Parallel%20Mapping%20network%20in%20the%20Complex%20Domain/image-20200530183132949.png"><meta property="og:image" content="https://www.zdaiot.com/DeepLearningApplications/极化SAR/PolSAR%20Image%20Classification%20Based%20on%20Dilated%20Convolution%20and%20Pixel-Refining%20Parallel%20Mapping%20network%20in%20the%20Complex%20Domain/image-20200530183230741.png"><meta property="og:image" content="https://www.zdaiot.com/DeepLearningApplications/极化SAR/PolSAR%20Image%20Classification%20Based%20on%20Dilated%20Convolution%20and%20Pixel-Refining%20Parallel%20Mapping%20network%20in%20the%20Complex%20Domain/image-20200530183311910.png"><meta property="og:image" content="https://www.zdaiot.com/DeepLearningApplications/极化SAR/PolSAR%20Image%20Classification%20Based%20on%20Dilated%20Convolution%20and%20Pixel-Refining%20Parallel%20Mapping%20network%20in%20the%20Complex%20Domain/image-20200530183420159.png"><meta property="og:image" content="https://www.zdaiot.com/DeepLearningApplications/极化SAR/PolSAR%20Image%20Classification%20Based%20on%20Dilated%20Convolution%20and%20Pixel-Refining%20Parallel%20Mapping%20network%20in%20the%20Complex%20Domain/image-20200530184448279.png"><meta property="og:image" content="https://www.zdaiot.com/DeepLearningApplications/极化SAR/PolSAR%20Image%20Classification%20Based%20on%20Dilated%20Convolution%20and%20Pixel-Refining%20Parallel%20Mapping%20network%20in%20the%20Complex%20Domain/dilation.gif"><meta property="og:image" content="https://www.zdaiot.com/DeepLearningApplications/极化SAR/PolSAR%20Image%20Classification%20Based%20on%20Dilated%20Convolution%20and%20Pixel-Refining%20Parallel%20Mapping%20network%20in%20the%20Complex%20Domain/image-20200530201052677.png"><meta property="og:image" content="https://www.zdaiot.com/DeepLearningApplications/极化SAR/PolSAR%20Image%20Classification%20Based%20on%20Dilated%20Convolution%20and%20Pixel-Refining%20Parallel%20Mapping%20network%20in%20the%20Complex%20Domain/image-20200530204755809.png"><meta property="og:image" content="https://www.zdaiot.com/DeepLearningApplications/极化SAR/PolSAR%20Image%20Classification%20Based%20on%20Dilated%20Convolution%20and%20Pixel-Refining%20Parallel%20Mapping%20network%20in%20the%20Complex%20Domain/image-20200530212201030.png"><meta property="og:image" content="https://www.zdaiot.com/DeepLearningApplications/极化SAR/PolSAR%20Image%20Classification%20Based%20on%20Dilated%20Convolution%20and%20Pixel-Refining%20Parallel%20Mapping%20network%20in%20the%20Complex%20Domain/image-20200530212216808.png"><meta property="og:image" content="https://www.zdaiot.com/DeepLearningApplications/极化SAR/PolSAR%20Image%20Classification%20Based%20on%20Dilated%20Convolution%20and%20Pixel-Refining%20Parallel%20Mapping%20network%20in%20the%20Complex%20Domain/image-20200530213742171.png"><meta property="og:image" content="https://www.zdaiot.com/DeepLearningApplications/极化SAR/PolSAR%20Image%20Classification%20Based%20on%20Dilated%20Convolution%20and%20Pixel-Refining%20Parallel%20Mapping%20network%20in%20the%20Complex%20Domain/image-20200530212925396.png"><meta property="og:image" content="https://www.zdaiot.com/DeepLearningApplications/极化SAR/PolSAR%20Image%20Classification%20Based%20on%20Dilated%20Convolution%20and%20Pixel-Refining%20Parallel%20Mapping%20network%20in%20the%20Complex%20Domain/image-20200530213257971.png"><meta property="og:image" content="https://www.zdaiot.com/DeepLearningApplications/极化SAR/PolSAR%20Image%20Classification%20Based%20on%20Dilated%20Convolution%20and%20Pixel-Refining%20Parallel%20Mapping%20network%20in%20the%20Complex%20Domain/image-20200530214352215.png"><meta property="og:image" content="https://www.zdaiot.com/DeepLearningApplications/极化SAR/PolSAR%20Image%20Classification%20Based%20on%20Dilated%20Convolution%20and%20Pixel-Refining%20Parallel%20Mapping%20network%20in%20the%20Complex%20Domain/image-20200530214502970.png"><meta property="og:updated_time" content="2020-05-30T08:08:39.000Z"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="PolSAR Image Classification Based on Dilated Convolution and Pixel-Refining Parallel Mapping network in the Complex Domain"><meta name="twitter:description" content="基本信息 年份：2019 期刊：arxiv 标签：PolSAR, Complex  数据：PolSAR图像数据  创新点 使用了复数域的卷积操作 为了利用少量标记样本实现精确定位和快速分类，提出了一种将Cs-CNN权重直接迁移到C-Dilated CNN中 设计了一种由C-Dilated CNN和复数域encoder-decoder网络组成的a pixel-refining parallel ma"><meta name="twitter:image" content="https://www.zdaiot.com/DeepLearningApplications/极化SAR/PolSAR%20Image%20Classification%20Based%20on%20Dilated%20Convolution%20and%20Pixel-Refining%20Parallel%20Mapping%20network%20in%20the%20Complex%20Domain/image-20200530180418096.png"><link rel="canonical" href="https://www.zdaiot.com/DeepLearningApplications/极化SAR/PolSAR Image Classification Based on Dilated Convolution and Pixel-Refining Parallel Mapping network in the Complex Domain/"><script id="page-configurations">CONFIG.page={sidebar:"",isHome:!1,isPost:!0,lang:"zh-CN"}</script><title>PolSAR Image Classification Based on Dilated Convolution and Pixel-Refining Parallel Mapping network in the Complex Domain | zdaiot</title><script data-pjax>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?0b0b58037319da4959d5a3c014160ccd";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script><noscript><style>.sidebar-inner,.use-motion .brand,.use-motion .collection-header,.use-motion .comments,.use-motion .menu-item,.use-motion .pagination,.use-motion .post-block,.use-motion .post-body,.use-motion .post-header{opacity:initial}.use-motion .site-subtitle,.use-motion .site-title{opacity:initial;top:initial}.use-motion .logo-line-before i{left:initial}.use-motion .logo-line-after i{right:initial}</style></noscript></head><body itemscope itemtype="http://schema.org/WebPage"><div class="container use-motion"><div class="headband"></div><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-container"><div class="site-nav-toggle"><div class="toggle" aria-label="切换导航栏"><span class="toggle-line toggle-line-first"></span><span class="toggle-line toggle-line-middle"></span><span class="toggle-line toggle-line-last"></span></div></div><div class="site-meta"><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span><h1 class="site-title">zdaiot</h1><span class="logo-line-after"><i></i></span></a><p class="site-subtitle" itemprop="description">404NotFound</p></div><div class="site-nav-right"><div class="toggle popup-trigger"><i class="fa fa-search fa-fw fa-lg"></i></div></div></div><nav class="site-nav"><ul id="menu" class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i> 首页</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i> 关于</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i> 标签</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i> 分类</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i> 归档</a></li><li class="menu-item menu-item-search"><a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i> 搜索</a></li></ul></nav><div class="search-pop-overlay"><div class="popup search-popup"><div class="search-header"><span class="search-icon"><i class="fa fa-search"></i></span><div class="search-input-container"> <input autocomplete="off" autocapitalize="off" placeholder="搜索..." spellcheck="false" type="search" class="search-input"></div><span class="popup-btn-close"><i class="fa fa-times-circle"></i></span></div><div id="search-result"><div id="no-result"><i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i></div></div></div></div></div></header><main class="main"><div class="main-inner"><div class="content-wrap"><div class="content post posts-expand"><article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://www.zdaiot.com/DeepLearningApplications/极化SAR/PolSAR Image Classification Based on Dilated Convolution and Pixel-Refining Parallel Mapping network in the Complex Domain/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/uploads/avatar.png"><meta itemprop="name" content="zdaiot"><meta itemprop="description" content="404NotFound"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="zdaiot"></span><header class="post-header"><h1 class="post-title" itemprop="name headline"> PolSAR Image Classification Based on Dilated Convolution and Pixel-Refining Parallel Mapping network in the Complex Domain<a href="https://github.com/zdaiot/zdaiot.github.io/tree/hexo/source/_posts/DeepLearningApplications/极化SAR/PolSAR Image Classification Based on Dilated Convolution and Pixel-Refining Parallel Mapping network in the Complex Domain.md" class="post-edit-link" title="编辑" rel="noopener" target="_blank"><i class="fa fa-pencil-alt"></i></a></h1><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i></span> <span class="post-meta-item-text">发表于</span> <time title="创建时间：2020-05-30 16:08:39" itemprop="dateCreated datePublished" datetime="2020-05-30T16:08:39+08:00">2020-05-30</time></span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-folder"></i></span> <span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/DeepLearningApplications/" itemprop="url" rel="index"><span itemprop="name">DeepLearningApplications</span></a></span> ， <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/DeepLearningApplications/极化SAR/" itemprop="url" rel="index"><span itemprop="name">极化SAR</span></a></span></span><span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv" style="display:none"><span class="post-meta-item-icon"><i class="eye"></i></span> <span class="post-meta-item-text">阅读次数：</span><span id="busuanzi_value_page_pv"></span></span><br><span class="post-meta-item" title="本文字数"><span class="post-meta-item-icon"><i class="far fa-file-word"></i></span> <span class="post-meta-item-text">本文字数：</span> <span>5.8k</span></span><span class="post-meta-item" title="阅读时长"><span class="post-meta-item-icon"><i class="far fa-clock"></i></span> <span class="post-meta-item-text">阅读时长 &asymp;</span> <span>5 分钟</span></span></div></header><div class="post-body" itemprop="articleBody"><h2 id="基本信息"><a href="#基本信息" class="headerlink" title="基本信息"></a>基本信息</h2><ul><li>年份：2019</li><li>期刊：arxiv</li><li>标签：PolSAR, Complex</li><li>数据：PolSAR图像数据</li></ul><h2 id="创新点"><a href="#创新点" class="headerlink" title="创新点"></a>创新点</h2><ol><li>使用了复数域的卷积操作</li><li>为了利用少量标记样本实现精确定位和快速分类，提出了一种将Cs-CNN权重直接迁移到C-Dilated CNN中</li><li>设计了一种由C-Dilated CNN和复数域encoder-decoder网络组成的a pixel-refining parallel mapping network in the complex domain(CRPM-Net)来提取上下文语义特征，并对错误分类的训练像素进行纠正以获得更高的准确率。</li></ol><h2 id="创新点来源"><a href="#创新点来源" class="headerlink" title="创新点来源"></a>创新点来源</h2><p>对于PolSAR图像分类，传统方法主要分为两个步骤：特征提取和训练分类器。这种方法通常正确率不是很高。而基于深度学习的方法主要分为两种：</p><ol><li>通过pixel by pixel的方式实现对PolSAR图像的精准分类。但是这种方法在提取相邻像素特征的时候需要消耗大量的重复计算，<strong>在高分辨率图像上浪费大量的时间。</strong></li><li>基于pixel mapping network的方式（如FCN、Segnet等）通过在encoder-decoder结构直接对整张图进行pix-to-pix的像素映射分类，可以解决上述问题。但是这种方法需要输入图像对应的ground truth，而PolSAR图像中ground truth包含大量的unlabeled像素。前人使用将ground truth中未标记的部分置为0来解决这个问题，但是会导致边缘很粗糙。</li></ol><p>不像普通图像，PolSAR数据的协方差矩阵$C$和相干矩阵$T$都是在复数域中的，若直接使用复数域中的卷积操作可以提取到PolSAR图像的相位信息，结果也会更好。</p><p>为了进一步解决基于深度学习方法的现有问题，实现对PolSAR图像的<strong>高效且准确</strong>的分类，作者提出了a pixel-refining parallel mapping network in the complex domain (CRPM-Net) 。</p><h2 id="主要内容"><a href="#主要内容" class="headerlink" title="主要内容"></a>主要内容</h2><h3 id="实数域的CNN"><a href="#实数域的CNN" class="headerlink" title="实数域的CNN"></a>实数域的CNN</h3><p>CNN主要由卷积层、激励层和池化层组成。示意图如下：</p><p><img src="/DeepLearningApplications/极化SAR/PolSAR Image Classification Based on Dilated Convolution and Pixel-Refining Parallel Mapping network in the Complex Domain/image-20200530180418096.png" alt="image-20200530180418096" style="zoom:15%"></p><h3 id="复数域的CNN"><a href="#复数域的CNN" class="headerlink" title="复数域的CNN"></a>复数域的CNN</h3><h4 id="前向传播"><a href="#前向传播" class="headerlink" title="前向传播"></a>前向传播</h4><p>假设复数域输入为$X$，维度为$m \times n \times c$，可以将其拆分为实数部分和虚数部分，如下所示：</p><p><img src="/DeepLearningApplications/极化SAR/PolSAR Image Classification Based on Dilated Convolution and Pixel-Refining Parallel Mapping network in the Complex Domain/image-20200530180736978.png" alt="image-20200530180736978" style="zoom:80%"></p><p>同样的，复数域的卷积核$W$也可以拆分为实数和虚数两部分。</p><p><img src="/DeepLearningApplications/极化SAR/PolSAR Image Classification Based on Dilated Convolution and Pixel-Refining Parallel Mapping network in the Complex Domain/image-20200530180942385.png" alt="image-20200530180942385" style="zoom:80%"></p><p>可以看到输入$X$和卷积核$w_o$的通道数均为$c$。记实数域的卷积操作为$Conv(\cdot)$，复数域的卷积操作为${\mathbb C}conv(\cdot)$，则复数域卷积的第$o$个卷积核输出为：</p><p><img src="/DeepLearningApplications/极化SAR/PolSAR Image Classification Based on Dilated Convolution and Pixel-Refining Parallel Mapping network in the Complex Domain/image-20200530181601609.png" alt="image-20200530181601609" style="zoom:80%"></p><p>其中，$w_{o_r}$和$w_{o_i}$分别为第$o$个卷积核的实部和虚部部分，定义为：</p><p><img src="/DeepLearningApplications/极化SAR/PolSAR Image Classification Based on Dilated Convolution and Pixel-Refining Parallel Mapping network in the Complex Domain/image-20200530181750288.png" alt="image-20200530181750288" style="zoom:80%"></p><p>从公式(4)中可以看到，其实复数域的卷积可以分为四部分，分别是$X_r$和$w_{o_r}$的普通卷积、$X_i$和$w_{o_r}$的普通卷积、$X_r$和$w_{o_i}$的普通卷积、$X_r$和$w_{o_i}$的普通卷积，如下图所示：</p><p><img src="/DeepLearningApplications/极化SAR/PolSAR Image Classification Based on Dilated Convolution and Pixel-Refining Parallel Mapping network in the Complex Domain/image-20200530182106134.png" alt="image-20200530182106134" style="zoom:80%"></p><p>对于激励函数而言，分别对实部和虚部分别经过激励函数，复数域的ReLU激励函数为：</p><p><img src="/DeepLearningApplications/极化SAR/PolSAR Image Classification Based on Dilated Convolution and Pixel-Refining Parallel Mapping network in the Complex Domain/image-20200530182238527.png" alt="image-20200530182238527" style="zoom:80%"></p><h4 id="反向传播"><a href="#反向传播" class="headerlink" title="反向传播"></a>反向传播</h4><p>损失函数关于$w_{ko}$（第$o$个卷积核第$k$个通道）的梯度为：</p><p><img src="/DeepLearningApplications/极化SAR/PolSAR Image Classification Based on Dilated Convolution and Pixel-Refining Parallel Mapping network in the Complex Domain/image-20200530182422350.png" alt="image-20200530182422350" style="zoom:80%"></p><p>其中虚部可以通过如下方式计算：</p><p><img src="/DeepLearningApplications/极化SAR/PolSAR Image Classification Based on Dilated Convolution and Pixel-Refining Parallel Mapping network in the Complex Domain/image-20200530183132949.png" alt="image-20200530183132949" style="zoom:80%"></p><p>实部可以通过如下方式计算：</p><p><img src="/DeepLearningApplications/极化SAR/PolSAR Image Classification Based on Dilated Convolution and Pixel-Refining Parallel Mapping network in the Complex Domain/image-20200530183230741.png" alt="image-20200530183230741" style="zoom:80%"></p><p>在求损失时，$w_{ko}$的负梯度如下所示：</p><p><img src="/DeepLearningApplications/极化SAR/PolSAR Image Classification Based on Dilated Convolution and Pixel-Refining Parallel Mapping network in the Complex Domain/image-20200530183311910.png" alt="image-20200530183311910" style="zoom:80%"></p><p>经过第$t$次迭代后，$w_{ko}^t$的更新方式如下，其中$\eta$ 为学习率：</p><p><img src="/DeepLearningApplications/极化SAR/PolSAR Image Classification Based on Dilated Convolution and Pixel-Refining Parallel Mapping network in the Complex Domain/image-20200530183420159.png" alt="image-20200530183420159" style="zoom:80%"></p><p>根据公式(10)可以看到，卷积核的实部和虚部是分别进行更新的。</p><h3 id="Structure-of-Complex-Cross-Convolution-Neural-Network"><a href="#Structure-of-Complex-Cross-Convolution-Neural-Network" class="headerlink" title="Structure of Complex Cross-Convolution Neural Network"></a>Structure of Complex Cross-Convolution Neural Network</h3><p>为了提取PolSAR图像的散射特征和相位信息，作者先使用了一个有三个卷积层的复数神经网络Cs-CNN，结构如图3(a)所示。结构分为为$3\times 3$卷积+$2 \times 2$最大池化、$3\times 3$卷积+$2 \times 2$最大池化、$1 \times 1$卷积。值得注意的是，这样的池化层的步长为2，卷积层和接下来要介绍的C-Dilated CNN中的卷积层均没padding操作，所以每次经过卷积后图像尺寸都会缩小2。最后一个$1 \times 1$卷积的作用是将48维度的特征向量映射到类别数维度。输入维度为$10 \times 10$，最终可以得到$1 \times 1$大小的复数特征图。为了将$1 \times 1$大小的复数特征图和真实的实值类标作对比得到损失，将$1 \times 1$大小的特征图拆分成实数部分、虚数部分、幅度部分、相位部分，然后紧跟一个$4 \times num_classes$的全连接层得到每一个类别的得分（论文说是大小为$4 \times 1$的全连接层，但是我认为这里应该写错了）。</p><p><img src="/DeepLearningApplications/极化SAR/PolSAR Image Classification Based on Dilated Convolution and Pixel-Refining Parallel Mapping network in the Complex Domain/image-20200530184448279.png" alt="image-20200530184448279" style="zoom:80%"></p><h3 id="Transfer-Dilated-Convolutional-Neural-Network-in-the-complex-domain"><a href="#Transfer-Dilated-Convolutional-Neural-Network-in-the-complex-domain" class="headerlink" title="Transfer Dilated Convolutional Neural Network in the complex domain"></a>Transfer Dilated Convolutional Neural Network in the complex domain</h3><p>Cs-CNN在提取相邻像素特征的时候，会充斥着大量的重复计算，当处理整张图片的时候非常低效。为了提高Cs-CNN的速度，将它的参数迁移到一个复数域空洞卷积神经网络里，称为C-Dailated CNN，实现输入和输出类别的一一映射，如图3(b)所示。C-Dailated CNN和Cs-CNN主要有以下几个不同点：</p><ol><li><p>第一个$3 \times 3$卷积层的padding从valid变成了same</p></li><li><p>第二个$3 \times 3$卷积层的padding从valid变成了same，且变成了空洞卷积，增加了感受野</p><p><img src="/DeepLearningApplications/极化SAR/PolSAR Image Classification Based on Dilated Convolution and Pixel-Refining Parallel Mapping network in the Complex Domain/dilation.gif" style="zoom:80%"></p></li><li><p>池化层的步长改为了1，且padding方式改为了same</p></li></ol><p>通过上述更改，使得输入和输出的尺寸相同，可以实现对整个输入按照像素点分类，而Cs-CNN只能实现对一个点进行分类，所以加快了速度。<strong>当然直接这样迁移过来，会有一部分精度的损失，后面也有实验证明。</strong></p><p><strong>疑惑：</strong></p><ol><li>为什么只有第二个卷积改为了空洞卷积，猜测可能都变成空洞卷积结果会变得更差。</li><li>Cs-CNN只对一个像素点进行分类，对应原图哪个像素点呢？高光谱分类通常取奇数大小的划窗，这样可以让其中心点作为整个划窗窗口的类别，这里是怎么处理的？答：如$8 \times 8$的邻域，则取左上大小为4，右下大小为3。</li></ol><h3 id="Encoder-Decoder-Network-in-the-complex-domain"><a href="#Encoder-Decoder-Network-in-the-complex-domain" class="headerlink" title="Encoder-Decoder Network in the complex domain"></a>Encoder-Decoder Network in the complex domain</h3><p>上面说了，直接将Cs-CNN的权重迁移到C-Dailated CNN中，虽然可以加快分类速度，但是相应的分类准确率有点下降，为了解决这个问题，作者引入了Encoder-Decoder结构，提取上下文信息。和C-Dailated CNN相同，复数域的Encoder-Decoder结构也能在考虑相位信息的情况下实现高效的pixel mapping分类，网络结构如图4(c)所示：</p><p><img src="/DeepLearningApplications/极化SAR/PolSAR Image Classification Based on Dilated Convolution and Pixel-Refining Parallel Mapping network in the Complex Domain/image-20200530201052677.png" alt="image-20200530201052677" style="zoom:80%"></p><p>在PolSAR分类任务中，目标的上下文特征通常比较弱，除了稀疏的人工建筑物，如道路和建筑。因此Encoder-Decoder结构中卷积核的感受野不需要太大，只包含了和Cs-CNN相同的三个可训练的复数卷积层，特征图被4倍的下采样，为了实现pixel mapping，这里使用了两个反卷积操作。同样的使用$1 \times 1$的卷积将特征图的channel从48降到了num_classes。因为decoder操作会丢失很多地物的局部信息，导致结果比较操作，因此这里采用了和U-net相同的结构，将低层特征和高层特征沿着channel进行融合（若维度不同，则先进行crop操作），同样的因为卷积操作的存在会导致特征图越来越小，因此这里很简单的将输入图像尺寸的边界重复多次直到维度从$128 \times 128$变成了$134 \times 134$。</p><blockquote><p>至于这里为什么直接从$128 \times 128$扩充到$134 \times 134$，而不是在卷积过程中进行补零，个人猜测这样可以更多的使用到PolSAR数据，分类更加精准。</p></blockquote><h3 id="Structure-of-CRPM-Net-and-Training-Framework"><a href="#Structure-of-CRPM-Net-and-Training-Framework" class="headerlink" title="Structure of CRPM-Net and Training Framework"></a>Structure of CRPM-Net and Training Framework</h3><p><strong>为了兼顾定位精度（C-Dailated CNN）和上下文语义特征（Encoder-Decoder network）</strong>，作者将C-Dailated CNN的24 channel特征图（也就是两个$3 \times 3$卷积后得到的特征图）和decoder网络的24 channel特征图拼接在一起，如图4(c)所示，即可得到CRPM-Net。</p><p>C-Dailated CNN和Encoder-Decoder network在训练过程中，都需要与输入大小相同的类标图，但是这个在PolSAR图像中通常无法得到，为了解决这个问题，作者提出了两阶段的训练方法：</p><ol><li>使用少量的标记样本训练Cs-CNN网络，然后将Cs-CNN网络的权重迁移到C-Dailated CNN和Encoder-Decoder network中</li><li>使用Encoder-Decoder network提取上下文信息，并纠正Cs-CNN和C-Dailated CNN中分错的样本。</li></ol><p>在实验中，拥有少量训练样本的类别通常很难进行分类，为了解决这个问题，作者使用了focal loss，将更多的注意力放在少量样本或者更大训练误差的样本上，假设Cs-CNN的复数输出值为$z’=\lambda e^{j \varphi}$，则focal loss的定义式如下：</p><p><img src="/DeepLearningApplications/极化SAR/PolSAR Image Classification Based on Dilated Convolution and Pixel-Refining Parallel Mapping network in the Complex Domain/image-20200530204755809.png" alt="image-20200530204755809" style="zoom:80%"></p><p>其中，$z$表示当前像素的真实类别，$p(z’) \in {\mathbb R}^{class_num}$，表示属于各个类别的概率，$\lambda、\varphi$分别表示幅度和相位，另外，个人觉得$w_r、w_i、w_m、w_p$的维度应该是$1 \times class_num$，这样才能实现softmax函数。而且个人觉得focal loss的表达式好像也有问题，缺了指示变量。</p><p>CRPM-Net的训练过程如下：</p><p><img src="/DeepLearningApplications/极化SAR/PolSAR Image Classification Based on Dilated Convolution and Pixel-Refining Parallel Mapping network in the Complex Domain/image-20200530212201030.png" alt="image-20200530212201030"></p><p><img src="/DeepLearningApplications/极化SAR/PolSAR Image Classification Based on Dilated Convolution and Pixel-Refining Parallel Mapping network in the Complex Domain/image-20200530212216808.png" alt="image-20200530212216808"></p><p>因为PolSAR图像中各个类别的种类数不同，因此这里针对不同类别采用了不同的采样频率，使得最终的各个类别的训练样本个数接近。以每个像素点为中心的$10 \times 10$邻域被用来训练Cs-CNN，损失函数采用facal loss。然后将Cs-CNN的权重迁移到C-Dailated CNN中，可以在较小精度损失情况下实现pixel mapping。然后将Cs-CNN权重迁移到CRPM-Net中。最后，基于C-Dailated CNN获得的dense score map和high-weighted training pixels，对CRPM-Net的decoder部分进行训练，以获取上下文语义特征，并对Cs-CNN和C-Dailated CNN的误分类像素进行纠正。和Cs-CNN 和 C-Dilated CNN相似，这样将得到的复数特征图拆分成实数部分、虚数部分、幅度部分、相位部分，然后紧跟一个$4 \times num_classes$的全连接层得到每一个类别的得分，采用交叉熵计算损失并更新decoder部分。</p><h2 id="实验结果"><a href="#实验结果" class="headerlink" title="实验结果"></a>实验结果</h2><p>这里作者使用了好几个数据集，我只挑出其中的一个数据集进行说明。</p><p><strong>在输入到网络之前，作者先使用了refined Lee algorithm对协方差矩阵$C$进行了处理</strong>。作者将复数域的网络和实值网络进行了对比。网络分别为CNN、Dilated CNN、 RPM-Net和 C-Dilated CNN、CRPM-Net。为了对比更加公平，作者保持实值网络和复数网络的DoF(the freedom of degree)一致。</p><p><img src="/DeepLearningApplications/极化SAR/PolSAR Image Classification Based on Dilated Convolution and Pixel-Refining Parallel Mapping network in the Complex Domain/image-20200530213742171.png" alt="image-20200530213742171" style="zoom:80%"></p><p>其中实值网络的输入为9维实数向量：</p><p><img src="/DeepLearningApplications/极化SAR/PolSAR Image Classification Based on Dilated Convolution and Pixel-Refining Parallel Mapping network in the Complex Domain/image-20200530212925396.png" alt="image-20200530212925396" style="zoom:80%"></p><p>复数网络的输入为6维复数向量：$features_{imag}=[ C’_{11},C’_{22},C’_{33},C’_{12},C’_{13},C’_{23}]$，其中$C_{11}、C_{22}、C_{33}$的虚数部分为$10^{-8}$。另外，<strong>每个维度都采用了标准化</strong>，表达式如下：</p><p><img src="/DeepLearningApplications/极化SAR/PolSAR Image Classification Based on Dilated Convolution and Pixel-Refining Parallel Mapping network in the Complex Domain/image-20200530213257971.png" alt="image-20200530213257971" style="zoom:80%"></p><p>从图5(b1)可以看到，经过标准化后收敛速度更快切更加精准。从图5(b2)可以看到，复数神经网络的收敛速度更快切更加精准。</p><p>对于Flevoland-Netherlands区域，其图像大小为$1279 \times 1024$，包含16类，使用L,P,C通道合成pseudo RGB图以及其真实类别如下所示。其中，<strong>黑色的像素点是不参与实验的</strong>。</p><p><img src="/DeepLearningApplications/极化SAR/PolSAR Image Classification Based on Dilated Convolution and Pixel-Refining Parallel Mapping network in the Complex Domain/image-20200530214352215.png" alt="image-20200530214352215"></p><p>每个种类的样本数以及分类结果如下所示：</p><p><img src="/DeepLearningApplications/极化SAR/PolSAR Image Classification Based on Dilated Convolution and Pixel-Refining Parallel Mapping network in the Complex Domain/image-20200530214502970.png" alt="image-20200530214502970" style="zoom:67%"></p><ol><li>从表格中CNN和Cs-CNN两列来看，CNN的准确率比Cs-CNN的OA、Kappa大概都要低1.1%。然而，Cs-CNN的分类速度是CNN的大概两倍</li><li>直接将Cs-CNN的权重迁移到C-Dilated CNN中，OA大概下降了0.63%，但是后者的速度比CNN还要快90倍</li><li>CRPM-Net实现了最好的分类精度，且在整张图上耗时4.68秒，比Cs-CNN快了83倍，比C-Dilated CNN慢了0.6秒。</li></ol><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>作者从pixel by pixel的方式比较耗时，而pixel mapping network的方法高效，但是因ground truth缺失而导致分类不够精准的角度出发。</p><ol><li>首先训练了一个pixel by pixel的网络Cs-CNN</li><li>然后将权重迁移到C-Dilated CNN，实现pixel mapping分类，此时虽然解决了分类耗时的问题，但是精度下降了</li><li>为了进一步解决这个问题，引入了一个encoder-decoder网络，将Cs-CNN的权重迁移到encoder部分。然后将C-Dilated CNN和encoder-decoder网络结合，以便于实现更好的定位且有效的提取上下文信息。得到了CRPM-Net。以C-Dilated CNN的输出作为ground truth训练CRPM-Net，并使用真实类别对C-Dilated CNN的输出进行调整与加权。</li></ol><blockquote><p>若是直接将Cs-CNN迁移到encoder-decoder网络，则没有ground truth进行训练，所以这三部分缺一不可。</p></blockquote><p>本文虽然开源了代码，但是代码写的很乱，而且缺失部分函数，完全跑不通，且感觉文内有部分错误。思路虽然麻烦，但是感觉还是有借鉴意义的。</p></div><div><div style="text-align:center;color:#ccc;font-size:14px">------ 本文结束------</div></div><div class="reward-container"><div>坚持原创技术分享，您的支持将鼓励我继续创作！</div> <button onclick='var qr=document.getElementById("qr");qr.style.display="none"===qr.style.display?"block":"none"'> 打赏</button><div id="qr" style="display:none"><div style="display:inline-block"> <img src="/uploads/wechat.png" alt="zdaiot 微信支付"><p>微信支付</p></div><div style="display:inline-block"> <img src="/uploads/aipay.jpg" alt="zdaiot 支付宝"><p>支付宝</p></div></div></div><div><ul class="post-copyright"><li class="post-copyright-author"> <strong>本文作者：</strong> zdaiot</li><li class="post-copyright-link"> <strong>本文链接：</strong> <a href="https://www.zdaiot.com/DeepLearningApplications/极化SAR/PolSAR Image Classification Based on Dilated Convolution and Pixel-Refining Parallel Mapping network in the Complex Domain/" title="PolSAR Image Classification Based on Dilated Convolution and Pixel-Refining Parallel Mapping network in the Complex Domain">https://www.zdaiot.com/DeepLearningApplications/极化SAR/PolSAR Image Classification Based on Dilated Convolution and Pixel-Refining Parallel Mapping network in the Complex Domain/</a></li><li class="post-copyright-license"> <strong>版权声明：</strong> 本博客所有文章除特别声明外，均采用<a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="noopener" target="_blank"><i class="fab fa-fw fa-creative-commons"></i> BY-NC-SA</a> 许可协议。转载请注明出处！</li></ul></div><div class="followme"><p>欢迎关注我的其它发布渠道</p><div class="social-list"><div class="social-item"><a target="_blank" class="social-link" href="/uploads/wechat-qcode.jpg"><span class="icon"><i class="fab fa-weixin"></i></span> <span class="label">WeChat</span></a></div></div></div><footer class="post-footer"><div class="post-tags"><a href="/tags/complex/" rel="tag"><i class="fa fa-tag"></i> complex</a><a href="/tags/PolSAR/" rel="tag"><i class="fa fa-tag"></i> PolSAR</a></div><div class="post-nav"><div class="post-nav-item"><a href="/DeepLearningApplications/图像分类/ResNeSt：Split-Attention Networks/" rel="prev" title="ResNeSt：Split-Attention Networks"><i class="fa fa-chevron-left"></i> ResNeSt：Split-Attention Networks</a></div><div class="post-nav-item"> <a href="/DeepLearningApplications/极化SAR/基于CNN的PolSAR图像分类/" rel="next" title="基于CNN的PolSAR图像分类">基于CNN的PolSAR图像分类<i class="fa fa-chevron-right"></i></a></div></div></footer></article></div><div class="comments" id="gitalk-container"></div><script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script></div><div class="toggle sidebar-toggle"><span class="toggle-line toggle-line-first"></span><span class="toggle-line toggle-line-middle"></span><span class="toggle-line toggle-line-last"></span></div><aside class="sidebar"><div class="sidebar-inner"><ul class="sidebar-nav motion-element"><li class="sidebar-nav-toc"> 文章目录</li><li class="sidebar-nav-overview"> 站点概览</li></ul><div class="post-toc-wrap sidebar-panel"><div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#基本信息"><span class="nav-number">1.</span> <span class="nav-text">基本信息</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#创新点"><span class="nav-number">2.</span> <span class="nav-text">创新点</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#创新点来源"><span class="nav-number">3.</span> <span class="nav-text">创新点来源</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#主要内容"><span class="nav-number">4.</span> <span class="nav-text">主要内容</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#实数域的CNN"><span class="nav-number">4.1.</span> <span class="nav-text">实数域的CNN</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#复数域的CNN"><span class="nav-number">4.2.</span> <span class="nav-text">复数域的CNN</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#前向传播"><span class="nav-number">4.2.1.</span> <span class="nav-text">前向传播</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#反向传播"><span class="nav-number">4.2.2.</span> <span class="nav-text">反向传播</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Structure-of-Complex-Cross-Convolution-Neural-Network"><span class="nav-number">4.3.</span> <span class="nav-text">Structure of Complex Cross-Convolution Neural Network</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Transfer-Dilated-Convolutional-Neural-Network-in-the-complex-domain"><span class="nav-number">4.4.</span> <span class="nav-text">Transfer Dilated Convolutional Neural Network in the complex domain</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Encoder-Decoder-Network-in-the-complex-domain"><span class="nav-number">4.5.</span> <span class="nav-text">Encoder-Decoder Network in the complex domain</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Structure-of-CRPM-Net-and-Training-Framework"><span class="nav-number">4.6.</span> <span class="nav-text">Structure of CRPM-Net and Training Framework</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#实验结果"><span class="nav-number">5.</span> <span class="nav-text">实验结果</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#总结"><span class="nav-number">6.</span> <span class="nav-text">总结</span></a></li></ol></div></div><div class="site-overview-wrap sidebar-panel"><div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person"> <img class="site-author-image" itemprop="image" alt="zdaiot" src="/uploads/avatar.png"><p class="site-author-name" itemprop="name">zdaiot</p><div class="site-description" itemprop="description">404NotFound</div></div><div class="site-state-wrap motion-element"><nav class="site-state"><div class="site-state-item site-state-posts"> <a href="/archives/"><span class="site-state-item-count">305</span> <span class="site-state-item-name">日志</span></a></div><div class="site-state-item site-state-categories"> <a href="/categories/"><span class="site-state-item-count">52</span> <span class="site-state-item-name">分类</span></a></div><div class="site-state-item site-state-tags"> <a href="/tags/"><span class="site-state-item-count">364</span> <span class="site-state-item-name">标签</span></a></div></nav></div><div class="links-of-author motion-element"><span class="links-of-author-item"><a href="https://github.com/zdaiot" title="GitHub → https://github.com/zdaiot" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i> GitHub</a></span><span class="links-of-author-item"><a href="mailto:zdaiot@163.com" title="E-Mail → mailto:zdaiot@163.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i> E-Mail</a></span><span class="links-of-author-item"><a href="https://www.zhihu.com/people/" title="知乎 → https://www.zhihu.com/people/" rel="noopener" target="_blank"><i class="fa fa-book fa-fw"></i> 知乎</a></span><span class="links-of-author-item"><a href="https://blog.csdn.net/zdaiot" title="CSDN → https://blog.csdn.net/zdaiot" rel="noopener" target="_blank"><i class="fa fa-copyright fa-fw"></i> CSDN</a></span></div></div><div class="back-to-top motion-element"><i class="fa fa-arrow-up"></i> <span>0%</span></div></div></aside><div id="sidebar-dimmer"></div></div></main><footer class="footer"><div class="footer-inner"><div class="beian"><a href="https://beian.miit.gov.cn" rel="noopener" target="_blank">陕ICP备19018820号</a></div><div class="copyright"> &copy; <span itemprop="copyrightYear">2021</span><span class="with-love"><i class="fa fa-heart"></i></span> <span class="author" itemprop="copyrightHolder">zdaiot</span> <span class="post-meta-divider">|</span><span class="post-meta-item-icon"><i class="fa fa-chart-area"></i></span> <span title="站点总字数">2m</span> <span class="post-meta-divider">|</span><span class="post-meta-item-icon"><i class="fa fa-coffee"></i></span> <span title="站点阅读时长">30:05</span></div><div class="addthis_inline_share_toolbox"><script src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5b5e7e498f94b7ad" async="async"></script></div> <span id="timeDate">载入天数...</span><span id="times">载入时分秒...</span><script>var now=new Date;function createtime(){var n=new Date("08/01/2018 00:00:00");now.setTime(now.getTime()+250),days=(now-n)/1e3/60/60/24,dnum=Math.floor(days),hours=(now-n)/1e3/60/60-24*dnum,hnum=Math.floor(hours),1==String(hnum).length&&(hnum="0"+hnum),minutes=(now-n)/1e3/60-1440*dnum-60*hnum,mnum=Math.floor(minutes),1==String(mnum).length&&(mnum="0"+mnum),seconds=(now-n)/1e3-86400*dnum-3600*hnum-60*mnum,snum=Math.round(seconds),1==String(snum).length&&(snum="0"+snum),document.getElementById("timeDate").innerHTML="Run for "+dnum+" Days ",document.getElementById("times").innerHTML=hnum+" Hours "+mnum+" m "+snum+" s"}setInterval("createtime()",250)</script><div class="busuanzi-count"><script data-pjax async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span class="post-meta-item" id="busuanzi_container_site_uv" style="display:none"><span class="post-meta-item-icon"><i class="user"></i></span><span class="site-uv" title="总访客量"><span id="busuanzi_value_site_uv"></span></span></span> <span class="post-meta-divider">|</span><span class="post-meta-item" id="busuanzi_container_site_pv" style="display:none"><span class="post-meta-item-icon"><i class="eye"></i></span><span class="site-pv" title="总访问量"><span id="busuanzi_value_site_pv"></span></span></span></div></div></footer></div><script src="/lib/anime.min.js"></script><script src="//cdn.jsdelivr.net/gh/theme-next/theme-next-pjax@0/pjax.min.js"></script><script src="/lib/velocity/velocity.min.js"></script><script src="/lib/velocity/velocity.ui.min.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/pisces.js"></script><script src="/js/next-boot.js"></script><script>
var pjax = new Pjax({
  selectors: [
    'head title',
    '#page-configurations',
    '.content-wrap',
    '.post-toc-wrap',
    '.languages',
    '#pjax'
  ],
  switches: {
    '.post-toc-wrap': Pjax.switches.innerHTML
  },
  analytics: false,
  cacheBust: false,
  scrollTo : !CONFIG.bookmark.enable
});

window.addEventListener('pjax:success', () => {
  document.querySelectorAll('script[data-pjax], script#page-configurations, #pjax script').forEach(element => {
    var code = element.text || element.textContent || element.innerHTML || '';
    var parent = element.parentNode;
    parent.removeChild(element);
    var script = document.createElement('script');
    if (element.id) {
      script.id = element.id;
    }
    if (element.className) {
      script.className = element.className;
    }
    if (element.type) {
      script.type = element.type;
    }
    if (element.src) {
      script.src = element.src;
      // Force synchronous loading of peripheral JS.
      script.async = false;
    }
    if (element.dataset.pjax !== undefined) {
      script.dataset.pjax = '';
    }
    if (code !== '') {
      script.appendChild(document.createTextNode(code));
    }
    parent.appendChild(script);
  });
  NexT.boot.refresh();
  // Define Motion Sequence & Bootstrap Motion.
  if (CONFIG.motion.enable) {
    NexT.motion.integrator
      .init()
      .add(NexT.motion.middleWares.subMenu)
      .add(NexT.motion.middleWares.postList)
      .bootstrap();
  }
  NexT.utils.updateSidebarPosition();
});
</script><script data-pjax>!function(){var o,n,e=document.getElementsByTagName("link");if(0<e.length)for(i=0;i<e.length;i++)"canonical"==e[i].rel.toLowerCase()&&e[i].href&&(o=e[i].href);n=o?o.split(":")[0]:window.location.protocol.split(":")[0],o||(o=window.location.href),function(){var e=o,i=document.referrer;if(!/([http|https]:\/\/[a-zA-Z0-9\_\.]+\.baidu\.com)/gi.test(e)){var t="https"===String(n).toLowerCase()?"https://sp0.baidu.com/9_Q4simg2RQJ8t7jm9iCKT-xh_/s.gif":"//api.share.baidu.com/s.gif";i?(t+="?r="+encodeURIComponent(document.referrer),e&&(t+="&l="+e)):e&&(t+="?l="+e),(new Image).src=t}}(window)}()</script><script src="/js/local-search.js"></script><div id="pjax"><script>
  if (typeof MathJax === 'undefined') {
    window.MathJax = {
      loader: {
        source: {
          '[tex]/amsCd': '[tex]/amscd',
          '[tex]/AMScd': '[tex]/amscd'
        }
      },
      tex: {
        inlineMath: {'[+]': [['$', '$']]},
        tags: 'ams'
      },
      options: {
        renderActions: {
          findScript: [10, doc => {
            document.querySelectorAll('script[type^="math/tex"]').forEach(node => {
              const display = !!node.type.match(/; *mode=display/);
              const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display);
              const text = document.createTextNode('');
              node.parentNode.replaceChild(text, node);
              math.start = {node: text, delim: '', n: 0};
              math.end = {node: text, delim: '', n: 0};
              doc.math.push(math);
            });
          }, '', false],
          insertedScript: [200, () => {
            document.querySelectorAll('mjx-container').forEach(node => {
              let target = node.parentNode;
              if (target.nodeName.toLowerCase() === 'li') {
                target.parentNode.classList.add('has-jax');
              }
            });
          }, '', false]
        }
      }
    };
    (function () {
      var script = document.createElement('script');
      script.src = '//cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js';
      script.defer = true;
      document.head.appendChild(script);
    })();
  } else {
    MathJax.startup.document.state(0);
    MathJax.texReset();
    MathJax.typeset();
  }
</script><link rel="stylesheet" href="//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.css"><script>
NexT.utils.loadComments(document.querySelector('#gitalk-container'), () => {
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js', () => {
    var gitalk = new Gitalk({
      clientID    : '4800250e682fe873198b',
      clientSecret: '80f7f33f5f8ddfd3944f455cabadda4ff3299147',
      repo        : 'zdaiot.github.io',
      owner       : 'zdaiot',
      admin       : ['zdaiot'],
      id          : 'd0f2cc628c104b9041b707d1437f5699',
        language: '',
      distractionFreeMode: true
    });
    gitalk.render('gitalk-container');
  }, window.Gitalk);
});
</script></div><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({pluginRootPath:"live2dw/",pluginJsPath:"lib/",pluginModelPath:"assets/",tagMode:!1,log:!1,model:{jsonPath:"/live2dw/assets/wanko.model.json"},display:{position:"left",width:150,height:300},mobile:{show:!0}})</script></body></html>